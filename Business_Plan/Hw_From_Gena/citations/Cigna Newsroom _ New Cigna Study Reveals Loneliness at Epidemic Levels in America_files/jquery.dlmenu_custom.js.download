!function($,window){"use strict";$.DLMenu=function(options,element){this.$el=$(element),this._init(options)},$.DLMenu.defaults={animationClasses:{classin:"dl-animate-in-1",classout:"dl-animate-out-1"}},$.DLMenu.prototype={_init:function(options){this.options=$.extend(!0,{},$.DLMenu.defaults,options),this._config();var animEndEventNames={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};this.animEndEventName=animEndEventNames[Modernizr.prefixed("animation")]+".dlmenu",this.transEndEventName=transEndEventNames[Modernizr.prefixed("transition")]+".dlmenu",this.supportAnimations=Modernizr.cssanimations,this.supportTransitions=Modernizr.csstransitions,this._initEvents(),this.overrideBack=!1},_config:function(){this.open=!1,this.$menu=this.$el.children("ul.dl-menu"),this.$menuitems=this.$menu.find("li:not(.dl-back)"),this.$back=this.$menu.find("li.dl-back")},_initEvents:function(){var self=this;this.$menuitems.on("click.dlmenu",function(event){event.stopPropagation(),$(window).scrollTop(0);var $item=$(this),$submenu=$item.children("ul.dl-submenu");if($submenu.length>0){$(".dl-menu").find(".caret").hide(),self.$menu=$submenu.parents(".dl-menu"),$(".dl-menu").index(self.$menu)>0&&$(".dl-menu").not(self.$menu).slideUp();var $flyin=$submenu.clone().css({opacity:0,display:"none1"}).insertAfter(self.$menu),onAnimationEndFn=function(){self.$menu.off(self.animEndEventName).removeClass(self.options.animationClasses.classout).addClass("dl-subview"),$item.addClass("dl-subviewopen").parents(".dl-subviewopen:first").removeClass("dl-subviewopen").addClass("dl-subview"),$flyin.remove(),$(".dl-menu").find(".caret").show()};return setTimeout(function(){$flyin.addClass(self.options.animationClasses.classin),self.$menu.addClass(self.options.animationClasses.classout),self.supportAnimations?self.$menu.on(self.animEndEventName,onAnimationEndFn):onAnimationEndFn.call()}),!1}}),$(".dl-back .col-xs-8>a").click(function(){self.overrideBack=!0,window.location.href=$(this).attr("href")}),this.$back.on("click.dlmenu",function(){if(self.overrideBack)return self.overrideBack=!1,!1;$(".dl-menu").find(".caret").hide();var $this=$(this),$submenu=$this.parents("ul.dl-submenu:first"),$item=$submenu.parent();self.$menu=$submenu.parents(".dl-menu");var $flyin=$submenu.clone().css("display","none1").insertAfter(self.$menu),onAnimationEndFn=function(){self.$menu.off(self.animEndEventName).removeClass(self.options.animationClasses.classin),$flyin.remove(),$(".dl-menu").find(".caret").show()};return 0===self.$menu.find(".dl-back").index(this)&&$(".dl-menu").index(self.$menu)>0&&$(".dl-menu").not(self.$menu).slideDown(),setTimeout(function(){$flyin.addClass(self.options.animationClasses.classout),self.$menu.addClass(self.options.animationClasses.classin),self.supportAnimations?self.$menu.on(self.animEndEventName,onAnimationEndFn):onAnimationEndFn.call(),$item.removeClass("dl-subviewopen");var $subview=$this.parents(".dl-subview:first");$subview.is("li")&&$subview.addClass("dl-subviewopen"),$subview.removeClass("dl-subview")}),!1})}},$.fn.dlmenu=function(options){if("string"==typeof options){var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=$.data(this,"dlmenu");return instance?$.isFunction(instance[options])&&"_"!==options.charAt(0)?(instance[options].apply(instance,args),void 0):(logError("no such method '"+options+"' for dlmenu instance"),void 0):(logError("cannot call methods on dlmenu prior to initialization; attempted to call method '"+options+"'"),void 0)})}else this.each(function(){var instance=$.data(this,"dlmenu");instance?instance._init():instance=$.data(this,"dlmenu",new $.DLMenu(options,this))});return this}}(jQuery,window);