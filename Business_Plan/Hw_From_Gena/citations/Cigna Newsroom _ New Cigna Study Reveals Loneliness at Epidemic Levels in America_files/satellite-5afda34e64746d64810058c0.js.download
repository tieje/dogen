_satellite.pushAsyncScript(function(event, target, $variables){
  // NOTE:  Need to rethink noscript floodlight 
// function addFloodlight(cat, type) {
//   var pixel = document.createElement('img');
//   pixel.setAttribute('src', "//ad.doubleclick.net/ddm/activity/src=4485694;type="+ type +";cat="+ cat +";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;ord=1?");
//   pixel.setAttribute('width', '1');
//   pixel.setAttribute('height', '1');
//   pixel.setAttribute('style', 'position: absolute; top: 0;');
//   pixel.setAttribute('alt', '');
//   var noscriptTag = document.createElement('noscript');
//   noscriptTag.setAttribute('id', 'noscript-floodlight');
//   document.body.appendChild(noscriptTag);
//   document.getElementById('noscript-floodlight').append(pixel);
// }
function initSecondaryTag(adword) {
  // Global site tag (gtag.js)
  var dcJS = document.createElement('SCRIPT');
  var done = false;

  dcJS.setAttribute('src', '//www.googletagmanager.com/gtag/js?id='+ adword.secondaryId);
  dcJS.setAttribute('type','text/javascript');

  document.body.appendChild(dcJS);
  dcJS.onload = dcJS.onreadystatechange = function () {
    if(!done && (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")) {
      done = true;
      callback();
    }
  };
  function callback(){
    if(done){
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', adword.secondaryId);
    }
  }
  // End AdWords
}

function initAdwordsTag(adword) {
  // Global site tag (gtag.js)
  var dcJS = document.createElement('SCRIPT');
  var done = false;

  dcJS.setAttribute('src', '//www.googletagmanager.com/gtag/js?id='+ adword.id);
  dcJS.setAttribute('type','text/javascript');

  document.body.appendChild(dcJS);
  dcJS.onload = dcJS.onreadystatechange = function () {
    if(!done && (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")) {
      done = true;
      callback();
    }
  };
  function callback(){
    if(done){
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', adword.id);
      if (adword.hasOwnProperty('secondaryId')) initSecondaryTag(adword);
      if (adword.hasOwnProperty('conversionOptions')) gtag('event', 'conversion', adword.conversionOptions);
      if (adword.hasOwnProperty('secondaryConversionOptions')) gtag('event', 'conversion', adword.secondaryConversionOptions);
      if (adword.hasOwnProperty('trackPageView') && adword.trackPageView) gtag('event', 'page_view', {'send_to': adword.id});
      /* if (adword.hasOwnProperty('floodlight')) addFloodlight(adword.floodlight.cat, adword.floodlight.type); */ // NOTE:  Need to rethink noscript floodlight 
    }
  }
  // End AdWords
}
initAdwordsTag(_satellite.getVar('social-adwords-main-tag'));
});
