webpackJsonp([0],{140:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),o=n.n(s),i=n(197);n.n(i);function a(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var c=o()(".js-comments__btn"),u=o()(".js-comments-close"),d=o()(".js-comments"),r=o()("body"),l=o()(".js-comments-overlay"),f=o()(".disqus-comment-count"),m={scriptUrl:d.data("disqus-script-url"),laziness:1,throttle:250,disqusConfig:function(){this.page.title=d.data("disqus-title"),this.page.url=d.data("disqus-url"),this.page.identifier=d.data("disqus-id")}},h=!1,p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.comments()}var e,n,s;return e=t,(n=[{key:"comments",value:function(){c.on("click",this.openComments),u.on("click",this.closeComments),this.handleCount()}},{key:"openComments",value:function(){r.addClass("inactive"),r.on("keydown",this.handleKeydown),d.addClass("open"),d.find("button").first().focus(),l.css("visibility","visible"),l.animate({opacity:.6},200,function(){!1===h&&(o.a.disqusLoader(".disqus",m),h=!0)})}},{key:"closeComments",value:function(){r.removeClass("inactive"),r.off("keydown",this.handleKeydown),d.removeClass("open"),c.focus(),l.animate({opacity:0},200,function(){l.css("visibility","hidden")})}},{key:"handleKeydown",value:function(t){o()(t.target);27===t.which&&(t.preventDefault(),closeComments())}},{key:"handleCount",value:function(){function t(){parseInt(f.text())>=20&&(o()(".comments__btn-default").hide(),o()(".comments__btn-count").css("display","block"))}t();var e=new MutationObserver(function(n){n.forEach(function(n){t(),e.disconnect()})}),n=document.getElementById("comments__btn-count");e.observe(n,{childList:!0,subtree:!1})}}])&&a(e.prototype,n),s&&a(e,s),t}();e.default=p},197:function(t,e,n){(function(t){!function(t,e,n,s){"use strict";var o,i,a,c,u=t(e),d=!1,r=!1,l=!1,f=!1,m="unloaded",h=t(),p=function(){if(!h.length||"loaded"==h.data("disqusLoaderStatus"))return!0;var n=u.scrollTop();if(h.offset().top-n>u.height()*r||n-h.offset().top-h.outerHeight()-u.height()*r>0)return!0;t("#disqus_thread").removeAttr("id"),h.attr("id","disqus_thread").data("disqusLoaderStatus","loaded"),"loaded"==m?DISQUS.reset({reload:!0,config:l}):(e.disqus_config=l,"unloaded"==m&&(m="loading",t.ajax({url:f,async:!0,cache:!0,dataType:"script",success:function(){m="loaded"}})))};u.on("scroll resize",(o=d,i=p,function(){var t=this,e=arguments,n=+new Date;a&&n<a+o?(clearTimeout(c),c=setTimeout(function(){a=n,i.apply(t,e)},o)):(a=n,i.apply(t,e))})),t.disqusLoader=function(e,n){n=t.extend({},{laziness:1,throttle:250,scriptUrl:!1,disqusConfig:!1},n),r=n.laziness+1,d=n.throttle,l=n.disqusConfig,f=!1===f?n.scriptUrl:f,(h=("string"==typeof e?t(e):e).eq(0)).data("disqusLoaderStatus","unloaded"),p()}}(t,window,document)}).call(e,n(1))}});