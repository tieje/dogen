!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}({2:function(t,e){!function(){"use strict";var t;function e(){if(void 0!==t)return t;try{var e=(new Date).toString();window.localStorage.setItem(e,e);var n=window.localStorage.getItem(e)===e;return window.localStorage.removeItem(e),t=n,n}catch(e){return t=!1,!1}}function n(t){if(!t)return null;if(!document.cookie)return null;for(var e={},n=null,o=document.cookie.split(";"),a=0;a<o.length;a++)if(o[a].indexOf("=")>0){var i=o[a].split("="),s=i[0],r=i[1];s&&(s=s.trim()),s===t&&(r||(r=""),n=r.trim()),e[s]=r.trim()}return n}function o(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function a(t,e,n,o){return e=e||"GET",n=n&&JSON.stringify(n)||null,new Promise((function(a,i){var s=new XMLHttpRequest;s.open(e,t,!0),s.timeout=3e3,s.withCredentials=!0,o&&o.contentType&&s.setRequestHeader("Content-Type",o.contentType),s.onload=function(t){if(4===(t=t.target||{}).readyState&&200===t.status){var e={};try{(e=JSON.parse(t.response)).statusCode=200,a(e)}catch(t){i("")}}else t.status>=400&&i({message:t.status})},s.onerror=function(t){i("")},s.ontimeout=function(){i("")},s.send(n)}))}var i=[],s="wapo_identity",r={iabSpec:1,explicitNotice:"Y",optOut:"N",lspa:"Y"},c={prod:{env:"prod",feLoggingApi:"https://www.washingtonpost.com/subscribe/logging/",pwapiProxyApi:"https://www.washingtonpost.com/pwapi-proxy/pwproxy",pwapiProxyV2Api:"https://www.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.washingtonpost.com",authStatusUrl:"https://www.washingtonpost.com/subscribe/user/auth-status",sipUrl:"https://www.washingtonpost.com/subscribe/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.washingtonpost.com/swg/check-entitlement"},fStage:{env:"stage",feLoggingApi:"https://subs-stage.washingtonpost.com/logging/",pwapiProxyApi:"https://pwapiproxy-stage.washingtonpost.com/pwproxy",pwapiProxyV2Api:"https://subs-stage.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.wapostage.com",authStatusUrl:"https://subs-stage.washingtonpost.com/user/auth-status",sipUrl:"https://subs-stage.washingtonpost.com/user/save-identity-preferences",checkEntitlementUrl:"https://subs-stage.washingtonpost.com/swg/check-entitlement"},stage:{env:"stage",feLoggingApi:"https://subs-stage.washingtonpost.com/logging/",pwapiProxyApi:"https://pwapiproxy-stage.washingtonpost.com/pwproxy",pwapiProxyV2Api:"https://subs-stage.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.washingtonpost.com",authStatusUrl:"https://subs-stage.washingtonpost.com/user/auth-status",sipUrl:"https://subs-stage.washingtonpost.com/user/save-identity-preferences",checkEntitlementUrl:"https://subs-stage.washingtonpost.com/swg/check-entitlement"},fQa:{env:"qa",feLoggingApi:"https://subscribe.digitalink.com/logging/",pwapiProxyApi:"https://testpwapi-proxy.digitalink.com/pwproxy",pwapiProxyV2Api:"https://pwapi2.digitalink.com/article",cookieDomain:".digitalink.com",LSDomain:"www.wapodev.com",authStatusUrl:"https://subscribe.digitalink.com/user/auth-status",sipUrl:"https://subscribe.digitalink.com/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.digitalink.com/swg/check-entitlement"},qa:{env:"qa",feLoggingApi:"https://subscribe.digitalink.com/logging/",pwapiProxyApi:"https://testpwapi-proxy.digitalink.com/pwproxy",pwapiProxyV2Api:"https://pwapi2.digitalink.com/article",cookieDomain:".digitalink.com",LSDomain:"pb-dev.digitalink.com",authStatusUrl:"https://subscribe.digitalink.com/user/auth-status",sipUrl:"https://subscribe.digitalink.com/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.digitalink.com/swg/check-entitlement"}};function p(){var t="prod";return-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf("/pb/")||-1!==window.location.hostname.indexOf("pb-impact")||-1!==window.location.hostname.indexOf("impact.wash")||-1!==window.location.hostname.indexOf("vforum-stage.")?t="stage":-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf("/pf/")||-1!==window.location.hostname.indexOf("wapostage.com")||-1!==window.location.hostname.indexOf("fusion-sandbox.wash")||-1!==window.location.hostname.indexOf("sandbox.wash")?t="fStage":-1!==window.location.hostname.indexOf("localhost.digitalink")&&-1!==window.location.href.indexOf("/pf/")||-1!==window.location.hostname.indexOf("wapodev.com")||-1!==window.location.hostname.indexOf("www.digitalink.com")||-1!==window.location.hostname.indexOf("dev.wash")&&-1!==window.location.href.indexOf("/pf/")?t="fQa":-1===window.location.hostname.indexOf("digitalink.com")&&-1===window.location.hostname.indexOf("dev.wash")||(t="qa"),t}function u(){return c[p()]}var w=window.performance&&window.performance.timing||{},l=(new Date).getTime();function d(t,e){for(var n=e.split("."),o=0,a=n.length;null!=t&&o<a;)t=t[n[o++]];return o&&o===a?t:void 0}var g=(new Date).getTime();function m(t,e,n){var o,a=u();switch(n=n||{},e=e||"",t){case"info":o="logInfo";break;case"success":o="logSuccess";break;case"error":o="logHandledError";break;case"expectedError":o="logExpectedError";break;default:o="logInfo"}var i=a.feLoggingApi;try{var s=new XMLHttpRequest;s.open("POST",i+o,!0),s.setRequestHeader("Content-Type","application/json"),n.processId=g,n.path=window.location.pathname;var r={appName:"site-paywall",locationId:"pwapi-proxy",message:e,state:n};s.withCredentials=!0,s.send(JSON.stringify(r)),s.onload=function(){},s.onerror=function(){}}catch(t){console.error("LOGGING ERROR")}}function f(t){var e;(t=t||{}).referrer=document.referrer,t.is_amp="0",t.as_json="1",Object.assign(t,(e={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,n,o){i.indexOf(n)>=0&&(e[n]=o)})),e));var n="";for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];"string"==typeof a&&""!==a&&(n+="".concat(o,"=").concat(encodeURIComponent(a.trim()),"&"))}return n}function h(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.cookie.match(/wp_pwapi=([^\;]*);/)||{},o=n[1]||p();if(e)return c[o].pwapiProxyV2Api||c.prod.pwapiProxyV2Api;var a=c[o].pwapiProxyApi||c.prod.pwapiProxyApi,i=window.location.pathname,s=f(t);return"".concat(a+i,"?").concat(s)}function v(t){var e=u()||{};return new Promise((function(n,o){var i,s,r={entitlements:t};if(i=document.cookie.match(/wapo_login_id=([^\;]*)/),s=document.cookie.match(/wapo_secure_login_id=([^\;]*)/),null!=i&&null!=i[1]&&null!=s&&null!=s[1])return n({status:"NOT_CHECKED",systemMessages:"User logged in"});a(e.checkEntitlementUrl,"POST",r,{contentType:"application/json"}).then((function(t){n(t)})).catch((function(t){var e={status:"ERROR",systemMessages:"Check Entitlement failed with ".concat(t.message)};n(e)}))}))}window.consumers=window.consumers||[],window.extConsumers=window.extConsumers||[];var y={status:"init"},S={};function _(t){y=Object.assign(y,t),window.pwapiPaywallResponse=y;for(var e=0;e<window.extConsumers.length;e++)window.extConsumers[e](y);for(var n=0;n<window.consumers.length;n++)window.consumers[n](y)}function O(t){t.status="processing",window.pwapiPaywallStatus=200;var n=t.data.mtrct;3===t.data.action&&(t.data.mtrct="meter_paywall"),function(){if(!e())return!1;var t=localStorage.getItem("wp_sponsored");if(window.location.search.indexOf("das=pw_spsrd_hit")>-1||window.location.search.indexOf("pw_unlock_mgclink")>-1){if(localStorage.setItem("wp_sponsored",window.location.pathname),"function"==typeof window.history.replaceState){var n=window.location.href;n=n.replace(/das=[^\&]*/,""),window.history.replaceState({},null,n)}return!0}return!(!t||window.location.pathname!==t)}()?(t.status="final",t.action=0,t.data.action=0):3===t.data.action||8===t.data.action||9===t.data.action?function(t,e){var n;(n=document.createElement("script")).type="text/javascript",n.setAttribute("subscriptions-control","manual"),n.src="https://news.google.com/swg/js/v1/swg.js",n.onerror=function(){},document.head.appendChild(n),function(t,e){(window.SUBSCRIPTIONS=window.SUBSCRIPTIONS||[]).push((function(n){var o=!1,a={process:"swg-entitlement"};if(-1===window.location.href.indexOf("localhost.")&&-1===window.location.href.indexOf("local."))try{n.init("washingtonpost.com:basic"),n.getEntitlements().then((function(n){return n&&n.entitlements&&n.entitlements.length>0?(_({action:0,data:{action:0},status:"final"}),o=!0,a.numEntitlements=n.entitlements.length,a.pwresp_action=t,a.pwresp_action_final=0,a.pwresp_mtrct=e,a.raw_entitlements=JSON.stringify(n.entitlements),n.entitlements.forEach((function(t,e){if(t.source.indexOf("washingtonpost.com")>=0)a.postSWGPurchase=!0,t.subscriptionToken?a["entitlement_".concat(e)]="entitlementType=post|subscriptionToken=".concat(t.subscriptionToken):a["entitlement_".concat(e)]="entitlementType=post|subscriptionToken=".concat(t.signedEntitlements);else if(t.subscriptionToken){a.gglSWGPurchase=!0;var n=JSON.parse(t.subscriptionToken);a["entitlement_".concat(e)]="entitlementType=google|orderId=".concat(n.orderId,"|packageName=").concat(n.packageName,"|productId=").concat(n.productId,"|purchaseTime").concat(n.purchaseTime)}}))):_({status:"final"}),n})).then((function(t){o&&v(t.entitlements).then((function(t){var e=[];e.push("isEntitled=".concat(t.status)),t.createAccount&&e.push("isLinked=".concat(!t.createAccount)),t.systemMessages&&e.push("messages=".concat(t.systemMessages)),a.entitlement_status=e.join("|"),m("info","swg entitlements",a)}))})).catch((function(){_({status:"final"})}))}catch(t){_({status:"final"})}else _({status:"final"})}))}(t,e),setTimeout((function(){"final"!==y.status&&_({status:"final"})}),5e3)}(t.data.action,n):t.status="final",S.process="paywall-display",S.pwresp_action=t.data.action,S.pwresp_actions=t.data.actions.join(","),S.pwresp_mtrct=t.data.mtrct,_(t)}function b(t,e){t=t||{},e=e||"info",_({status:"error"});var n={process:"pwapiproxy-response",xhrstatus:t.statusCode};t.timeout&&(n.timeout=t.timeout),m(e,t.msg,n)}function x(t,e){e=e||"info";var n={process:"pwapiproxy-v2-response",xhrstatus:(t=t||{}).statusCode};t.timeout&&(n.timeout=t.timeout),m(e,t.msg,n)}function P(t){return new Promise((function(e){var n=JSON.stringify({articles:[{article:window.location.href}]});try{var o=new XMLHttpRequest;o.open("POST",t),o.withCredentials=!0,o.onload=function(){if(window.pwapiv2Response=(new Date).getTime()-l,window.pwapiAPIv2End=(new Date).getTime()-(w.navigationStart||0),o.readyState===XMLHttpRequest.DONE&&200===o.status){window.pwapiAPIv2Ready=(new Date).getTime()-(w.navigationStart||0);var t={};try{(t=JSON.parse(o.response)).statusCode=o.status,function(t){t&&t.data?(S.pwresp_v2_action=t.data.action,S.pwresp_v2_actions=t.data.actionCodes.join(","),S.pwresp_v2_meterCount=t.data.meterCount,S.pwresp_v2_meterState=t.data.meterState,S.pwresp_v2_ruleSetVersion=t.data.ruleSetVersion):S.pwresp_v2_action=0}(t),e(t)}catch(t){t.statusCode=-1;var n={status:"error",statusCode:-1,msg:"pwapiproxy v2 response invalid".concat(t.statusText?" - ".concat(t.statusText):"")};x(n),e(n)}}else if(o.readyState===XMLHttpRequest.DONE&&202===o.status)e({status:"error",msg:"black hole"});else{var a={status:"error",statusCode:o.status,msg:"pwapiproxy v2 response invalid"};x(a,"error"),e(a)}},o.onerror=function(t){window.pwapiAPIv2End=(new Date).getTime()-(w.navigationStart||0);var n={status:"error",statusCode:t&&t.statusCode?t.statusCode:500,msg:"pwapiproxy v2 error"};x(n,"error"),e(n)},o.ontimeout=function(){var t={status:"error",statusCode:504,timeout:((new Date).getTime()-l)/1e3,msg:"PWAPIPROXY V2 TIMEOUT"};x(t,"expectedError"),e(t)},o.setRequestHeader("Content-Type","application/json"),window.pwapiAPIv2Start=(new Date).getTime()-(w.navigationStart||0),o.send(n)}catch(t){var a={status:"error",statusCode:500};a.msg="pwapiproxy v2 error".concat(t.message?" - ".concat(t.message):""),x(a,"error"),e(a)}}))}window.registerPwapiConsumer=function(t){window.consumers.push(t),t(y)},window.registerExtUpdates=function(t){window.extConsumers.push(t),t(y)},window.extListener=function(t){_(t)};var k={};k.pwapi_contentsection=d(window,"wpMetaData.content_section"),k.pwapi_ct_tags=d(window,"wpMetaData.ct_tags"),k.pwapi_sct_tags=d(window,"wpMetaData.sct_tags"),k.commercial_node=d(window,"wpMetaData.commercial_node"),k.content_type=d(window,"wpMetaData.content_type");var C=k;function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}var E=["www.washingtonpost.com","pb-impact.washingtonpost.com","fusion-sandbox.washingtonpost.com","www.wapodev.com","www.wapostage.com","pb-dev.digitalink.com","pb-staging.digitalink.com","localhost"],A=u()||{},j={prod:{anon:{default:864e5,optedOut:63072e6},signed:{default:864e5,optedOut:864e5}},fStage:{anon:{default:3e5,optedOut:63072e6},signed:{default:3e5,optedOut:3e5}},fqa:{anon:{default:3e5,optedOut:18e5},signed:{default:3e5,optedOut:3e5}},stage:{anon:{default:864e5,optedOut:63072e6},signed:{default:864e5,optedOut:864e5}},qa:{anon:{default:3e5,optedOut:18e5},signed:{default:3e5,optedOut:3e5}}}[A.env];function U(t){for(var e=0;e<window.authConsumers.length;e++)window.authConsumers[e](t)}function M(t){var e=!!n("wapo_secure_login_id"),o=!(!t||!t.ccpa||"Y"!==t.ccpa.optOut),a=j&&j[e?"signed":"anon"][o?"optedOut":"default"]||0;return Date.now()+a}function N(t){if(e()){var n=window.location.hostname;if(-1!==E.indexOf(n)){var o=localStorage.getItem(s);o=o&&JSON.parse(o)||{};var a=Object.assign(o,t),i=M(a.privacySetting||{});a.e=i,localStorage.setItem(s,JSON.stringify(a))}}}function R(){var t=null;return e()&&localStorage.getItem(s)&&(function(){var t=!1;if(e()&&localStorage.getItem(s)){var n=JSON.parse(localStorage.getItem(s));n.e&&Date.now()>n.e&&(t=!0)}return t}()?e()&&localStorage.removeItem(s):t=JSON.parse(localStorage.getItem(s))),t}function L(t){if(e()&&localStorage.getItem(s))return JSON.parse(localStorage.getItem(s))[t]}function q(t){var e,i,s;return t=t||(e=n("wapo_secure_login_id"),i=n("wp_usp"),!1===L("signedIn")&&e?"sip":(window.wp_meta_data&&window.wp_meta_data.tags_for_paywall&&-1!==window.wp_meta_data.tags_for_paywall.indexOf("ccpa")||window.wpMetaData&&window.wpMetaData.ct_tags&&-1!==window.wpMetaData.ct_tags.indexOf("ccpa")||!!(o(R())||e&&!i))&&"auth-status"),new Promise((function(e,n){!1!==t?function(t){return new Promise((function(e,n){var o;if("auth-status"===t)a("".concat(A.authStatusUrl,"?_v=").concat((new Date).getTime())).then((function(t){e(t)})).catch((function(t){n({status:"FAIL",errorState:"Auth Status failed"})}));else if("sip"===t){var i=R(),s={caller:"SubsStorageManager",requestId:(o=window.crypto||window.msCrypto,([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^o.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))),authStatus:!0};s=Object.assign(s,i),a(A.sipUrl,"POST",s,{contentType:"application/json"}).then((function(t){e(t)})).catch((function(t){n("Auth Status failed")}))}else n("Invalid action: ".concat(t))}))}(t).then((function(t){t&&"SUCCESS"===t.status&&N(s=t.userState)})).finally((function(){U(s=R()),e(s)})):(U(s=R()),e(s))}))}window.authConsumers=window.authConsumers||[],window.registerAuthConsumer=function(t){window.authConsumers.push(t),t(R())},window.storePrivacySetting=function(t){t="object"===T(t)?t:{};var e=L("privacySetting")||{};if(e.ccpa=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){D(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r,{},e.ccpa,{},t.ccpa),!o(e)){var a=n("wapo_secure_login_id"),i="".concat(e.ccpa.iabSpec,e.ccpa.explicitNotice,e.ccpa.optOut,e.ccpa.lspa);if(N({privacySetting:e}),a)q("sip");else{var s=p();!function(t,e,n,o,a,i){var s,r="",c="",p=".washingtonpost.com";n<0?r=";expires=".concat(new Date(1e3).toUTCString):n>0&&(r=";expires=".concat(new Date(n).toUTCString())),"qa"===i&&(p=".digitalink.com"),null!=p&&(c=";domain=".concat(p)),e||(e=""),s=e;var u="".concat("wp_usp","=").concat(s,";path=/").concat(r).concat(c).concat(";secure");document.cookie=u}(0,i,M(e),0,0,s)}}};var J={getUspString:function(t){return"".concat((t=t||{}).iabSpec,t.explicitNotice,t.optOut,t.lspa)},getUSPData:function(t,n){var o="".concat(t,"---");if(e()&&localStorage.getItem(s)){var a=L("privacySetting");a&&a.ccpa&&(o=J.getUspString(a.ccpa))}if(o){var i={};i.version=t,i.uspString=o,n(i,!0)}},v1:{getUSPData:function(t){J.getUSPData(1,t)}}};window.addEventListener("message",(function(t){if(t.data.hasOwnProperty("__uspapiCall")){t.stopImmediatePropagation&&t.stopImmediatePropagation();var e=t.data.__uspapiCall.command,n=t.data.__uspapiCall.version;e&&n&&window.__uspapi(e,n,(function(e,n){n?t.source.postMessage({__uspapiReturn:{returnValue:e,success:n,callId:t.data.__uspapiCall.callId}},t.origin):t.source.postMessage({__uspapiReturn:{returnValue:{version:1,uspString:"1NYY"},success:!1,callId:t.data.__uspapiCall.callId}},t.origin)}))}return null}),!1),window.pwapiStart=l-(w.navigationStart||0),function(t){var e,n=h(t),o=h(t,!0);Promise.all([(e=n,new Promise((function(t){try{if(e){var n=new XMLHttpRequest;n.open("GET",e,!0),n.timeout=5e3,n.withCredentials=!0,n.onload=function(e){if(e=e.target||{},window.pwapiResponse=(new Date).getTime()-l,window.pwapiAPIEnd=(new Date).getTime()-(w.navigationStart||0),4===e.readyState&&200===e.status){window.pwapiAPIReady=(new Date).getTime()-(w.navigationStart||0);var n={};try{(n=JSON.parse(e.response)).statusCode=200,O(n),t(n)}catch(e){e.statusCode=-1;var o={status:"error",statusCode:-1,msg:"pwapiproxy response invalid".concat(e.statusText?" - ".concat(e.statusText):"")};b(o),t(o)}}else{var a={status:"error",statusCode:e.status,msg:"pwapiproxy response invalid"};b(a,"error"),t(a)}},n.onerror=function(e){window.pwapiAPIEnd=(new Date).getTime()-(w.navigationStart||0);var n={status:"error",statusCode:e&&e.statusCode?e.statusCode:500,msg:"pwapiproxy error"};b(n,"error"),t(n)},n.ontimeout=function(){var e={status:"error",statusCode:504,timeout:((new Date).getTime()-l)/1e3,msg:"PWAPIPROXY TIMEOUT"};b(e,"expectedError"),t(e)},window.pwapiAPIStart=(new Date).getTime()-(w.navigationStart||0),n.send()}}catch(e){var o={status:"error",statusCode:500};o.msg="pwapiproxy error".concat(e.message?" - ".concat(e.message):""),b(o,"error"),t(o)}}))),P(o)]).then((function(){(S.pwresp_action>=3||S.pwresp_v2_action&&S.pwresp_action!==S.pwresp_v2_action)&&m("info","pwresp action: ".concat((S.pwresp_action||"").toString()||(S.pwresp_v2_action||"").toString()),S)})).catch((function(){}))}(C),function(){if(e()){var t=(new Date).getTime(),n=window.localStorage.getItem("wpPropensity"),o={};window.wpMetaData=window.wpMetaData||{};try{o=n?JSON.parse(n):{}}catch(t){}if(void 0!==o.value&&o.expires>t)window.wpMetaData.wpPropensity=o.value;else{var a=document.cookie.match(/wapo_login_id=([^\;]*)/),i=!!a&&a[1],s=document.cookie.match(/s_vi=([^\|]*)\|([^\;]*)\[([^\;]*)/),r=!!s&&s[2];if(r||i){var c="https://propensity.perso.washpost.io/api/v1/propensity?omniture_id=".concat(r,"&login_id=").concat(i),p=new XMLHttpRequest;p.open("GET",c,!0),p.timeout=2e3,p.onload=function(e){if(4===(e=e.target||{}).readyState&&200===e.status)try{var n=JSON.parse(e.response)||{};window.wpMetaData.wpPropensity=n.value;var o=t+36e5;window.localStorage.setItem("wpPropensity",JSON.stringify({value:n.value,expires:o}))}catch(t){}},p.send()}}}}();try{window.__uspapi=function(t,e,n){return J["v".concat(e)]&&"function"==typeof J["v".concat(e)][t]?n?void J["v".concat(e)][t].apply(null,[n]):J["v".concat(e)][t]:!!n&&void n(null,!1)}}catch(t){}try{setTimeout((function(){q()}),0)}catch(t){}}()}});