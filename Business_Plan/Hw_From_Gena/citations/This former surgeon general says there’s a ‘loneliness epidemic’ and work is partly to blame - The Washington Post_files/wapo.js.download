!function(t,e){for(var n in e)t[n]=e[n]}(this,function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=322)}([function(t,e,n){"use strict";n.d(e,"g",function(){return a}),n.d(e,"f",function(){return r}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"u",function(){return h}),n.d(e,"h",function(){return g}),n.d(e,"j",function(){return f}),n.d(e,"i",function(){return v}),n.d(e,"l",function(){return m}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return y}),n.d(e,"m",function(){return w}),n.d(e,"v",function(){return S}),n.d(e,"s",function(){return O}),n.d(e,"n",function(){return j}),n.d(e,"o",function(){return A}),n.d(e,"p",function(){return _}),n.d(e,"q",function(){return E}),n.d(e,"r",function(){return T}),n.d(e,"k",function(){return D}),n.d(e,"t",function(){return x});var i=n(1),o=n(2),a=1e3,r=60*a,s=60*r,c=24*s,l={LEFT:37,RIGHT:39,SPACEBAR:32},u=Object.freeze({red:153,green:50,blue:204}),d=Object.freeze({red:0,green:0,blue:0}),p=Object.freeze({red:240,green:248,blue:255});function h(){return Object.freeze({accent:Object(i.get)(window,"PoWaSettings.colors.accent",u),background:Object(i.get)(window,"PoWaSettings.colors.background",d),primary:Object(i.get)(window,"PoWaSettings.colors.primary",p)})}var g={POWA_BAR_SHOW:"powaBarShow",POWA_BAR_HIDE:"powaBarHide"},f={POWA_CLICK:"powaClick",POWA_CUSTOM:"powaCustom",POWA_HOVER:"powaHover",POWA_TOUCH:"powaTouch"},v={powaClick:"powa-click",powaHover:"powa-hover",powaTouch:"powa-touch"},m={ADDED_TO_DOM:"addedToDOM",RESIZE:"resize",VIEWABLE:"viewable",NOT_VIEWABLE:"notViewable"},b=Object.freeze({1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}),y=Object.freeze(["abort","canplay","canplaythrough","click","contextmenu","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"]),w=Object.freeze({BROKEN_PROMISE:"powaBrokenPromise",BUFFERING:"powaBuffering",COMPLETE:"powaComplete",END:"powaEnd",ERROR:"powaError",FIRST_FRAME:"powaFirstFrame",LOADED:"powaLoaded",LOOP:"powaLoop",MEDIA_CLICK:"powaMediaClick",MEDIA_HOVER:"powaMediaHover",MEDIA_RIGHT_CLICK:"powaMediaRightClick",MEDIA_START:"powaMediaStart",META:"powaMeta",MUTED:"powaMuted",PAUSE:"powaPause",PLAY:"powaPlay",PROGRESS:"powaProgress",READY:"powaReady",SEEK:"powaSeek",SEEKED:"powaSeeked",SKIP:"powaSkip",START:"powaStart",TIME:"powaTime",UNLOADED:"powaUnloaded",VOLUME:"powaVolume"}),k=/^powa/;function S(t){var e=t.replace(k,"");return e=e[0].toLowerCase()+e.slice(1)}var O=Object(o.mapObj)(w,S),j={AD_BAR_DISABLE_SKIP:"adBarDisableSkip",AD_BAR_ENABLE_SKIP:"adBarEnableSkip",AD_BAR_HIDE:"adBarHide",AD_BAR_MUTE:"adBarMute",AD_BAR_PAUSE:"adBarPause",AD_BAR_PLAY:"adBarPlay",AD_BAR_SHOW:"adBarShow",AD_BAR_SHOW_SKIP:"adBarShowSkip",AD_BAR_SKIP:"adBarSkip"},A=Object.assign({AD_CLICK:"adClick",AD_COMPANIONS:"adCompanions",AD_COMPLETE:"adComplete",AD_CONTENT_PAUSE_REQUESTED:"adContentPauseRequested",AD_CONTENT_RESUME_REQUESTED:"adContentResumeRequested",AD_DESTROYED:"adDestroyed",AD_DROPPED:"adDropped",AD_DURATION_CHANGE:"adDurationChange",AD_END:"adEnd",AD_ERROR:"adError",AD_FIRST_FRAME:"adFirstFrame",AD_FIRST_QUARTILE:"adFirstQuartile",AD_IMPRESSION:"adImpression",AD_LOADED:"adLoaded",AD_MIDPOINT:"adMidpoint",AD_MUTE:"adMute",AD_NULL:"adNull",AD_OVERRUN:"adOverrun",AD_PAUSE:"adPause",AD_PLAY:"adPlay",AD_READY:"adReady",AD_REQUEST:"adRequest",AD_REWIND:"adRewind",AD_SETUP_ERROR:"adSetupError",AD_SKIP:"adSkip",AD_START:"adStart",AD_START_REQUEST:"adStartRequest",AD_START_TIMEOUT:"adStartTimeout",AD_START_UNREPORTED:"adStartUnreported",AD_THIRD_QUARTILE:"adThirdQuartile",AD_TIME:"adTime",AD_WAITING:"adWaiting"},j),_={POWA_RENDER:"powaRender",PROMO_CLICK:"promoClick",PROMO_HIDE:"promoHide",PROMO_HOVER:"promoHover",PROMO_PLAY:"promoPlay",PROMO_SHOW:"promoShow",PROMO_TOUCH:"promoTouch"},E={SUBS_AVAILABLE:"subsAvailable",SUBS_UNAVAILABLE:"subsUnavailable",SUBS_ENABLED:"subsEnabled",SUBS_DISABLED:"subsDisabled",SUBTITLES_CUSTOMIZE_CLICK:"subtitlesCustomizeClick",SUBTITLES_CUSTOMIZE_OPENED:"subtitlesCustomizeOpened",SUBTITLES_CUSTOMIZE_CLOSED:"subtitlesCustomizeClosed"},T={PLAYBACK_0:"playback0",PLAYBACK_25:"playback25",PLAYBACK_50:"playback50",PLAYBACK_75:"playback75",PLAYBACK_100:"playback100"},D={PLAYLIST:"playlist",PLAYLIST_LOADED:"playlistLoaded",PLAYLIST_COMPLETE:"playlistComplete"},x=Object.assign({ALL:"*",AUTOPLAY:"autoplay",DESTROYED:"destroyed",FULLSCREEN:"fullscreen",HOVER:"hover",MOUSE:"mouse",TAP:"tap",HLS_TAGS:"hlsTags",HLS_INITIAL_LEVEL:"hlsInitialLevel",HLS_LEVEL_SWITCH:"hlsLevelSwitch",POWA_ERROR:"powaError",POWA_READY:"powaReady",POWA_RENDER:"powaRender"},O,g,m,D,A,_,E,T)},function(t,e,n){"use strict";n.r(e);var i=n(20),o=n(0),a=n(5),r=/^2\d\d$/;function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.g,s=new XMLHttpRequest;return s.onreadystatechange=function(){s.readyState>3&&(r.test(s.status)?e(s.responseText):n(s))},s.onerror=function(){return n(s)},s.open("GET",t),s.timeout=i,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.send(),s}var c=/^2\d\d$/;function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.a,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.g,s=new XMLHttpRequest;return s.onreadystatechange=function(){s.readyState>3&&(c.test(s.status)?n(s.responseText):i(s))},s.onerror=function(){return i(s)},s.open("POST",t),s.timeout=r,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify(e)),s}var u=n(13);function d(t){Object.keys(t).forEach(function(e){var n=t[e];document[e]=function(t){t=t||window.event;var e=n[t.keyCode];e&&e()}})}var p=n(18),h=n(30);function g(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(e,n){var i=function(){document.body.removeChild(o),o.src="",o.load()},o=document.createElement("video");t&&(o.muted="muted"),o.src=Object(h.j)("tiny.mp4"),o.setAttribute("playsinline",""),document.body.appendChild(o);var a=o.play();a?a.then(function(){i(),e()}).catch(function(){i(),n()}):(i(),e())})}function f(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,i=new Date;i.setTime(i.getTime()+864e5*n),document.cookie="".concat(t,"=").concat(e,";path=/;expires=").concat(i.toGMTString())}function v(t){f(t,"",-1)}var m=n(37),b=n(4);function y(t){Object(b.a)(t,"webkitExitFullscreen")?t.webkitExitFullscreen():document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}var w=n(16);function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;try{var i=localStorage.getItem(t);if(null!==i)return n?i:Object(w.a)(i);throw i}catch(t){return e}}function S(){var t=Array.prototype.slice.call(arguments),e=t.shift(),n=t.join(" ");return'<i class="'.concat(n?"".concat(n," "):"","fa fa-").concat(e,'" aria-hidden="true"></i>')}function O(t){var e=Math.floor(t/3600),n=Math.floor(t%3600/60),i=Math.floor(t%60),o=e?"".concat(e,":"):"",a=e&&n<10?"0".concat(n,":"):"".concat(n,":"),r=i<10?"0".concat(i):i;return"".concat(o).concat(a).concat(r)}var j=n(14),A=n(33);function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t.match(e);return i&&i.length>n?i[n]:""}function E(t,e){var n=t.red,i=t.green,o=t.blue;return null!=e?"rgba(".concat(n,", ").concat(i,", ").concat(o,", ").concat(e,")"):"rgb(".concat(n,", ").concat(i,", ").concat(o,")")}function T(t){var e=("; "+document.cookie).split("; "+t+"=");if(2==e.length)return e.pop().split(";").shift()}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a,i=new Image;i.onload=e,i.onerror=n,i.src=t}var x=n(40),P=n(35),C=n(17);function I(t,e){return null==e&&(e=t,t=0),Math.floor(Math.random()*(e-t+1))+t}function M(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function L(t){return(t.textTracks?M(t.textTracks):[]).filter(function(t){return t.label&&t.language})}var N=n(25),R=n(38);function z(t){if(t instanceof HTMLElement){var e=t.offsetHeight,n=window.innerHeight||document.documentElement.clientHeight,i=t.getBoundingClientRect();return i.top+e>=0&&i.bottom-e<=n?i.top>=0&&i.bottom<=n?1:i.top<0&&i.bottom>n?(e+i.top-(i.bottom-n))/e:i.top<0?(e+i.top)/e:(e-(i.bottom-n))/e:0}return null}var W=n(36),$=n(24),U=n(8);function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t&&e&&"string"==typeof t&&"string"==typeof e?(e=e.toLowerCase(),(t=t.toLowerCase().split("?")[0]).endsWith(e)):null}function B(){var t=document.createElement("span");t.className="fa",t.style.display="none",document.body.insertBefore(t,document.body.firstChild);var e="FontAwesome"===getComputedStyle(t).fontFamily;return document.body.removeChild(t),e}function F(t){return(t="string"==typeof t?t:JSON.stringify(t)).split("").reduce(function(t,e){return(t=31*t+e.charCodeAt(0))&t},0)}function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t instanceof HTMLElement){var i=t.getBoundingClientRect();return i.top+t.offsetHeight*e>=0&&i.bottom-t.offsetHeight*e<=(window.innerHeight||document.documentElement.clientHeight)&&(!n||i.left>=0)&&(!n||i.right<=(window.innerWidth||document.documentElement.clientWidth))}return null}function Q(t){return!t||0===Object.keys(t).length}function Y(t){return!!(Object(b.a)(t,"webkitDisplayingFullscreen")||document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreen||document.msFullscreenElement)}function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t){if(!t)return!1;if(t instanceof HTMLElement)return!0;if("object"===G(t)){var e=(t+"").replace("[object ","").replace("]","");return e.startsWith("HTML")&&e.endsWith("Element")}return!1}var q=n(26);function K(t){return"function"==typeof Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function X(){var t="powatest";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}function J(t,e,n){return t>=e&&t<=n}var tt=n(6),et=/^(http:|https:)?\/\//i;function nt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof t&&et.test(t)}function it(t){return t instanceof HTMLElement?t.offsetWidth||t.offsetHeight||t.getClientRects().length:null}var ot=/^[A-Z]/,at=/(\S+?)([A-Z]+)/g;function rt(t){return t.replace(ot,function(t){return t.toLowerCase()}).replace(at,function(t,e,n){return"".concat(e,"-").concat(n.toLowerCase())})}function st(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a,i=document.createElement("link");document.getElementsByTagName("head")[0].appendChild(i),i.onerror=n,i.onload=e,i.type="text/css",i.rel="stylesheet",i.href=t}var ct=n(23),lt=n(15);function ut(t){return Object(tt.a)(t)&&Object.keys(t).length}function dt(t){if("hidden"===document.visibilityState){document.addEventListener("visibilitychange",function e(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",e),t())})}else t()}var pt=n(39),ht=n(27);function gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"width=550, height=450, top=".concat(screen.height/2-225,", left=").concat(screen.width/2-275);try{window.open(t,"_blank",e)}catch(t){console.error(t)}}var ft=n(28);function vt(t){return new Promise(function(e,n){return st(t,e,n)})}function mt(t){return new Promise(function(e,n){fetch(t).then(function(t){return t.text()}).then(e).catch(n)})}var bt=/<body .*?>(.*)<\/body>/,yt=/<script>.*<\/script>/g;function wt(t){return new Promise(function(e,n){mt(t).then(function(t){return e(_(t,bt).replace(yt,""))}).catch(n)})}function kt(t){return new Promise(function(e,n){return D(t,e,n)})}function St(t){return new Promise(function(e,n){return Object(ct.a)(t,e,n)})}var Ot=/^http:/;function jt(t){return t.replace(Ot,"")}var At=n(19);function _t(t){t instanceof HTMLElement&&(t.requestFullscreen?t.requestFullscreen():t.webkitEnterFullscreen?t.webkitEnterFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen())}var Et=n(22),Tt=n(2);function Dt(t){var e=t.streams,n=t.live,i=t.maxBitrate,o=t.streamPreference;e=Array.isArray(e)?e:[];var a=Object(Tt.groupBy)(e,function(t){return o.find(function(e){return V(t.url,e)})});return n?e.map(function(t){return t.url}):Object(Tt.chain)(o).map(function(t){return(e=a[t])?Object(Tt.chain)(e).reject(function(t){return t.bitrate>i}).map(function(t){return Object(Tt.extend)(t,{bitrate:isNaN(t.bitrate)?0:t.bitrate,height:isNaN(t.height)?0:t.height,width:isNaN(t.width)?0:t.width})}).max(function(t){return t.bitrate||t.height+t.width}).value():{};var e}).compact().map(function(t){return ut(t)?t.url:null}).compact().value()}var xt=n(34);function Pt(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t instanceof HTMLElement&&(!i&&t.hasAttribute(e)||t.setAttribute(e,n))}function Ct(t){var e=Object(p.a)(t);return e[0].toUpperCase()+e.slice(1)}var It={};function Mt(t){if(!t&&ut(It))return It;if(t=t||(window.navigator&&navigator.userAgent?navigator.userAgent:"")){var e=/ipod|iphone|ipad/i.test(t),n=/android/i.test(t),i=/silk/i.test(t),o=/CrOS/i.test(t),a=/windows phone/i.test(t),r=!a&&/windows/i.test(t),s=!e&&!i&&/macintosh/i.test(t),c=!n&&/linux/i.test(t),l=_(t,/edge\/(\d+(\.\d+)?)/i),u=_(t,/version\/(\d+(\.\d+)?)/i),d=/tablet|ipad/i.test(t),p=!d&&/[^-]mobi/i.test(t),h=!(p||d),g=document.documentElement.ontouchstart,f=p?"mobile":d?"tablet":"desktop";Object.assign(It,{version:u,isAndroid:n,isIOS:e,isKindle:!1,isLinux:c,isMac:s,isChromeOs:o,isWindows:r,isWindowsPhone:a,isAndroidBrowser:!1,isChrome:!1,isFirefox:!1,isIE:!1,isSafari:!1,isSamsungBrowser:!1,isSilk:i,isDesktop:h,isMobile:p,isTablet:d,isTouch:g,isWebView:!1,clientType:f}),a?Object.assign(It,{browserName:"explorer",version:l||_(t,/iemobile\/(\d+(\.\d+)?)/i),isIE:!0}):/msie|trident/i.test(t)?Object.assign(It,{browserName:"explorer",version:_(t,/(?:msie |rv:)(\d+(\.\d+)?)/i),isIE:!0}):/chrome.+? edge/i.test(t)?Object.assign(It,{browserName:"edge",version:l,isIE:!0}):/firefox/i.test(t)?Object.assign(It,{browserName:"firefox",version:_(t,/firefox[ /](\d+(\.\d+)?)/i),isFirefox:!0}):i?Object.assign(It,{browserName:"silk",version:_(t,/silk\/(\d+(\.\d+)?)/i),isKindle:!0}):/samsungbrowser/i.test(t)?Object.assign(It,{browserName:"samsung",version:_(t,/samsungbrowser\/(\d+(\.\d+)?)/i),isSamsungBrowser:!0,isWebView:/\swv\)/i.test(t)}):/chrome/i.test(t)?Object.assign(It,{browserName:"chrome",version:_(t,/chrome\/(\d+(\.\d+)?)/i),isChrome:!0,isWebView:/\swv\)/i.test(t)}):n?Object.assign(It,{browserName:"android",version:u,isAndroidBrowser:!0}):/CriOS/i.test(t)?Object.assign(It,{browserName:"chrome-ios",version:u||_(t,/ OS (\d+)/i),isChrome:!0,isWebView:!u}):/safari|applewebkit/i.test(t)?Object.assign(It,{browserName:"safari",version:u||_(t,/ OS (\d+)/i),isSafari:!0,isWebView:!u}):e&&Object.assign(It,{browserName:"safari",version:u||_(t,/ OS (\d+)/i),isSafari:!0,isWebView:!u}),It.version=Number(It.version)}return It}var Lt=n(3);function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){if(!t)return null;if("object"===Nt(t))Object(Lt.a)(t,function(t,e){return Rt(e,t)});else try{return localStorage.setItem(t,e),!0}catch(t){return!1}}var zt={playIcon:function(t){return'\n        <svg class="'.concat(t,'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n        viewBox="0 0 438.533 438.533" xml:space="preserve">\n            <g>\n                <path d="M409.133,109.203c-19.608-33.592-46.205-60.189-79.798-79.796C295.736,9.801,259.058,0,219.273,0\n                    c-39.781,0-76.47,9.801-110.063,29.407c-33.595,19.604-60.192,46.201-79.8,79.796C9.801,142.8,0,179.489,0,219.267\n                    c0,39.78,9.804,76.463,29.407,110.062c19.607,33.592,46.204,60.189,79.799,79.798c33.597,19.605,70.283,29.407,110.063,29.407\n                    s76.47-9.802,110.065-29.407c33.593-19.602,60.189-46.206,79.795-79.798c19.603-33.596,29.403-70.284,29.403-110.062\n                    C438.533,179.485,428.732,142.795,409.133,109.203z M353.742,297.208c-13.894,23.791-32.736,42.64-56.527,56.534\n                    c-23.791,13.894-49.771,20.834-77.945,20.834c-28.167,0-54.149-6.94-77.943-20.834c-23.791-13.895-42.633-32.743-56.527-56.534\n                    c-13.897-23.791-20.843-49.772-20.843-77.941c0-28.171,6.949-54.152,20.843-77.943c13.891-23.791,32.738-42.637,56.527-56.53\n                    c23.791-13.895,49.772-20.84,77.943-20.84c28.173,0,54.154,6.945,77.945,20.84c23.791,13.894,42.634,32.739,56.527,56.53\n                    c13.895,23.791,20.838,49.772,20.838,77.943C374.58,247.436,367.637,273.417,353.742,297.208z"/>\n                <path d="M328.911,203.561l-155.32-91.36c-5.896-3.617-11.991-3.711-18.271-0.284c-6.09,3.615-9.136,8.942-9.136,15.984v182.725\n                    c0,7.04,3.046,12.371,9.136,15.985c3.046,1.522,6.09,2.286,9.135,2.286c3.234,0,6.283-0.856,9.136-2.567l155.32-91.361\n                    c6.088-3.426,9.134-8.661,9.134-15.699C338.045,212.23,334.992,206.988,328.911,203.561z"/>\n            </g>\n        </svg>').trim()},circleNotch:function(t){return'\n        <svg class="'.concat(t,'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" focusable="false" preserveAspectRatio="xMidYMid meet" viewBox="0 0 1728 1728">\n            <path d="M1728 864q0 176-68.5 336t-184 275.5t-275.5 184t-336 68.5t-336-68.5t-275.5-184t-184-275.5T0 864q0-213 97-398.5T362 160T736 9v228q-221 45-366.5 221T224 864q0 130 51 248.5t136.5 204t204 136.5t248.5 51t248.5-51t204-136.5t136.5-204t51-248.5q0-230-145.5-406T992 237V9q206 31 374 151t265 305.5t97 398.5z"/>\n        </svg>\n    ').trim()},backward:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="backward" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n            <path fill="currentColor" d="M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"></path>\n        </svg>\n    ').trim()},forward:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="forward" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n            <path fill="currentColor" d="M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"></path>\n        </svg>\n    ').trim()},undo:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="undo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n            <path fill="currentColor" d="M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"></path>\n        </svg>\n    ').trim()},play:function(t){return'\n        <svg class="'.concat(t,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 104 104">\n            <polygon fill="currentColor" points="23 13 89.183 50.82 23 91"/>\n        </svg>\n    ').trim()},pause:function(t){return'\n        <svg class="'.concat(t,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 104 104">\n            <path fill="currentColor" d="M12,91 L12,13 L42,13 L42,91 L12,91 Z M62,91 L62,13 L92,13 L92,91 L62,91 Z"/>\n        </svg>\n    ').trim()},pauseCircle:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="pause-circle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n            <path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm-16 328c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v160zm112 0c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v160z"></path>\n        </svg>\n    ').trim()},playCircle:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="play-circle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n            <path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"></path>\n        </svg>\n    ').trim()},envelope:function(t){return'\n        <svg class="'.concat(t,'" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n            <path fill="currentColor" d="M4.248 6H28a1 1 0 0 1 .27.037L16.208 16.932 4.249 6zM29 8.072V25a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7.463L15.588 18.97c.38.348.951.36 1.319.027L29 8.072z" fill="#000" fill-rule="nonzero"/>\n        </svg>\n    ').trim()},facebookSquare:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fab" data-icon="facebook-square" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n            <path fill="currentColor" d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"></path>\n        </svg>\n    ').trim()},twitterSquare:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fab" data-icon="twitter-square" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n            <path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"></path>\n        </svg>\n    ').trim()},shareSquare:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="share-square" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\n            <path fill="currentColor" d="M568.482 177.448L424.479 313.433C409.3 327.768 384 317.14 384 295.985v-71.963c-144.575.97-205.566 35.113-164.775 171.353 4.483 14.973-12.846 26.567-25.006 17.33C155.252 383.105 120 326.488 120 269.339c0-143.937 117.599-172.5 264-173.312V24.012c0-21.174 25.317-31.768 40.479-17.448l144.003 135.988c10.02 9.463 10.028 25.425 0 34.896zM384 379.128V448H64V128h50.916a11.99 11.99 0 0 0 8.648-3.693c14.953-15.568 32.237-27.89 51.014-37.676C185.708 80.83 181.584 64 169.033 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48v-88.806c0-8.288-8.197-14.066-16.011-11.302a71.83 71.83 0 0 1-34.189 3.377c-7.27-1.046-13.8 4.514-13.8 11.859z"></path>\n        </svg>\n    ').trim()},cc:function(t){return'\n        <svg class="'.concat(t,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n            <path fill="currentColor" d="M3,26 C2.44771525,26 2,25.5522847 2,25 L2,7 C2,6.44771525 2.44771525,6 3,6 L29,6 C29.5522847,6 30,6.44771525 30,7 L30,25 C30,25.5522847 29.5522847,26 29,26 L3,26 Z M4,24 L28,24 L28,8 L4,8 L4,24 Z M12.1245136,20 C9.89883268,20 8.34241245,18.5214008 8.34241245,15.9844358 C8.34241245,13.7898833 9.82101167,12 12.155642,12 C14.0233463,12 15.2684825,12.9961089 15.5797665,14.8949416 L13.4319066,15.0972763 C13.3229572,14.2101167 12.9961089,13.6031128 12.233463,13.6031128 C11.3618677,13.6031128 10.9105058,14.4280156 10.9105058,16 C10.9105058,17.7120623 11.4241245,18.459144 12.2645914,18.459144 C13.0272374,18.459144 13.3696498,17.9455253 13.5097276,17.07393 L15.5953307,17.2607004 C15.3618677,19.0194553 14.1322957,20 12.1245136,20 Z M20.1867704,20 C17.9610895,20 16.4046693,18.5214008 16.4046693,15.9844358 C16.4046693,13.7898833 17.8832685,12 20.2178988,12 C22.0856031,12 23.3307393,12.9961089 23.6420233,14.8949416 L21.4941634,15.0972763 C21.385214,14.2101167 21.0583658,13.6031128 20.2957198,13.6031128 C19.4241245,13.6031128 18.9727626,14.4280156 18.9727626,16 C18.9727626,17.7120623 19.4863813,18.459144 20.3268482,18.459144 C21.0894942,18.459144 21.4319066,17.9455253 21.5719844,17.07393 L23.6575875,17.2607004 C23.4241245,19.0194553 22.1945525,20 20.1867704,20 Z"/>\n        </svg>\n    ').trim()},cog:function(t){return'\n        <svg class="'.concat(t,'" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n            <path fill="currentColor" d="M17.54 5.04l1.295-2.243a1 1 0 0 1 1.366-.366l5.004 2.89a1 1 0 0 1 .366 1.365l-1.295 2.242a11.1 11.1 0 0 1 1.836 3.183h2.59a1 1 0 0 1 1 1v5.778a1 1 0 0 1-1 1h-2.589a11.18 11.18 0 0 1-1.837 3.182l1.295 2.243a1 1 0 0 1-.366 1.366L20.2 29.569a1 1 0 0 1-1.366-.366l-1.296-2.244a11.1 11.1 0 0 1-3.674.002l-1.294 2.242a1 1 0 0 1-1.366.366L6.2 26.679a1 1 0 0 1-.366-1.365l1.294-2.242a11.1 11.1 0 0 1-1.835-3.183H2.703a1 1 0 0 1-1-1V13.11a1 1 0 0 1 1-1h2.59A11.18 11.18 0 0 1 7.13 8.93L5.835 6.686a1 1 0 0 1 .366-1.366l5.004-2.889a1 1 0 0 1 1.366.366l1.295 2.244a11.1 11.1 0 0 1 3.675-.002zm-3.837 14.424a4 4 0 1 0 4-6.928 4 4 0 0 0-4 6.928z" fill="#000" fill-rule="nonzero"/>\n        </svg>\n    ').trim()},compress:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="compress-alt" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n            <path fill="currentColor" d="M4.686 427.314L104 328l-32.922-31.029C55.958 281.851 66.666 256 88.048 256h112C213.303 256 224 266.745 224 280v112c0 21.382-25.803 32.09-40.922 16.971L152 376l-99.314 99.314c-6.248 6.248-16.379 6.248-22.627 0L4.686 449.941c-6.248-6.248-6.248-16.379 0-22.627zM443.314 84.686L344 184l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C234.697 256 224 245.255 224 232V120c0-21.382 25.803-32.09 40.922-16.971L296 136l99.314-99.314c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.248 6.248 6.248 16.379 0 22.627z"></path>\n        </svg>\n    ').trim()},expand:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="expand-alt" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n            <path fill="currentColor" d="M212.686 315.314L120 408l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C10.697 480 0 469.255 0 456V344c0-21.382 25.803-32.09 40.922-16.971L72 360l92.686-92.686c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.249 6.248 6.249 16.378 0 22.627zm22.628-118.628L328 104l-32.922-31.029C279.958 57.851 290.666 32 312.048 32h112C437.303 32 448 42.745 448 56v112c0 21.382-25.803 32.09-40.922 16.971L376 152l-92.686 92.686c-6.248 6.248-16.379 6.248-22.627 0l-25.373-25.373c-6.249-6.248-6.249-16.378 0-22.627z"></path>\n        </svg>\n    ').trim()},repeat:function(t){return'\n        <svg class="'.concat(t,'" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n            <path fill="currentColor" d="M12 2.75a9.236 9.236 0 0 1 6.542 2.71L21 3v7h-7l2.774-2.773a6.75 6.75 0 1 0-.445 9.952l1.605 1.917A9.25 9.25 0 1 1 12 2.75z" fill="#000" fill-rule="nonzero"/>\n        </svg>\n    ').trim()},volumeOff:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="volume-off" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512">\n            <path fill="currentColor" d="M215 71l-89 89H24a24 24 0 0 0-24 24v144a24 24 0 0 0 24 24h102.06L215 441c15 15 41 4.47 41-17V88c0-21.47-26-32-41-17z"></path>\n        </svg>\n    ').trim()},volumeUp:function(t){return'\n        <svg class="'.concat(t,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n            <path fill="currentColor" d="M9.66666667,12.6665333 L19,4.66653333 L19,28.6665333 L9.66666667,20.6665333 L3,20.6665333 L3,12.6665333 L9.66666667,12.6665333 Z M23.1116126,25.6465709 L22.7139874,23.6864958 C26.0253765,23.0147399 28.4434667,20.0889234 28.4434667,16.6665333 C28.4434667,13.2441432 26.0253765,10.3183267 22.7139874,9.64657085 L23.1116126,7.68649581 C27.3509537,8.54649811 30.4434667,12.288346 30.4434667,16.6665333 C30.4434667,21.0447207 27.3509537,24.7865686 23.1116126,25.6465709 Z M22.5866938,13.4119998 L23.2389062,11.5213335 C25.3455952,12.248066 26.8205888,14.1832132 26.9132641,16.4409811 C27.0142304,18.8609659 25.5017774,21.0228258 23.238619,21.8027655 L22.586981,19.9119012 C24.0231843,19.4169504 24.9787037,18.0511566 24.9149747,16.5236795 C24.8564099,15.0969204 23.9236857,13.8732143 22.5866938,13.4119998 Z"/>\n        </svg>  \n    ').trim()},arrowLeft:function(t){return'\n        <svg class="'.concat(t,'" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n            <path fill="currentColor" d="M17.366 1.183l1.768 1.768-11.8 11.798L29 14.75v2.5H7.2l11.934 11.933-1.768 1.768-14-14a1.25 1.25 0 010-1.768l14-14z" fill="#000" fill-rule="nonzero"/>\n        </svg>\n    ').trim()},arrowRight:function(t){return'\n        <svg class="'.concat(t,'" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n            <path fill="currentColor" d="M14.568.933l14 14a1.25 1.25 0 010 1.768l-14 14-1.768-1.768L24.483 17.25 3 17.25v-2.5h21.849L12.8 2.7 14.568.934z" fill="#000" fill-rule="nonzero"/>\n        </svg>\n    ').trim()},spinner:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="spinner" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792" >\n            <path fill="currentColor" d="M526 1394q0 53-37.5 90.5t-90.5 37.5q-52 0-90-38t-38-90q0-53 37.5-90.5t90.5-37.5 90.5 37.5 37.5 90.5zm498 206q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-704-704q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm1202 498q0 52-38 90t-90 38q-53 0-90.5-37.5t-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-964-996q0 66-47 113t-113 47-113-47-47-113 47-113 113-47 113 47 47 113zm1170 498q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-640-704q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm530 206q0 93-66 158.5t-158 65.5q-93 0-158.5-65.5t-65.5-158.5q0-92 65.5-158t158.5-66q92 0 158 66t66 158z"/>\n        </svg>\n    ').trim()}};function Wt(){var t=Array.prototype.slice.call(arguments),e=t.shift(),n=t.join(" "),i=zt[e];return i?i(n):""}function $t(t){var e,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,s=0;function c(){s=!1===a.leading?0:Date.now(),r=null,i=t.apply(e,n),r||(e=n=null)}return function(){var l=Date.now();s||!1!==a.leading||(s=l);var u=o-(l-s);return e=this,n=arguments,u<=0||u>o?(r&&(clearTimeout(r),r=null),s=l,i=t.apply(e,n),r||(e=n=null)):r||!1===a.trailing||(r=setTimeout(c,u)),i}}function Ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN;return"number"!=typeof t||isNaN(t)?n:Number(t.toFixed(e))}function Vt(t,e){return t.slice(0,-e.length)}function Bt(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.endsWith(e)?n?Bt(Vt(t,e),e,n):Vt(t,e):t}var Ft=n(7);function Ht(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=t[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Qt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ht(t.split("?"),2),i=n[0],o=n[1];return o=Object(C.a)(o||""),o=Object(Ft.a)(o,e),(o=Object(At.a)(o))&&(o="?".concat(o)),"".concat(i).concat(o)}n.d(e,"addCSS",function(){return i.a}),n.d(e,"ajaxGET",function(){return s}),n.d(e,"ajaxPOST",function(){return l}),n.d(e,"bindAll",function(){return u.a}),n.d(e,"bindKeyboardListeners",function(){return d}),n.d(e,"camelCase",function(){return p.a}),n.d(e,"canAutoplay",function(){return g}),n.d(e,"deleteCookie",function(){return v}),n.d(e,"ensureDataset",function(){return m.a}),n.d(e,"exitFullscreen",function(){return y}),n.d(e,"fetchLocal",function(){return k}),n.d(e,"fontAwesomeIcon",function(){return S}),n.d(e,"formatTime",function(){return O}),n.d(e,"freeze",function(){return j.a}),n.d(e,"fuzzyTime",function(){return A.a}),n.d(e,"get",function(){return b.a}),n.d(e,"getCapturingGroup",function(){return _}),n.d(e,"getColor",function(){return E}),n.d(e,"getCookie",function(){return T}),n.d(e,"getImage",function(){return D}),n.d(e,"getJSONP",function(){return x.a}),n.d(e,"getQueryStringObj",function(){return P.a}),n.d(e,"getQueryStringParameters",function(){return C.a}),n.d(e,"getRandomNumber",function(){return I}),n.d(e,"getTextTracks",function(){return L}),n.d(e,"getURL",function(){return N.a}),n.d(e,"getVideoSupport",function(){return R.a}),n.d(e,"getViewableFraction",function(){return z}),n.d(e,"globalError",function(){return W.a}),n.d(e,"globalEvent",function(){return $.a}),n.d(e,"has",function(){return U.a}),n.d(e,"hasExtension",function(){return V}),n.d(e,"hasFontAwesome",function(){return B}),n.d(e,"hash",function(){return F}),n.d(e,"isElementInViewport",function(){return H}),n.d(e,"isEmpty",function(){return Q}),n.d(e,"isFullscreen",function(){return Y}),n.d(e,"isHTMLElement",function(){return Z}),n.d(e,"isIframe",function(){return q.a}),n.d(e,"isInteger",function(){return K}),n.d(e,"isLocalStorageSupported",function(){return X}),n.d(e,"isNumWithin",function(){return J}),n.d(e,"isObject",function(){return tt.a}),n.d(e,"isURL",function(){return nt}),n.d(e,"isVisible",function(){return it}),n.d(e,"kabobCase",function(){return rt}),n.d(e,"loadCSS",function(){return st}),n.d(e,"loadScript",function(){return ct.a}),n.d(e,"nextTick",function(){return lt.a}),n.d(e,"noop",function(){return a.a}),n.d(e,"notEmpty",function(){return ut}),n.d(e,"onceVisible",function(){return dt}),n.d(e,"onReady",function(){return pt.a}),n.d(e,"openInNewTab",function(){return ht.a}),n.d(e,"openInPopup",function(){return gt}),n.d(e,"parseString",function(){return w.a}),n.d(e,"parseURL",function(){return ft.a}),n.d(e,"promiseCSS",function(){return vt}),n.d(e,"promiseHTML",function(){return wt}),n.d(e,"promiseImage",function(){return kt}),n.d(e,"promiseScript",function(){return St}),n.d(e,"promiseText",function(){return mt}),n.d(e,"protocolAgnosticURL",function(){return jt}),n.d(e,"querystringify",function(){return At.a}),n.d(e,"requestFullscreen",function(){return _t}),n.d(e,"scriptURL",function(){return Et.a}),n.d(e,"selectStreams",function(){return Dt}),n.d(e,"set",function(){return xt.a}),n.d(e,"setAttribute",function(){return Pt}),n.d(e,"setCookie",function(){return f}),n.d(e,"snakeCase",function(){return Ct}),n.d(e,"sniffClient",function(){return Mt}),n.d(e,"stashLocal",function(){return Rt}),n.d(e,"svgIcon",function(){return Wt}),n.d(e,"throttle",function(){return $t}),n.d(e,"toFixed",function(){return Ut}),n.d(e,"trimTrailing",function(){return Bt}),n.d(e,"upgradeQueryString",function(){return Qt})},function(t,e,n){"use strict";n.r(e);var i=n(9);function o(t){return Object(i.a)(t,function(t){return!!t})}var a=n(6);function r(t,e){if(Array.isArray(t)){for(var n=t.length,i=0;i<n;i++)if(t[i]===e)return!0}else if(Object(a.a)(t))for(var o in t)if(t[o]===e)return!0;return!1}function s(t){return Object(i.a)(t,function(t){return void 0!==t})}var c=n(7);function l(t,e){if(Array.isArray(t))return t.find(e);if(Object(a.a)(t))for(var n in t)if(e(t[n],n,t))return t[n]}var u=n(12);function d(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return 0===e?t:Array.isArray(t)?t.reduce(function(t,n){return Array.isArray(n)&&e>1?t.concat.apply(t,d(p(n,e-1))):t.concat(n)},[]):Object(u.a)(t,function(t,n,i){return Object(a.a)(n)?Object(c.a)(t,p(n,e-1)):Object(c.a)(t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},i,n))},{})}var h=n(3);function g(t,e){var n={};return Object(h.a)(t,function(t){var i="string"==typeof e?t[e]:e(t);n[i]=n[i]||[],n[i].push(t)}),n}var f=n(11),v=n(31),m=n(21);function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=-1/0;if(e){var i=-1/0;Object(h.a)(t,function(t,o,a){var r=e(t,o,a);(r>i||r===-1/0&&n===-1/0)&&(n=t,i=r)})}else Object(h.a)(t,function(t){return n=t>n?t:n});return n}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=1/0;if(e){var i=1/0;Object(h.a)(t,function(t,o,a){var r=e(t,o,a);(r<i||r===1/0&&n===1/0)&&(n=t,i=r)})}else Object(h.a)(t,function(t){return n=t<n?t:n});return n}function w(t,e){e=Array.isArray(e)?e:[e];var n={};return Object(h.a)(t,function(t,i){r(e,i)||(n[i]=t)}),n}var k=n(8);function S(t,e){e=Array.isArray(e)?e:[e];var n={};return e.forEach(function(e){Object(k.a)(t,e)&&(n[e]=t[e])}),n}function O(t,e){return(e=Array.isArray(e)?e:[e]).map(function(e){return t[e]})}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a;return Array.from(Array(t),function(t,n){return e(n)})}function A(t,e){return Object(i.a)(t,function(t,n,i){return!e(t,n,i)})}function _(t,e){var n=Object(c.a)(t);return Object(h.a)(e,function(t,e){e in n&&(n[t]=n[e],delete n[e])}),n}function E(t){return!!l(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a)}function T(t){var e={log:function(){return console.debug(t),e},value:function(){return t}};return Object(h.a)(D,function(n,i){e[i]=function(){return t=n.apply(void 0,[t].concat(Array.prototype.slice.call(arguments))),e}}),e}n.d(e,"chain",function(){return T}),n.d(e,"_",function(){return D}),n.d(e,"compact",function(){return o}),n.d(e,"contains",function(){return r}),n.d(e,"defined",function(){return s}),n.d(e,"extend",function(){return c.a}),n.d(e,"filter",function(){return i.a}),n.d(e,"find",function(){return l}),n.d(e,"flatten",function(){return p}),n.d(e,"forEach",function(){return h.a}),n.d(e,"groupBy",function(){return g}),n.d(e,"identity",function(){return f.a}),n.d(e,"map",function(){return v.a}),n.d(e,"mapObj",function(){return m.a}),n.d(e,"max",function(){return b}),n.d(e,"min",function(){return y}),n.d(e,"omit",function(){return w}),n.d(e,"pick",function(){return S}),n.d(e,"pluck",function(){return O}),n.d(e,"range",function(){return j}),n.d(e,"reduce",function(){return u.a}),n.d(e,"reject",function(){return A}),n.d(e,"rename",function(){return _}),n.d(e,"some",function(){return E});var D={compact:o,contains:r,defined:s,extend:c.a,filter:i.a,find:l,flatten:p,forEach:h.a,groupBy:g,identity:f.a,map:v.a,mapObj:m.a,max:b,min:y,omit:w,pick:S,pluck:O,range:j,reduce:u.a,reject:A,rename:_,some:E}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(6);function o(t,e){if(Array.isArray(t))t.forEach(e);else if(Object(i.a)(t))for(var n in t)e(t[n],n,t);return t}},function(t,e,n){"use strict";function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return a});var o=/[[\]]/g;function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if((e="string"==typeof e?e.replace(o,".").split(".").filter(function(t){return!!t}):i(e)).length){var r=e.shift();try{return null!==t&&r in t&&void 0!==t[r]?a(t[r],e,n):n}catch(t){return n}}return void 0!==t?t:n}},function(t,e,n){"use strict";function i(){}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return!(!t||"object"!==i(t)||Array.isArray(t))}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(8),o=n(6),a=n(3);function r(t){for(var e=Object.assign({},t),n=arguments.length,s=new Array(n>1?n-1:0),c=1;c<n;c++)s[c-1]=arguments[c];return s.forEach(function(t){Object(a.a)(t,function(n,a){Object(i.a)(t,a)&&(Object(o.a)(n)&&Object(o.a)(e[a])&&n!==e[a]?e[a]=r(e[a],n):e[a]=n)})}),e}},function(t,e,n){"use strict";function i(t,e){return t&&e in t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(3);function o(t,e){var n={};return Array.isArray(t)?t.filter(e):(Object(i.a)(t,function(t,i){e(t,i)&&(n[i]=t)}),n)}},function(t,e,n){"use strict";n.r(e),n.d(e,"$",function(){return u}),n.d(e,"PoWaPack",function(){return O});var i=n(0),o=n(1),a=n(29);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function u(t){return new O(t)}var d,p=new WeakMap,h=new WeakMap,g=new WeakMap,f=new Set;function v(){d=null,f.size&&(f.forEach(function(t){var e=h.get(t),n=g.get(t),i=t.width(),o=t.height();e===i&&n===o||(h.set(t,i),g.set(t,o),p.get(t).trigger("resize",{width:i,height:o,oldWidth:e,oldHeight:n}))}),d=requestAnimationFrame(v))}function m(t){var e=this;p.get(this).on("resize",t),f.add(this),h.set(this,this.width()),g.set(this,this.height()),window.ResizeObserver?(this.ro||(this.ro=new window.ResizeObserver(function(t){var e=this;t.forEach(function(t){var n=e;if(f.has(n)){var i=h.get(n),o=g.get(n),a=t.contentRect.width,r=t.contentRect.height?t.contentRect.height:t.target.offsetHeight;h.set(n,a),g.set(n,r),p.get(n).trigger("resize",{width:a,height:r,oldWidth:i,oldHeight:o})}})}.bind(this))),this.elements.forEach(function(t){return e.ro.observe(t)})):d||(d=requestAnimationFrame(v))}function b(){this._bodyObserver&&this._bodyObserver.disconnect(),this.addedToDOMRAF&&cancelAnimationFrame(this.addedToDOMRAF)}function y(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,a=function(t,n,i){return e.trigger(t,{isViewable:n,intersectionRatio:i})};this.intersectionObserver||this.throttledCheckViewable||function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=function(e){var n=e.isViewable?i.l.VIEWABLE:i.l.NOT_VIEWABLE;e.isViewable!==t.inFrame&&(t.inFrame=e.isViewable,t.trigger(n,e))};if(this.viewableThreshold=e,this.inFrame=Object(o.getViewableFraction)(this.elements[0])>=e,window.IntersectionObserver)this.intersectionObserver=new IntersectionObserver(function(t){n({isViewable:e?t[0].intersectionRatio>=e:t[0].isIntersecting,intersectionRatio:t[0].intersectionRatio})},{threshold:e}),this.intersectionObserver.observe(this.elements[0]);else{this.throttledCheckViewable=Object(o.throttle)(function(){var i=Object(o.getViewableFraction)(t.elements[0]);n({isViewable:e?i>=e:!!i,intersectionRatio:i})},100),window.addEventListener("scroll",this.throttledCheckViewable,!1)}}.call(this,n);var r=Object(o.getViewableFraction)(this.elements[0]);t===i.l.VIEWABLE&&(this.viewableThreshold?this.viewableThreshold<=r&&a(i.l.VIEWABLE,!0,r):r&&a(i.l.VIEWABLE,!0,r)),t===i.l.NOT_VIEWABLE&&(this.viewableThreshold?this.viewableThreshold>r&&a(i.l.NOT_VIEWABLE,!1,r):r||a(i.l.NOT_VIEWABLE,!1,r))}function w(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b".concat(e,"\\b")).test(t.getAttribute("class")||"")}function k(t,e){if(t instanceof Element&&!w(t,e))if(t.classList)t.classList.add(e);else if(!w(t,e)){var n=t.getAttribute("class")||"";t.setAttribute("class","".concat(n," ").concat(e))}}function S(t,e){if(t.classList)t.classList.remove(e);else{var n=t.getAttribute("class")||"";t.setAttribute("class",n.replace(new RegExp("\\b".concat(e,"\\b"),"g"),""))}}var O=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(o.bindAll)(this),this.isPoWaPack=!0,p.set(this,new a.a),this.elements=[],e="string"==typeof e?e.trim():e,Object(o.isHTMLElement)(e))this.elements.push(e);else if(e instanceof NodeList)this.elements=s(e);else if(e.length&&"<"===e[0]){var i;(i=this.elements).push.apply(i,s(this.createDomNode(e)))}else if(e.length&&"#"===e[0])this.elements.push(this.getElement(e,n));else{var r;(r=this.elements).push.apply(r,s(this.getElements(e,n)))}}return l(t,null,[{key:"EVENTS",get:function(){return i.l}}]),l(t,[{key:"add",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(n=n.isPoWaPack?n:new t(n)).elements.forEach(function(t){return e.elements.push(t)})}},{key:"append",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n=n.isPoWaPack?n:new t(n),this.elements.length?n.elements.forEach(function(t){return e.elements[e.elements.length-1].appendChild(t)}):n.elements.forEach(function(t){return e.elements.push(t)})}},{key:"after",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n=n.isPoWaPack?n:new t(n),this.elements.length?(n.elements.reverse(),n.elements.forEach(function(t){var n=e.elements[e.elements.length-1];n.parentNode.insertBefore(t,n.nextSibling)}),n.elements.reverse()):n.elements.forEach(function(t){return e.elements.push(t)})}},{key:"wrap",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n=n.isPoWaPack?n:new t(n),this.elements[0]&&(n.parent().elements[0].insertBefore(this.elements[0],n.elements[0]),n.elements.forEach(function(t){return e.elements[0].appendChild(t)}))}},{key:"attr",value:function(t,e){if(void 0===e&&this.elements.length)return this.elements[0].getAttribute(t);!0===e&&this.elements.length?this.elements.forEach(function(e){return e.setAttribute(t,"")}):!1===e&&this.elements.length?this.elements.forEach(function(e){return e.removeAttribute(t)}):this.elements.forEach(function(n){return n.setAttribute(t,e)})}},{key:"removeAttr",value:function(t){this.elements.forEach(function(e){return e.removeAttribute(t)})}},{key:"createDomNode",value:function(t){if("string"==typeof t){var e=document.createElement("div");return e.innerHTML=t,s(e.childNodes).map(function(t){return t.parentNode.removeChild(t)})}}},{key:"detach",value:function(){this.elements.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},{key:"getElement",value:function(t,e){return(e||document).querySelector(t)}},{key:"getElements",value:function(t,e){if(!t)return[];var n=(e||document).querySelectorAll(t);return Array.prototype.slice.call(n)}},{key:"hasClass",value:function(t){var e=this.elements.map(function(e){return w(e,t)});return 0===e.length?void 0:1===e.length?e[0]:e}},{key:"addClass",value:function(t){this.elements.forEach(function(e){return k(e,t)})}},{key:"removeClass",value:function(t){this.elements.forEach(function(e){return S(e,t)})}},{key:"toggleClass",value:function(t){this.elements.forEach(function(e){return function(t,e){w(t,e)?S(t,e):k(t,e)}(e,t)})}},{key:"getClasses",value:function(){var t=this;return this.elements.reduce(function(e,n){if(n.classList)return e.concat(Array.from(n.classList));var i=t.attr("class")||"";return e.concat(i.split(" "))},[])}},{key:"html",value:function(t){if(this.elements.length){if(!t)return this.elements[0].innerHTML;this.elements[0].innerHTML=t}}},{key:"css",value:function(t){var e=this,n=function(n){"object"===r(t[n])?e.find(n).css(t[n]):e.elements.forEach(function(e){return e.style[n]=t[n]})};for(var i in t)n(i)}},{key:"parent",value:function(){return this.elements.length?new t(this.elements[0].parentNode):null}},{key:"children",value:function(){return this.elements.length?new t(this.elements[0].childNodes):null}},{key:"width",value:function(){return this.elements.length?this.elements[0].offsetWidth:null}},{key:"height",value:function(){return this.elements.length?this.elements[0].offsetHeight:null}},{key:"offset",value:function(){if(!this.elements.length)return null;var t=this.elements[0].getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}},{key:"position",value:function(){return this.elements.length?{top:this.elements[0].offsetTop,left:this.elements[0].offsetLeft}:null}},{key:"isInDOM",value:function(){return this.elements.length?this.reduce(function(t,e){return t&&document.body.contains(e)},!0):null}},{key:"find",value:function(e){e=e.replace(/\s/g,"");var n,i=[];return 1===this.elements.length?new t(e,this.elements[0]):(this.elements.forEach(function(n){return i.push(new t(e,n))}),i.length?(i.forEach(function(t){var e;n?(e=n.elements).push.apply(e,s(t.elements)):n=t}),n):void 0)}},{key:"show",value:function(){return this.elements.reduce(function(t,e){return(e instanceof HTMLElement||e instanceof SVGElement)&&"none"===e.style.display?(e.style.display=e.getAttribute("data-display")||"",!0):t},!1)}},{key:"hide",value:function(){return this.elements.reduce(function(t,e){if(e instanceof HTMLElement||e instanceof SVGElement){var n=Object(o.get)(e,"style.display"),i=Object(o.get)(e,"currentStyle.display"),a=getComputedStyle(e).display,r=n||i||a;return"none"!==r?(r&&e.setAttribute("data-display",r),e.style.display="none",!0):t}return t},!1)}},{key:"toggleShow",value:function(){this.visible()?this.hide():this.show()}},{key:"visible",value:function(){return this.elements.reduce(function(t,e){return e instanceof HTMLElement?t&&"none"!==e.style.display:t},!0)}},{key:"empty",value:function(){this.elements.forEach(function(t){return t.innerHTML=""})}},{key:"filter",value:function(t){return this.elements.filter(t)}},{key:"which",value:function(t){return this.elements.find(t)}},{key:"forEach",value:function(t){return this.elements.forEach(t),this}},{key:"map",value:function(t){return this.elements.map(t)}},{key:"reduce",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null!=this.elements[0]?this.elements[0]:0;return this.elements.reduce(t,e)}},{key:"on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&e)switch(t){case i.l.RESIZE:m.call(this,e);break;case i.l.ADDED_TO_DOM:(function t(e){var n=this;this.isInDOM()?(this.addedToDOMRAF&&delete this.addedToDOMRAF,e()):window.MutationObserver?(this._bodyObserver=new MutationObserver(function(t){n.isInDOM()&&(n._bodyObserver.disconnect(),delete n._bodyObserver,e())}),this._bodyObserver.observe(document.body,{childList:!0,subtree:!0})):this.addedToDOMRAF=requestAnimationFrame(function(){return t.call(n,e)})}).call(this,e);break;default:this.elements.forEach(function(n){return n.addEventListener(t,e)}),t!==i.l.VIEWABLE&&t!==i.l.NOT_VIEWABLE||y.call(this,t,n.threshold)}}},{key:"off",value:function(t,e){if(t&&e)switch(t){case i.l.RESIZE:(function(t){var e=p.get(this);e.off("resize",t),e.length("resize")||f.delete(this)}).call(this,e);break;case i.l.ADDED_TO_DOM:b.call(this);break;default:this.elements.forEach(function(n){return n.removeEventListener(t,e)})}}},{key:"once",value:function(t,e,n){var i=this,o=arguments;if(t&&e){this.on(t,function n(){i.off(t,n),e(o)},n)}}},{key:"onceIf",value:function(t,e,n,i){var o=this,a=arguments;if(t&&n){this.on(t,function i(){e(a)&&(o.off(t,i),n(a))},i)}}},{key:"until",value:function(t,e,n,i){var o=this,a=arguments;if(t&&n){this.on(t,function i(){n(a),e(a)&&o.off(t,i)},i)}}},{key:"trigger",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){e=Object.assign({type:t},e);var n=new CustomEvent(t,{detail:e});this.elements.forEach(function(t){return t.dispatchEvent(n)})}}},{key:"destroy",value:function(){this.detach(),p.get(this).destroy(),p.set(this,null),f.delete(this),b.call(this),this.intersectionObserver&&this.intersectionObserver.disconnect(),this.throttledCheckViewable&&window.removeEventListener("scroll",this.throttledCheckViewable,!1),this.empty()}}]),t}()},function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(3);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null!=t[0]?t[0]:0;return Array.isArray(t)?t.reduce(e,n):(Object(i.a)(t,function(t,i,o){n=e(n,t,i,o)}),n)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=["constructor","__proto__"];function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t){e=i.concat(e);for(var n=Object.getPrototypeOf(t);n!==Object.prototype;n=Object.getPrototypeOf(n))Object.getOwnPropertyNames(n).filter(function(t){return!e.includes(t)}).forEach(function(e){return t[e]=t[e].bind(t)})}else console.error("[PoWaTools][bindAll] Missing parameter")}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return t&&"object"===o(t)&&(Object(i.a)(t,a),Object.freeze(t)),t}},function(t,e,n){"use strict";function i(t){return setTimeout(t,0)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=/^{.*}$/,o=/^\[.*\]$/;function a(t){return"string"!=typeof t?t:""===t?"":"true"===t.toLowerCase()||"false"!==t.toLowerCase()&&("null"===t.toLowerCase()?null:"undefined"===t.toLowerCase()?void 0:isNaN(Number(t))?i.test(t)||o.test(t)?JSON.parse(decodeURIComponent(t)):t:Number(t))}},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.location.search,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",i={};return t.replace(/(^\?)/,"").split(e).forEach(function(t){(t=t.split(n))[0]&&(i[t[0]]=t[1])}),i}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=/^[A-Z]/,o=/-([a-z]?)/g;function a(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(i,function(t){return t.toLowerCase()}).replace(o,function(t,e){return e.toUpperCase()})}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(12),o=n(6);function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=";return Object(i.a)(t,function(t,i,a){return i=Object(o.a)(i)?JSON.stringify(i):i,"".concat(t).concat(t?e:"").concat(a).concat(n).concat(encodeURIComponent(i))},"")}},function(t,e,n){"use strict";function i(t,e){var n=document.createElement("style");if(n.type="text/css",e){var i=document.querySelector("style#".concat(e));i&&i.parentNode.removeChild(i),n.id=e}t&&(n.appendChild(document.createTextNode(t)),document.head.appendChild(n))}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(3),o=n(8),a=n(6);function r(t,e){var n={};return Array.isArray(t)?Object(i.a)(t,function(i,r){var s=e(i,r,t);Object(a.a)(s)&&Object(o.a)(s,"key")&&Object(o.a)(s,"value")?n[s.key]=s.value:n[r]=s}):Object(i.a)(t,function(i,r){var s=e(i,r,t);Object(a.a)(s)&&Object(o.a)(s,"key")&&Object(o.a)(s,"value")?n[s.key]=s.value:n[r]=s}),n}},function(t,e,n){"use strict";function i(t){var e=document.querySelectorAll('script[src*="'.concat(t,'"]'));return e.length&&e[0].src?e[0].src:null}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(5);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a,o=document.querySelector('script[src="'.concat(t,'"]'));if(o&&o.hasAttribute("data-powa-script"))o.hasAttribute("data-load")?e():o.hasAttribute("data-error")?n():(o.addEventListener("load",e),o.addEventListener("error",n));else{o=document.createElement("script");var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a),o.addEventListener("error",function(){o.setAttribute("data-error",!0),n()}),o.addEventListener("load",function(){o.setAttribute("data-load",!0),e()}),o.setAttribute("data-powa-script",!0),o.type="text/javascript",o.async=!0,o.src=t}}},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"powaUnspecified",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"powaUnspecified"===t&&console.error("[globalEvent] - unspecified type"),e.type=e.type||t,window.dispatchEvent(new CustomEvent(t,{detail:e}))}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(26);function o(){return Object(i.a)()?document.referrer:window.location.href}},function(t,e,n){"use strict";function i(){try{return window.self!==window.top}catch(t){return!0}}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t){window.open(t,"_blank").focus()}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(25);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=t[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(i.a)(),e=o(t.split("//"),2),n=e[0],a=e[1],r=a.indexOf("/"),s=r>-1?a.substr(0,r):a,c=r>-1?a.substr(r):"/";t=r>0?t:"".concat(t,"/");var l=o(s.split(":"),2),u=l[0],d=l[1],p=void 0===d?"":d,h=c.indexOf("?"),g=c.indexOf("#"),f=h>-1?c.substr(0,h):g>-1?c.substr(0,g):c,v=h>-1&&g>-1?c.substring(h,g):h>-1?c.substr(h):"";return{hash:g>-1?c.substr(g):"",host:s,hostname:u,href:t,origin:"".concat(n,"//").concat(s),pathname:f,port:p,protocol:n,search:v}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(2);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={}}var e,n,a;return e=t,(n=[{key:"on",value:function(t,e,n){t&&e&&(n=n||e,this.events[t]=this.events[t]||new Map,this.events[t].set(e,e.bind(n)))}},{key:"off",value:function(t,e){this.events[t]&&this.events[t].delete(e)}},{key:"once",value:function(t,e,n){var i=this;if(n=n||e,t&&e){this.on(t,function n(){i.off(t,n),e.apply(void 0,arguments)},n)}}},{key:"onceIf",value:function(t,e,n,i){var o=this;if(i=i||n,t&&e&&n){this.on(t,function i(){e.apply(void 0,arguments)&&(o.off(t,i),n.apply(void 0,arguments))},i)}}},{key:"until",value:function(t,e,n,i){var o=this;if(i=i||n,t&&e&&n){this.on(t,function i(){n.apply(void 0,arguments),e.apply(void 0,arguments)&&o.off(t,i)},i)}}},{key:"trigger",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object.assign({type:t},e),this.events["*"]&&this.events["*"].forEach(function(n){return n(e,t)}),this.events[t]&&this.events[t].forEach(function(n){return n(e,t)})}},{key:"length",value:function(t){return this.events[t]?this.events[t].size:0}},{key:"destroy",value:function(){var t=this;Object(i.forEach)(this.events,function(e,n){e.forEach(function(t){return e.delete(t)}),delete t.events[n]})}}])&&o(e.prototype,n),a&&o(e,a),t}()},function(t,e,n){"use strict";n.d(e,"d",function(){return l}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return p}),n.d(e,"f",function(){return g}),n.d(e,"a",function(){return v}),n.d(e,"e",function(){return b}),n.d(e,"j",function(){return y}),n.d(e,"m",function(){return w}),n.d(e,"h",function(){return k}),n.d(e,"g",function(){return S}),n.d(e,"i",function(){return O}),n.d(e,"k",function(){return j}),n.d(e,"l",function(){return A});var i=n(4),o=n(22),a={DEFAULT:"https://d1bl11pgu3tw3h.cloudfront.net","refresh-demos":"https://duipxr364cdla.cloudfront.net",abccolor:"https://dkggbgsyvgsr6.cloudfront.net",ajc:"https://ajc.video-player.arcpublishing.com",adn:"https://d3hx2fmdmxvu47.cloudfront.net",advancelocal:"https://dm32zrtgin2a8.cloudfront.net",answers:"https://d3ed7e5yt5qhaw.cloudfront.net",appledaily:"https://d2bdaljplukmuj.cloudfront.net",bonnier:"https://dlbqnuhvjsfjk.cloudfront.net",bostonglobe:"https://d1zokzhal29fpg.cloudfront.net",bp:"https://dv925xhcutrrv.cloudfront.net",cmg:"https://cmg.video-player.arcpublishing.com",demo:"https://d328y0m0mtvzqc.cloudfront.net",dmn:"https://d2bvfdz3bljcfk.cloudfront.net",elcomercio:"https://d1tqo5nrys2b20.cloudfront.net",elespectador:"https://elespectador.video-player.arcpublishing.com",gmg:"https://d3t0x48b5v1we0.cloudfront.net",gray:"https://gray.video-player.arcpublishing.com",grupoclarin:"https://d2w9ap1xsny1x1.cloudfront.net",gruponacion:"https://d2d765ytpxgyaz.cloudfront.net",gruporepublica:"https://d1lmwiprz325su.cloudfront.net",guidepost:"https://d2f9kn2gap57b3.cloudfront.net",infobae:"https://d2uans147eyg5w.cloudfront.net",larazon:"https://d4rumjya1go0z.cloudfront.net",lanacionar:"https://d1zp4l5vb5htxp.cloudfront.net",leparisien:"https://d2hvlo0zc03amm.cloudfront.net",laprensa:"https://dfolklnl1rz69.cloudfront.net",madsack:"https://d292syca71gp6a.cloudfront.net",mentormedier:"https://dk7q64383ioq3.cloudfront.net",mco:"https://dv90bhm02uda6.cloudfront.net",nzme:"https://djlju39ioylga.cloudfront.net",obp:"https://d1ubiqy58ep1oo.cloudfront.net",pmn:"https://dzyf5jtgd0sxp.cloudfront.net",prisa:"https://dg4rmse8mb0lw.cloudfront.net",raycom:"https://d3mo2m0b34ee8e.cloudfront.net",semana:"https://d2pdh19wt88q5.cloudfront.net",spectator:"https://d2bnz05fk6ka6f.cloudfront.net",staging:"https://d20bvihs725teq.cloudfront.net",suitexchange:"https://d4i2py3aovxp9.cloudfront.net",tbt:"https://d3a8t11oyn5iv.cloudfront.net",tgam:"https://d6e4eccju4kk3.cloudfront.net",tronc:"https://diodxcszlbmwk.cloudfront.net",wapo:"https://d1pz6dax0t5mop.cloudfront.net",wweek:"https://d1d8qhh5luwkfj.cloudfront.net"},r={wapo:"https://d3loyummexm3dy.cloudfront.net"},s=/localhost|10\.0\.2\.2/,c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT";return a[t]||a.DEFAULT};function l(t){var e=t?t.split("/"):[];return(e=e.reverse()).shift(),e.shift(),"v"===e[0]&&e.shift(),e=e.reverse().join("/")}function u(t){var e=l(t),n=t.replace(e,"");return(n=n?n.split("/"):[]).shift(),n.pop(),n=n.join("/")}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"powaBoot.js",n=Object(o.a)(e);return(n?l(n):null)||a[t]||a.DEFAULT}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"powaBoot.js",e=Object(o.a)(t),n=e?u(e):null,i=location.pathname.split("/");return i.shift(),i.pop(),i=i.join("/"),s.test(location.origin)?"local":n||(i||"prod")}function h(){return Object(i.a)(window,"PoWaSettings.org","DEFAULT")}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p(),n=arguments.length>2?arguments[2]:void 0,i=function(e){return"".concat(d(t),"/").concat(e,"/org/").concat(t,".js?org=").concat(t)};return n?i("v/".concat(n)):"local"===e?"/org/".concat(t,".js"):i(e)}var f="5.2.0";function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)(window,"PoWaSettings.comscore.script","streamsense.min.js"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.a)(window,"PoWaSettings.comscore.version",f);return Object(i.a)(window,"PoWaSettings.comscore.url","".concat(c(),"/vendor/comscore/").concat(n,"/").concat(e,"?org=").concat(t))}var m="0.12.4";function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)(window,"PoWaSettings.hlsjs.script","hls.min.js"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.a)(window,"PoWaSettings.hlsjs.version",m);return Object(i.a)(window,"PoWaSettings.hlsjs.url","".concat(c(),"/vendor/hls.js/").concat(n,"/").concat(e,"?org=").concat(t))}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h();return"".concat(c(),"/asset/").concat(t,"?org=").concat(e)}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"powa.js",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p(),i=arguments.length>3?arguments[3]:void 0,o=function(n){return"".concat(d(e),"/").concat(n,"/").concat(t,"?org=").concat(e)};return i?o("v/".concat(i)):"local"===n?"/js/".concat(t):o(n)}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p("powAudioBoot.js");switch(e){case"local":return"http://localhost:8080/js/".concat(t,"Audio.js");default:return"".concat(r[t],"/").concat(e,"/").concat(t,"Audio.js")}}function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p("powAudioBoot.js");switch(e){case"local":return"http://localhost:8080/js/powAudioBoot.js";default:return"".concat(r[t],"/").concat(e,"/powAudioBoot.js")}}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p("powAudioBoot.js");switch(e){case"local":return"http://localhost:8080/js/powAudio.js";default:return"".concat(r[t],"/").concat(e,"/powAudio.js")}}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p();arguments.length>2&&arguments[2];switch(e){case"local":return"/powaEmbed.html";default:return"".concat(d(t),"/").concat(e,"/powaEmbed.html")}}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p();arguments.length>2&&arguments[2];switch(e){case"local":return"/powaPlaylist.html";default:return"".concat(d(t),"/").concat(e,"/powaPlaylist.html")}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(3);function o(t,e){var n=[];return Array.isArray(t)?t.map(e):(Object(i.a)(t,function(i,o){n.push(e(i,o,t))}),n)}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"c",function(){return r}),n.d(e,"e",function(){return s});var i=function(){return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator="},o=function(){return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=vmap&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ar%3Dpreonlybumper&cmsid=496&vid=short_onecue&correlator="},a=function(){return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator="},r=function(){return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=vmap&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ar%3Dpremidpost&cmsid=496&vid=short_onecue&correlator="},s=function(){return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinearvpaid2js&correlator="}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0);function o(t){var e=Math.floor(t/i.d),n=Math.floor(t/i.e),a=Math.floor(t%i.e/i.f);return e>1?"".concat(e," days"):n>3?"".concat(n," hours"):n?"".concat(n," ").concat(n>1?"hours":"hour").concat(a?" ".concat(o(a*i.f)):""):a?"".concat(a," ").concat(a>1?"minutes":"minute"):"less than a minute"}},function(t,e,n){"use strict";function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return a});var o=/[[\]]/g;function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=(e="string"==typeof e?e.replace(o,".").split(".").filter(function(t){return!!t}):i(e)).shift();return e.length?(t[s]=t[s]?t[s]:isNaN(e[0])?{}:[],a(t[s],e,n,r)):(t[s]=r||void 0===t[s]?"function"==typeof n?n():n:t[s],t[s])}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(21),o=n(17),a=n(16);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.location.search,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=";return Object(i.a)(Object(o.a)(t,e,n),a.a)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(24);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"powaError";console.error(t),Object(i.a)(e,t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(3),o=n(18);function a(t){return t.dataset?t:(t.dataset=(e=t.attributes,n={},Object(i.a)(e,function(t,e){e.startsWith("data-")&&(e=e.substr(5),n[Object(o.a)(e)]=t)}),n),t);var e,n}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=/android/i.test(window.navigator.userAgent);function o(){var t,e,n,o,a=document.createElement("video");return!!!!a.canPlayType&&{ogg:a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),h264:a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),webm:a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),vp9:a.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),hls:a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&!i,hlsJS:(t=window.MediaSource||window.WebKitMediaSource,e=window.SourceBuffer||window.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove,n&&o)}}},function(t,e,n){"use strict";function i(t){"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),o=n(7),a=n(15),r=n(5),s=n(19);var c=0;function l(t){var e,n=t.id||++c,l=t.callbackParam||"cb",u=t.timeout||10,d="powaResolvees".concat(n),p="powaRejectees".concat(n),h="powaCallback".concat(n),g="powaScript".concat(n);window[d]=window[d]||[],"function"==typeof t.resolve&&window[d].push(t.resolve),window[p]=window[p]||[],"function"==typeof t.reject&&window[p].push(t.reject);var f,v,m,b=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];clearTimeout(e),i&&delete window[h];var o=document.getElementById(g);o&&(o.onerror=r.a,o.parentNode&&o.parentNode.removeChild(o)),Array.isArray(t)&&t.forEach(function(t){return t(n)}),delete window[d],delete window[p]};if(!window[h]){window[h]=function(t){return b(window[d],t,!0)};var y=document.createElement("script");document.body.appendChild(y),y.id=g,y.onerror=function(t){return b(window[p],t)},e=setTimeout(function(){return y.onerror(Error("Timeout ".concat(u," seconds.")))},u*i.g),y.onload=function(){Object(a.a)(function(){return b(window[p],Error("Not a JSONP response."))})};var w=Object(s.a)(Object(o.a)((m=h,(v=l)in(f={})?Object.defineProperty(f,v,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[v]=m,f),t.data));y.src="".concat(t.url).concat(t.url.includes("?")?"&":"?").concat(w)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(10),o=n(2),a=n(20),r=n(13),s=n(0);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f={};var v={adContainerStyle:{position:"absolute",height:"100%",width:"100%",left:"0px",top:"0px"},className:"powa-sell",MODULE:"PoWaSell",ready:function(){console.debug("[".concat("PoWaSell","] ready"))},setupError:console.error,STATES:f,style:{width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px",background:"black"},template:function(t){return'<div class="'.concat(t.className,'"></div>')}},m=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s,u,p=Object(o.extend)(v,n);return s=this,(t=!(u=d(e).call(this,p.template(p)))||"object"!==c(u)&&"function"!=typeof u?l(s):u).settings=p,t.settings.$container=t.settings.$container||t.settings.powa.get$container(),Object(r.a)(l(t)),Object(a.a)("function"==typeof t.settings.style?t.settings.style(t.settings):t.settings.style,t.settings.MODULE),t.hide(),Object.assign(f,i),t._setupPoWaSell(),t._setupListeners(),t._setupElements(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,i["PoWaPack"]),h(e,null,[{key:"MODULE",get:function(){return"PoWaSell"}},{key:"EVENTS",get:function(){return s.o}},{key:"STATES",get:function(){return f}}]),h(e,[{key:"_setupPoWaSell",value:function(){if(!this.settings.$container){if(!this.settings.id)throw{error:"missing container",message:"Element ID of container or PoWaPack wrapped container element required"};this.settings.id=this.settings.id.replace(/(^#)/,""),this.settings.$container=Object(i.$)("#".concat(this.settings.id))}}},{key:"_setupListeners",value:function(){var t=this;this.settings.powa.on(s.t.RESIZE,this.resize),Object(o.forEach)(s.n,function(e){t[e]&&t.settings.powa.on(e,t[e])})}},{key:"_setupElements",value:function(){var t;this.settings.$container.append(this),this.$adContainer=Object(i.$)((t=this.settings,'<div id="powa-sell-ad-container-'.concat(t.id,'"></div>'))),this.$adContainer.css(this.settings.adContainerStyle),this.append(this.$adContainer)}},{key:"destroy",value:function(){var t=this;this.settings.powa.off(s.t.RESIZE,this.resize),Object(o.forEach)(s.n,function(e){t[e]&&t.settings.powa.off(e,t[e])}),this.detach(),this.trigger(s.o.AD_DESTROYED,{type:s.o.AD_DESTROYED}),u(d(e.prototype),"destroy",this).call(this)}},{key:"adBarMute",value:function(t){this.settings.powa.mute(),this.mute()}},{key:"adBarPause",value:function(t){this.pause()}},{key:"adBarPlay",value:function(t){this.play()}},{key:"adBarSkip",value:function(t){this.skip()}},{key:"adBarShow",value:function(t){this.$adContainer.css(t.shrinkCSS),this.resize({fullscreen:this.settings.powa.isFullscreen(),height:t.shrinkBy.height,width:t.shrinkBy.width})}},{key:"adBarHide",value:function(t){this.$adContainer.css(t.shrinkCSS),this.resize({fullscreen:this.settings.powa.isFullscreen(),height:t.shrinkBy.height,width:t.shrinkBy.width})}},{key:"resize",value:function(t){this.settings.debug&&console.debug("[".concat("PoWaSell","][resize]"),t),t.shrinkCSS&&this.$adContainer.css(t.shrinkCSS)}}]),e}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(2),o=n(1),a=n(0);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=Object.freeze({error:console.error,fetchOnPause:!0,playthroughFetchPercentage:.8}),c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=Object(i.extend)(s,e);var r=this.settings.powa.getVideoData();if(!(this.settings.powa&&this.settings.powa.getDataset().playthrough&&Object(o.get)(r,"additional_properties.embedContinuousPlay")))return null;Object(o.bindAll)(this),this.powa=e.powa,Object(i.forEach)(a.t,function(t){n[t]&&n.powa.on(t,n[t])})}var e,n,c;return e=t,(n=[{key:"fetchRecommendedPlaylist",value:function(){if(!this.fetched){this.fetched=!0;var t=this.powa.getAPI(),e=this.powa.setPlaylist,n=console.error,i=this.powa.getOrg(),o=this.powa.getVideoData()._id;PoWaSettings.videoAPI({api:t,org:i,type:"recommended",uuid:o}).then(function(t){t.length?e(t):n({uuid:o,error:"No recommended videos available for ".concat(o,"."),message:"Failed recommendedPlaylist API call."})}).catch(function(t){n({uuid:o,error:t,message:"Failed recommendedPlaylist API call."})})}}},{key:"fetchOnPause",value:function(){this.powa.off(a.t.TIME,this.time),"live"!==Object(o.get)(event,"videoData.video_type")&&this.fetchRecommendedPlaylist()}},{key:"mediaStart",value:function(t){this.powa.off(a.t.MEDIA_START,this.mediaStart),this.settings.fetchOnPause&&this.powa.once(a.t.PAUSE,this.fetchOnPause)}},{key:"time",value:function(t){var e=t.duration,n=t.time;n&&e&&n/e>this.settings.playthroughFetchPercentage&&(this.powa.off(a.t.TIME,this.time),this.powa.off(a.t.MEDIA_START,this.mediaStart),"live"!==Object(o.get)(t,"videoData.video_type")&&this.fetchRecommendedPlaylist())}}])&&r(e.prototype,n),c&&r(e,c),t}()},function(t,e,n){"use strict";var i=n(1),o=n(2),a=n(7),r=Object(i.freeze)({MT_AVAILS:"mtAvails",MT_ERROR:"mtError",MT_FIRST_FRAME:"mtFirstFrame",MT_REQUEST:"mtRequest",MT_SESSION:"mtSession",MT_START:"mtStart"}),s="clickThrough",c="clickTracking",l="complete",u="exitFullscreen",d="firstQuartile",p="fullscreen",h="impression",g="midpoint",f="mute",v="pause",m="resume",b="rewind",y="start",w="thirdQuartile",k="unmute",S=["DIS","EXT-X-CUE-OUT","EXT-X-CUE-IN"],O=n(0),j="MediaTailorUp",A=!1;function _(t){var e=t.adTag,n=t.endpoint,o=t.powa,s=t.root,c=t.videoData;return new Promise(function(t,l){var u=function(t){return Object(i.selectStreams)({streams:t.streams,live:"live"===t.video_type,maxBitrate:PoWaSettings.maxBitrate[PoWaSettings.client.clientType],streamPreference:PoWaSettings.streamPreference}).filter(function(t){return Object(i.hasExtension)(t,".m3u8")})[0]}(c),d=u?Object(i.parseURL)(u):null;if(d&&d.pathname){n="".concat(n).concat(d.pathname);var p=function(t){return Object(i.getQueryStringParameters)(t.split("?")[1])}(e),h=PoWaSettings.queryStringObj["powa-aws-debug"]?{adsParams:p,awsParams:{debug:"log"}}:{adsParams:p};A&&(console.debug(n),console.debug(e),console.debug(h));var g=Object(i.get)(PoWaSettings,"advertising.timeouts.mediaTailor.session",O.g),f={adTag:e,endpoint:n,payload:h,timeout:g};o.trigger(r.MT_REQUEST,{mediaTailor:f}),Object(i.ajaxPOST)(n,h,function(e){e=JSON.parse(e),c.mediaTailor={stream:u,streamObj:d,manifestURL:"".concat(s).concat(e.manifestUrl),trackingURL:"".concat(s).concat(e.trackingUrl),response:e},o.trigger(r.MT_SESSION,{mediaTailor:f,videoData:c}),t(c)},function(t){t=Object(a.a)(f,{error:t}),o.trigger(r.MT_ERROR,t),l(t)},g)}else{var v="[".concat(j,"] ERROR - No M3U8 available");o.trigger(r.MT_ERROR,{error:v}),l(v)}})}function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function T(t,e,n){return e&&E(t.prototype,e),n&&E(t,n),t}var D="MediaTailorTracker",x=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(i.bindAll)(this),this.settings=e,this.clearStatus(),this.powa=e.powa,Object(o.chain)(O.t).extend(r).filter(function(t){return n[t]}).forEach(function(t){return n.powa.on(t,n[t])})}return T(t,null,[{key:"MODULE",get:function(){return D}}]),T(t,[{key:"clearStatus",value:function(){this.trackingEvents=[]}},{key:"getTracking",value:function(t){var e=this;(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(i.get)(t,"mediaTailor.trackingURL");if(!e)return Promise.reject("[".concat(D,"] ERROR - No tracking URL"));var n=Object(i.get)(PoWaSettings,"advertising.timeouts.mediaTailor.tracking",O.g);return new Promise(function(t,o){Object(i.ajaxGET)(e,function(e){e=JSON.parse(e),t(Object(i.get)(e,"avails",[]))},function(t){o(t)},n)})})(t).then(function(t){e.powa.trigger(r.MT_AVAILS,{avails:t})}).catch(function(t){e.powa.trigger(r.MT_AVAILS,{error:t})})}},{key:"getTrackingEvents",value:function(t){this.trackingEvents.length||(this.trackingEvents=Object(i.get)(t,"adMeta.trackingEvents",[]),Object(o.forEach)(this.trackingEvents,function(t){t.fired=t.fired||0,t.beaconUrls=t.beaconUrls||[],t.justOnce=0===Object(i.get)(t,"durationInSeconds")}))}},{key:"track",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.promiseImage,n=this.trackingEvents.find(function(e){return e.eventType===t});if(n&&(!n.justOnce||!n.fired)){var o=this.settings.debug?function(){console.debug("[".concat(D,"][track]"),t),n.fired++}:function(){return n.fired++},a=this.settings.debug?function(e){console.error("[".concat(D,"][track]"),t,e),n.fired++}:i.noop;n.beaconUrls.forEach(function(t){return e(t).then(o).catch(a)})}}},{key:"adComplete",value:function(t){this.settings.debug&&console.debug("[".concat(D,"][adComplete]"),t),this.track(l)}},{key:"adEnd",value:function(t){this.settings.debug&&console.debug("[".concat(D,"][adEnd]"),t),this.clearStatus()}},{key:"adMute",value:function(t){var e=t.muted;this.settings.debug&&console.debug("[".concat(D,"][adMute]"),e),this.track(e?f:k)}},{key:"adPause",value:function(t){this.settings.debug&&console.debug("[".concat(D,"][adPause]"),t),this.track(v)}},{key:"adPlay",value:function(t){this.settings.debug&&console.debug("[".concat(D,"][adPlay]"),t),this.track(m)}},{key:"adRewind",value:function(t){this.settings.debug&&console.debug("[".concat(D,"][adRewind]"),t),this.getTrackingEvents(t),this.track(b),this.trackingEvents.filter(function(t){return t.justOnce}).filter(function(e){return e.startTimeInSeconds>=t.streamTime}).forEach(function(t){return t.fired=0})}},{key:"adStart",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.settings.debug&&console.debug("[".concat(D,"][adStart]"),t),this.getTrackingEvents(t),this.track(h),this.track(y)}},{key:"adTime",value:function(t){var e=t.adTime/t.adDuration;e>=.25&&this.track(d),e>=.5&&this.track(g),e>=.75&&this.track(w)}},{key:"fullscreen",value:function(t){var e=t.fullscreen;this.settings.debug&&console.debug("[".concat(D,"][fullscreen]"),e),this.track(e?p:u)}},{key:"hlsTags",value:function(t){var e=t.tags,n=t.videoData;this.settings.debug&&console.debug("[".concat(D,"][hlsTags]"),e);var i=e.reduce(function(t,e){return t.concat(e)},[]);S.reduce(function(t,e){return i.includes(e)||t},!1)&&this.getTracking(n)}},{key:"mediaClick",value:function(t){this.settings.debug&&console.debug("[".concat(D,"][mediaClick]"),t),t.playing&&(this.track(s,function(t){return Object(i.openInNewTab)(t),Promise.resolve()}),this.track(c))}},{key:"start",value:function(t){var e=this;this.settings.debug&&console.debug("[".concat(D,"][start]"),t);var n="live"===Object(i.get)(t,"videoData.video_type"),o=!!Object(i.get)(t,"videoData.mediaTailor"),a=Object(i.get)(PoWaSettings,"videoSupport.hls");clearInterval(this.liveTrackingINT),o&&a&&this.powa.once(O.t.FIRST_FRAME,function(t){var i=t.videoData;e.getTracking(i),n&&(e.liveTrackingINT=setInterval(function(){e.getTracking(i)},e.settings.trackingInterval*O.g))})}}]),t}();function P(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function C(t,e,n){return e&&P(t.prototype,e),n&&P(t,n),t}var I={debug:!1,slicers:function(){return{}}},M="AdVideoComplete",L="AdVideoFirstQuartile",N="AdVideoMidpoint",R="AdVolumeChange",z="AdPaused",W="AdPlaying",$="AdStopped",U="AdVideoStart",V="AdVideoThirdQuartile",B=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(i.bindAll)(this),this.settings=Object(o.extend)(I,e),Object(o.chain)(O.t).filter(function(t){return n[t]}).forEach(function(t){return n.settings.powa.on(t,n[t])})}return C(t,null,[{key:"MODULE",get:function(){return"MediaTailorMoat"}}]),C(t,[{key:"clearStatus",value:function(){this.moat=null,this.firstQuartile=!1,this.midpoint=!1,this.thirdQuartile=!1}},{key:"instantiateMoat",value:function(t){this.clearStatus();var e=this.settings.powa.getElement(),n=this.settings.slicers({adStartEvent:t,adMeta:t.adMeta,powa:this.settings.powa,videoData:t.videoData});n=Object(o.mapObj)(n,function(t){return t.toString()});var a=Object(o.extend)({level1:Object(i.get)(t,"adMeta.adSystem"),level2:Object(i.get)(t,"adMeta.adTitle"),level3:Object(i.get)(t,"adMeta.vastAdId"),level4:Object(i.get)(t,"adMeta.creativeId")},n),r=t.adDuration,s=Object(i.get)(t,"adMeta.mediaFiles.mediaFilesList",[]).reduce(function(t,e){var n=e.mediaType,i=e.mediaFileUri;return t||(n&&n.startsWith("video")?i:t)},""),c=[e,a,r,this.settings.id,s];this.settings.debug&&console.debug("[".concat("MediaTailorMoat","] Moat settings"),c),this.moat=function(t,e,n,i,o){var a,r,s=document.createElement("script"),c=[];e={adData:{ids:e,duration:n,url:o},dispatchEvent:function(t){this.sendEvent?(c&&(c.push(t),t=c,c=!1),this.sendEvent(t)):c.push(t)}},n="_moatApi"+Math.floor(1e8*Math.random());try{r=(a=t.ownerDocument).defaultView||a.parentWindow}catch(t){a=document,r=window}return r[n]=e,s.type="text/javascript",t&&t.insertBefore(s,t.childNodes[0]||null),s.src="https://z.moatads.com/"+i+"/moatvideo.js#"+n,e}.apply(this,c)}},{key:"track",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.moat&&t&&e.mediaTailor){var n={type:t,adVolume:e.muted?0:e.volume};this.settings.debug&&console.debug("[".concat("MediaTailorMoat","][track]"),n),this.moat.dispatchEvent(n)}}},{key:"adComplete",value:function(t){this.track(M,t)}},{key:"adMute",value:function(t){this.track(R,t)}},{key:"adPause",value:function(t){this.track(z,t)}},{key:"adPlay",value:function(t){this.track(W,t)}},{key:"adSkip",value:function(t){this.track($,t)}},{key:"adStart",value:function(t){this.settings.debug&&console.debug("[".concat("MediaTailorMoat","][adStart]"),t),t.mediaTailor?(this.instantiateMoat(t),this.track(U,t)):this.clearStatus()}},{key:"adTime",value:function(t){var e=t.adTime/t.adDuration;!this.firstQuartile&&e>.25&&(this.firstQuartile=!0,this.track(L,t)),!this.midpoint&&e>.5&&(this.midpoint=!0,this.track(N,t)),!this.thirdQuartile&&e>.75&&(this.thirdQuartile=!0,this.track(V,t))}}]),t}(),F=n(41),H=n(10),Q=n(20),Y=n(13),G=n(14),Z=n(4),q=n(5);function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J(t,e,n){return(J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tt(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function et(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function nt(t,e,n){return e&&et(t.prototype,e),n&&et(t,n),t}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ot=Object(G.a)(["controls","currentTime","duration","muted","src","videoHeight","videoWidth","volume"]),at=Object(G.a)({currentTime:"time"}),rt=Object(G.a)(["duration","time","volume"]),st=Object(G.a)(["videoHeight","videoWidth"]);var ct=Object(G.a)({classList:["powa-video"],controls:!1,debug:!1,debugExclusions:["progress","suspend","timeupdate"],MODULE:"PoWaMedia",muted:!1,preload:"metadata",style:"\n\t.powa-video {\n\t\tbackground-color: black;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n",volume:1}),lt=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i,a,r,s,c,l=Object(o.extend)(ct,t);return i=this,(n=!(a=tt(e).call(this,(s=(r=l).type,c=r.classList,s=s||"video",c=c||[],c=Array.isArray(c)?c:[c],"<".concat(s,' class="').concat(c.join(" "),'"></').concat(s,">"))))||"object"!==K(a)&&"function"!=typeof a?X(i):a).settings=l,Object(Y.a)(X(n)),n.media=n.elements[0],Object(Q.a)("function"==typeof n.settings.style?n.settings.style(n.settings):n.settings.style,n.settings.MODULE),n.clearStarted(),n._setupPlayerEvents(),n.attr("playsinline","true"),n.attr("preload",n.settings.preload),n.attr("controlslist","nodownload"),n.mute(n.settings.muted),n.setControls(n.settings.controls),n.volume(n.settings.volume),n.settings.autoplay&&n.attr("autoplay",!0),n.load(n.settings.stream),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(e,H["PoWaPack"]),nt(e,null,[{key:"powaDown",value:function(t){return Object(O.v)(t)}},{key:"MODULE",get:function(){return"PoWaMedia"}},{key:"AUDIO",get:function(){return"audio"}},{key:"VIDEO",get:function(){return"video"}},{key:"EVENTS",get:function(){return O.m}}]),nt(e,[{key:"trigger",value:function(t,n){this.settings.debug&&!this.settings.debugExclusions.includes(t)&&console.debug("[".concat(this.settings.MODULE,"] ").concat(t),n),J(tt(e.prototype),"trigger",this).call(this,t,n)}},{key:"clearStarted",value:function(){this.firstFrame=!0}},{key:"_setupPlayerEvents",value:function(){var t=this;O.c.map(function(e){return t.on(e,t._playerEventHandler)})}},{key:"_playerEventHandler",value:function(t){this["_".concat(t.type,"Handler")]&&this["_".concat(t.type,"Handler")](t)}},{key:"_clickHandler",value:function(t){t.preventDefault(),this.trigger(O.m.MEDIA_CLICK,Object(o.extend)(this.getStatus(),{type:O.s.MEDIA_CLICK,event:t}))}},{key:"_contextmenuHandler",value:function(t){t.preventDefault(),this.trigger(O.m.MEDIA_RIGHT_CLICK,Object(o.extend)(this.getStatus(),{type:O.s.MEDIA_RIGHT_CLICK,event:t}))}},{key:"_durationchangeHandler",value:function(t){this.trigger(O.m.META,Object(o.extend)(this.getStatus(),{type:O.s.META,event:t}))}},{key:"_endedHandler",value:function(t){this.trigger(O.m.COMPLETE,Object(o.extend)(this.getStatus(),{type:O.s.COMPLETE,event:t})),this._ended(O.s.COMPLETE)}},{key:"_errorHandler",value:function(t){var e=Object(Z.a)(t,"srcElement.error.code",null),n=Object(Z.a)(t,"srcElement.src",null),i=Object(Z.a)(t,"srcElement.error.message",null),a=Object(o.extend)(this.getStatus(),{code:e,stream:n,message:i,mediaError:e?O.b[e]:null,type:O.s.ERROR,event:t});null===e&&(a.nonBlocking=!0),console.error(O.m.ERROR,a),this.trigger(O.m.ERROR,a),this._ended(O.s.ERROR)}},{key:"_loadstartHandler",value:function(t){this.trigger(O.m.LOADED,Object(o.extend)(this.getStatus(),{type:O.s.LOADED,event:t}))}},{key:"_pauseHandler",value:function(t){this.trigger(O.m.PAUSE,Object(o.extend)(this.getStatus(),{type:O.s.PAUSE,event:t}))}},{key:"_playHandler",value:function(t){this.trigger(O.m.PLAY,Object(o.extend)(this.getStatus(),{type:O.s.PLAY,event:t}))}},{key:"_progressHandler",value:function(t){if(this.media.buffered&&this.media.buffered.length){var e=this.media.buffered.end(this.media.buffered.length-1)/this.media.duration;this.trigger(O.m.PROGRESS,Object(o.extend)(this.getStatus(),{type:O.s.PROGRESS,progress:e,event:t}))}}},{key:"_seekedHandler",value:function(t){this.trigger(O.m.SEEKED,Object(o.extend)(this.getStatus(),{type:O.s.SEEKED}))}},{key:"_timeupdateHandler",value:function(t){var e=this.getStatus();this.firstFrame&&(this.firstFrame=!1,this.trigger(O.m.FIRST_FRAME,Object(o.extend)(e,{type:O.s.FIRST_FRAME}))),this.trigger(O.m.TIME,Object(o.extend)(e,{type:O.s.TIME,event:t}))}},{key:"_volumechangeHandler",value:function(t){var e=this.getStatus(),n=this.settings.muted!==e.muted,i=this.settings.volume!==e.volume;n&&(this.settings.muted=e.muted,this.trigger(O.m.MUTED,Object(o.extend)(e,{type:O.s.MUTED,event:t}))),i&&(this.settings.volume=e.volume,this.trigger(O.m.VOLUME,Object(o.extend)(e,{type:O.s.VOLUME,event:t})))}},{key:"_waitingHandler",value:function(t){this.media.readyState===this.media.HAVE_CURRENT_DATA&&this.trigger(O.m.BUFFERING,Object(o.extend)(this.getStatus(),{type:O.s.BUFFERING,event:t}))}},{key:"_ended",value:function(t,e){this.trigger(O.m.END,Object(o.extend)(this.getStatus(),{status:t},e))}},{key:"close",value:function(){this.settings.debug&&console.debug("[".concat(this.settings.MODULE,"][close]")),this.pause()}},{key:"getMediaEl",value:function(){return this.media}},{key:"getStatus",value:function(){var t=Object(o.chain)(this.media).pick(ot).rename(at).filter(function(t,e){return!st.includes(e)||t}).filter(function(t,e){return!rt.includes(e)||!isNaN(t)}).value();return Object(o.extend)({stream:this.stream},t)}},{key:"load",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.a;this.settings.debug&&console.debug("[".concat(this.settings.MODULE,"][load]"),t),t&&(this.settings.debug&&console.debug("[".concat(this.settings.MODULE,"][load]"),t),t!==this.stream&&(this.clearStarted(),this.stream=t),this.once(O.m.LOADED,e),this.attr("src",t))}},{key:"pause",value:function(){this.settings.debug&&console.debug("[".concat(this.settings.MODULE,"][pause]")),this.media.pause()}},{key:"play",value:function(){this.settings.debug&&console.debug("[".concat(this.settings.MODULE,"][play]")),this.media.play().then(q.a).catch(q.a)}},{key:"mute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.media.muted;return this.settings.debug&&console.debug("[".concat(this.settings.MODULE,"][mute]"),t),this.media.muted=t}},{key:"setControls",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.attr("controls");this.settings.debug&&console.debug("[".concat(this.settings.MODULE,"][setControls]"),t),t?this.attr("controls",!0):this.removeAttr("controls")}},{key:"volume",value:function(t){return this.settings.debug&&console.debug("[".concat(this.settings.MODULE,"][volume]"),t),this.media.volume=t}}]),e}(),ut=n(29),dt={clickthrough:"AdClickThru",durationChange:"AdDurationChange",error:"AdError",expandedChange:"AdExpandedChange",impression:"AdImpression",interaction:"AdInteraction",linearChange:"AdLinearChange",loaded:"AdLoaded",log:"AdLog",paused:"AdPaused",playing:"AdPlaying",sizeChange:"AdSizeChange",skippableStateChange:"AdSkippableStateChange",skipped:"AdSkipped",started:"AdStarted",stopped:"AdStopped",userAcceptInvitation:"AdUserAcceptInvitation",userClose:"AdUserClose",userMinimize:"AdUserMinimize",videoComplete:"AdVideoComplete",videoFirstQuartile:"AdVideoFirstQuartile",videoMidpoint:"AdVideoMidpoint",videoStart:"AdVideoStart",videoThirdQuartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"},pt={AdClickThru:"adClick",AdDurationChange:"adDurationChange",AdError:"adError",AdImpression:"adImpression",AdLoaded:"adLoaded",AdPaused:"adPause",AdPlaying:"adPlay",AdSkipped:"adSkip",AdStarted:"adStartRequest",AdStopped:"adEnd",AdVideoComplete:"adComplete",AdVideoFirstQuartile:"adFirstQuartile",AdVideoMidpoint:"adMidpoint",AdVideoStart:"adStart",AdVideoThirdQuartile:"adThirdQuartile"},ht=["collapseAd","expandAd","handshakeVersion","initAd","pauseAd","resizeAd","resumeAd","skipAd","startAd","stopAd","subscribe","unsubscribe"],gt={AD_LOADED:"adLoaded",AD_PAUSED:"adPaused",AD_PLAYING:"adPlaying",AD_REQUESTED:"adRequested",AD_START_REQUESTED:"adStartRequested",AD_BLOCKED:"adBlocked",AD_CLICKED:"adClicked",AD_ENDED:"adEnded",AD_ERROR:"adError",AD_IDLE:"adIdle",AD_SKIPPED:"adSkipped",AD_TIMEOUT:"adTimeout"},ft="fullscreen",vt="normal",mt=n(3);function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wt(t,e,n){return(wt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kt(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function St(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ot(t,e,n){return e&&St(t.prototype,e),n&&St(t,n),t}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function At(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ht.reduce(function(e,n){return e&&t[n]&&"function"==typeof t[n]},!0)?Promise.resolve(t):Promise.reject(new Error("VPAID ad is not valid"))}function _t(t){var e=Object(Z.a)(t,"mediaFiles.mediaFilesList",[]).find(function(t){return"VPAID"===t.apiFramework});return Object(Z.a)(e,"mediaFileUri",null)}var Et={debug:!1,ready:function(){console.debug("[".concat("VPAID","] ready"))},setupError:console.error},Tt=function(t){function e(){var t,n,i,o,r,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(t=!(i=kt(e).call(this))||"object"!==bt(i)&&"function"!=typeof i?yt(n):i).settings=Object(a.a)(Et,s),Object(Y.a)(yt(t)),t.adLoaded=!1,(o=t.settings.adMeta,r=_t(o),r?Promise.resolve(r):Promise.reject(new Error("No VPAID media file"))).then(t._getVpaidAd).then(At).then(t._setup).then(t._ready).catch(t.settings.setupError),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(e,ut["a"]),Ot(e,null,[{key:"isVPAID",value:function(t){return!(1!==Object(Z.a)(t,"mediaFiles.mediaFilesList.length",0)||!_t(t))}},{key:"EVENTS",get:function(){return dt}},{key:"MODULE",get:function(){return"VPAID"}},{key:"STATES",get:function(){return gt}}]),Ot(e,[{key:"_getVpaidAd",value:function(t){var e=this;return new Promise(function(n,i){(function(t){return new Promise(function(e,n){var i=document.createElement("iframe");i.style.display="none",i.addEventListener("load",function(){var o=document.createElement("script");i.contentWindow.document.body.appendChild(o),o.addEventListener("load",function(){return e(i)}),o.addEventListener("error",function(){document.body.removeChild(i),n(Error("VPAID script error"))}),o.async=!0,o.src=t}),document.body.appendChild(i)})})(t).then(function(t){e.iframe=t;var o=Object(Z.a)(t,"contentWindow.getVPAIDAd");o&&"function"==typeof o?n(o()):i(new Error("No VPAID ad found"))}).catch(function(e){return i({error:e,url:t})})})}},{key:"_initAd",value:function(t){var e=t.height,n=t.volume,i=t.width;this.settings.debug&&console.debug("[".concat("VPAID","] _initAd"),{height:e,volume:n,width:i});var o={slot:this.settings.slot,videoSlot:this.settings.video,videoSlotCanAutoplay:!0};this.ad.initAd(i,e,vt,1e3,null,o),this.setAdVolume(n)}},{key:"_ready",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] _ready")),this.settings.ready(this)}},{key:"_setup",value:function(t){var e=this;return this.settings.debug&&console.debug("[".concat("VPAID","] _setup")),this.ad=t,Object(mt.a)(dt,function(t){var n=e["_".concat(t)];n&&e.ad.subscribe(n,t,e)}),Promise.resolve(this.ad)}},{key:"destroy",value:function(){var t=this;this.settings.debug&&console.debug("[".concat("VPAID","] destroy")),this.ad&&Object(mt.a)(dt,function(e){var n=t["_".concat(e)];n&&t.ad.unsubscribe(n,e,t)}),this.stopAd(),wt(kt(e.prototype),"destroy",this).call(this);var n=Object(Z.a)(this,"iframe.parentNode");n&&n.removeChild(this.iframe),this.iframe=null}},{key:"getAdLoaded",value:function(){return this.settings.debug&&console.debug("[".concat("VPAID","] getAdLoaded")),this.adLoaded}},{key:"collapseAd",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] collapseAd")),Object(Z.a)(this,"ad.collapseAd")&&this.ad.collapseAd()}},{key:"expandAd",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] expandAd")),Object(Z.a)(this,"ad.expandAd")&&this.ad.expandAd()}},{key:"getAdDuration",value:function(){return this.settings.debug&&console.debug("[".concat("VPAID","] getAdDuration")),Object(Z.a)(this,"ad.getAdDuration")?this.ad.getAdDuration():null}},{key:"getAdExpanded",value:function(){return this.settings.debug&&console.debug("[".concat("VPAID","] getAdExpanded")),Object(Z.a)(this,"ad.getAdExpanded")?this.ad.getAdExpanded():null}},{key:"getAdHeight",value:function(){return this.settings.debug&&console.debug("[".concat("VPAID","] getAdHeight")),Object(Z.a)(this,"ad.getAdHeight")?this.ad.getAdHeight():null}},{key:"getAdLinear",value:function(){return this.settings.debug&&console.debug("[".concat("VPAID","] getAdLinear")),Object(Z.a)(this,"ad.getAdLinear")?this.ad.getAdLinear():null}},{key:"getAdRemainingTime",value:function(){return this.settings.debug&&console.debug("[".concat("VPAID","] getAdRemainingTime")),Object(Z.a)(this,"ad.getAdRemainingTime")?this.ad.getAdRemainingTime():null}},{key:"getAdSkippableState",value:function(){return this.settings.debug&&console.debug("[".concat("VPAID","] getAdSkippableState")),Object(Z.a)(this,"ad.getAdSkippableState")?this.ad.getAdSkippableState():null}},{key:"getAdVolume",value:function(){return this.settings.debug&&console.debug("[".concat("VPAID","] getAdVolume")),Object(Z.a)(this,"ad.getAdVolume")?this.ad.getAdVolume():null}},{key:"getAdWidth",value:function(){return this.settings.debug&&console.debug("[".concat("VPAID","] getAdWidth")),Object(Z.a)(this,"ad.getAdWidth")?this.ad.getAdWidth():null}},{key:"pauseAd",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] pauseAd")),Object(Z.a)(this,"ad.pauseAd")&&this.ad.pauseAd()}},{key:"resizeAd",value:function(t){var e=t.fullscreen,n=t.height,i=t.width;this.settings.debug&&console.debug("[".concat("VPAID","] resizeAd"),{fullscreen:e,height:n,width:i}),Object(Z.a)(this,"ad.resizeAd")&&this.ad.resizeAd(i,n,e?ft:vt)}},{key:"resumeAd",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] resumeAd")),Object(Z.a)(this,"ad.resumeAd")&&this.ad.resumeAd()}},{key:"setAdVolume",value:function(t){this.settings.debug&&console.debug("[".concat("VPAID","] setAdVolume"),{volume:t}),Object(Z.a)(this,"ad.setAdVolume")&&this.ad.setAdVolume(t)}},{key:"startAd",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] startAd")),this.adLoaded&&Object(Z.a)(this,"ad.startAd")&&this.ad.startAd()}},{key:"stopAd",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] stopAd")),Object(Z.a)(this,"ad.stopAd")&&this.ad.stopAd()}},{key:"_AdClickThru",value:function(t,e,n){this.settings.debug&&console.debug("[".concat("VPAID","] AdClickThru"),{url:t,id:e,playerHandles:n}),this.trigger(dt.clickthrough,{type:"AdClickThru",url:t,id:e,playerHandles:n})}},{key:"_AdDurationChange",value:function(){var t=this.getAdDuration();this.settings.debug&&console.debug("[".concat("VPAID","] AdDurationChange"),{adDuration:t}),this.trigger(dt.durationChange,{type:"AdDurationChange",adDuration:t})}},{key:"_AdError",value:function(t){this.settings.debug&&console.debug("[".concat("VPAID","] AdError"),{error:t}),this.trigger(dt.error,{type:"AdError",error:t})}},{key:"_AdExpandedChange",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdExpandedChange")),this.trigger(dt.expandedChange,{type:"AdExpandedChange",expanded:this.getAdExpanded()})}},{key:"_AdImpression",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdImpression")),this.trigger(dt.impression,{type:"AdImpression"})}},{key:"_AdInteraction",value:function(t){this.settings.debug&&console.debug("[".concat("VPAID","] AdInteraction"),{id:t}),this.trigger(dt.interaction,{type:"AdInteraction",id:t})}},{key:"_AdLinearChange",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdLinearChange")),this.trigger(dt.linearChange,{type:"AdLinearChange",adLinear:this.getAdLinear()})}},{key:"_AdLoaded",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdLoaded")),this.adLoaded=!0,this.trigger(dt.loaded,{type:"AdLoaded"})}},{key:"_AdLog",value:function(t){this.settings.debug&&console.debug("[".concat("VPAID","] AdLog"),{message:t}),this.trigger(dt.log,{type:"AdLog",message:t})}},{key:"_AdPaused",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdPaused")),this.trigger(dt.paused,{type:"AdPaused"})}},{key:"_AdPlaying",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdPlaying")),this.trigger(dt.playing,{type:"AdPlaying"})}},{key:"_AdSizeChange",value:function(){var t=this.getAdHeight(),e=this.getAdWidth();this.settings.debug&&console.debug("[".concat("VPAID","] AdSizeChange"),{height:t,width:e}),this.trigger(dt.sizeChange,{type:"AdSizeChange",height:t,width:e})}},{key:"_AdSkippableStateChange",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdSkippableStateChange")),this.trigger(dt.skippableStateChange,{type:"AdSkippableStateChange",skippable:this.getAdSkippableState()})}},{key:"_AdSkipped",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdSkipped")),this.trigger(dt.skipped,{type:"AdSkipped"})}},{key:"_AdStarted",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdStarted")),this.trigger(dt.started,{type:"AdStarted"})}},{key:"_AdStopped",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdStopped")),this.trigger(dt.stopped,{type:"AdStopped"})}},{key:"_AdUserAcceptInvitation",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdUserAcceptInvitation")),this.trigger(dt.userAcceptInvitation,{type:"AdUserAcceptInvitation"})}},{key:"_AdUserClose",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdUserClose")),this.trigger(dt.userClose,{type:"AdUserClose"})}},{key:"_AdUserMinimize",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdUserMinimize")),this.trigger(dt.userMinimize,{type:"AdUserMinimize"})}},{key:"_AdVideoComplete",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdVideoComplete")),this.trigger(dt.videoComplete,{type:"AdVideoComplete"})}},{key:"_AdVideoFirstQuartile",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdVideoFirstQuartile")),this.trigger(dt.videoFirstQuartile,{type:"AdVideoFirstQuartile"})}},{key:"_AdVideoMidpoint",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdVideoMidpoint")),this.trigger(dt.videoMidpoint,{type:"AdVideoMidpoint"})}},{key:"_AdVideoStart",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdVideoStart")),this.trigger(dt.videoStart,{type:"AdVideoStart"})}},{key:"_AdVideoThirdQuartile",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdVideoThirdQuartile")),this.trigger(dt.videoThirdQuartile,{type:"AdVideoThirdQuartile"})}},{key:"_AdVolumeChange",value:function(){this.settings.debug&&console.debug("[".concat("VPAID","] AdVolumeChange")),this.trigger(dt.volumeChange,{type:"AdVolumeChange",volume:this.getAdVolume()})}}]),e}(),Dt=n(15);function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){return!e||"object"!==xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ct(t,e,n){return(Ct="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=It(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Lt(t,e,n){return e&&Mt(t.prototype,e),n&&Mt(t,n),t}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rt={duration:"adDuration",time:"adTime"},zt={className:"powa-sell-vpaid",debug:!1,locale:"",MODULE:"PoWaSellVPAID",adEndWait:O.g/4,allowAdTimeout:!0,timeouts:{standard:{adStart:5,dataLoad:5,videoLoad:8}},style:function(){return"\n\t.powa-sell-vpaid {\n\t\tbackground-color: black;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tposition: absolute;\n\t\ttop: 0px;\n\t\tleft: 0px;\n\t}\n"}},Wt=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Pt(this,It(e).call(this,Object(o.extend)(zt,n),Tt.STATES))).timing={start:Date.now()},t.timeouts={adStartTO:t.settings.isLive?null:setTimeout(t._adStartTimeout,t.settings.timeouts.standard.adStart*O.g),dataLoadTO:setTimeout(t._dataLoadTimeout,t.settings.timeouts.standard.dataLoad*O.g)},t.powa=t.settings.powa,t._justListenToYourself(),t._setupVideo(),t._setupVPAID(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(e,F["a"]),Lt(e,null,[{key:"isVPAID",value:function(t){return Tt.isVPAID(t)}},{key:"MODULE",get:function(){return"PoWaSellVPAID"}},{key:"EVENTS",get:function(){return O.o}}]),Lt(e,[{key:"_justListenToYourself",value:function(){var t=this;Object(o.forEach)(O.o,function(e){var n=t["_".concat(e)];n&&t.on(e,n)})}},{key:"_setupVideo",value:function(){var t=this;this.video=new lt({controls:!1}),this.$adContainer.append(this.video),Object(o.forEach)(lt.EVENTS,function(e){var n=t["_".concat(e)];n&&t.video.on(e,n)})}},{key:"_setupVPAID",value:function(){var t=this;this.vpaid=new Tt({adMeta:this.settings.adMeta,slot:this.$adContainer.elements[0],video:this.video.getMediaEl(),ready:this._vpaidReady,setupError:this._vpaidSetupError}),Object(o.forEach)(pt,function(e,n){t.vpaid.on(n,function(i){t.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] _vpaidToPoWaSell: ").concat(n," -> ").concat(e),i);var a=e;t.trigger(a,Object(o.extend)(i,{type:a}))})})}},{key:"_vpaidReady",value:function(t){this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] _vpaidReady"));var e=this.powa.getHeight(),n=this.powa.getWidth(),i=this.powa.muted()?0:this.powa.volume();this.timing.vpaidLoaded=Date.now(),this.vpaid._initAd({height:e,volume:i,width:n})}},{key:"_vpaidSetupError",value:function(t){this.trigger(O.o.AD_ERROR,{event:t,error:"VPAID setup error - Probable ad blocker"})}},{key:"_adStartTimeout",value:function(){this.trigger(O.o.AD_ERROR,{error:"VPAID ad start timeout",timeout:this.settings.timeouts.standard.adStart})}},{key:"_dataLoadTimeout",value:function(){this.trigger(O.o.AD_ERROR,{error:this.timing.vpaidLoaded?"VPAID asset load timeout":"VPAID data load timeout",timeout:this.settings.timeouts.standard.dataLoad})}},{key:"_videoLoadTimeout",value:function(){this.trigger(O.o.AD_ERROR,{error:"VPAID video load timeout",timeout:this.settings.timeouts.standard.videoLoad})}},{key:"_powaFirstFrame",value:function(t){this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] _powaFirstFrame"),t),t=t.detail?t.detail:t;var e=O.o.AD_FIRST_FRAME,n=t.duration-t.time;t=Object(o.chain)(t).extend({type:e,adRemaining:n}).rename(Rt).defined().value(),this.trigger(e,t)}},{key:"_powaTime",value:function(t){t=t.detail?t.detail:t;var e=O.o.AD_TIME,n=t.duration-t.time;t=Object(o.chain)(t).extend({type:e,adRemaining:n}).rename(Rt).defined().value(),this.trigger(e,t)}},{key:"_adError",value:function(t){this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] _adError")),Object(Dt.a)(this.destroy)}},{key:"_adFirstFrame",value:function(){this.timing.adFirstFrame=Date.now(),clearTimeout(this.timeouts.adStartTO),clearTimeout(this.timeouts.videoLoadTO)}},{key:"_adLoaded",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] _adLoaded")),this.timing.adLoaded=Date.now(),clearTimeout(this.timeouts.dataLoadTO)}},{key:"_adEnd",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] _adEnd")),this.adEndReported=!0,this.skipped&&(this.skipped=null,this.trigger(O.o.AD_SKIP,{type:O.o.AD_SKIP})),Object(Dt.a)(this.destroy)}},{key:"destroy",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] destroy")),this.destroying||(this.destroying=!0,Object(o.forEach)(this.timeouts,function(t,e){return clearTimeout(t)}),this.video&&this.video.destroy(),this.vpaid&&this.vpaid.destroy(),this.video=null,this.vpaid=null,this.adEndReported||this.trigger(O.o.AD_END),Ct(It(e.prototype),"destroy",this).call(this))}},{key:"mute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.muted();if(this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] mute"),t),this.vpaid){var e=t?0:this.powa.volume();return this.vpaid.setAdVolume(e),e}return null}},{key:"muted",value:function(){return this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] muted")),this.vpaid?0===this.vpaid.getAdVolume():null}},{key:"pause",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] pause")),this.vpaid&&this.vpaid.pauseAd()}},{key:"play",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] play")),this.vpaid&&this.vpaid.resumeAd()}},{key:"resize",value:function(t){if(this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] resize"),t),Ct(It(e.prototype),"resize",this).call(this,t),this.vpaid){var n=t.fullscreen,i=this.$adContainer.width(),o=this.$adContainer.height();this.vpaid.resizeAd({fullscreen:n,height:o,width:i})}}},{key:"skip",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] skip")),this.vpaid&&(this.skipped=!0,this.vpaid.stopAd())}},{key:"start",value:function(){var t=this;this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] start")),this.timing.startRequested=Date.now(),this.timeouts.adStartTO=this.settings.isLive?setTimeout(this._adStartTimeout,this.settings.timeouts.standard.adStart*O.g):this.timeouts.adStartTO,this.timeouts.videoLoadTO=setTimeout(this._videoLoadTimeout,this.settings.timeouts.standard.videoLoad*O.g);var e=function(){t.show(),t.vpaid.startAd()};this.vpaid&&this.vpaid.getAdLoaded()?e():this.once(O.o.AD_LOADED,e)}},{key:"volume",value:function(t){this.settings.debug&&console.debug("[".concat("PoWaSellVPAID","] volume"),t),this.vpaid&&this.vpaid.setAdVolume(t)}}]),e}(),$t=n(27),Ut=n(28);function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,e){return!e||"object"!==Vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ft(t,e,n){return(Ft="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ht(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ht(t){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Yt(t,e,n){return e&&Qt(t.prototype,e),n&&Qt(t,n),t}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Bt(this,Ht(e).call(this,t))).debug=PoWaSettings.queryStringObj["powa-vpaid-debug"],n.powa=n.settings.powa,n.mediaTailor=n.settings.mediaTailor,n.powa.on(O.t.HLS_TAGS,n.hlsTags),Object(mt.a)(Wt.EVENTS,function(t){var e=n["__".concat(t)];e&&n.on(t,e),n.on(t,function(e){return n.powa.trigger(t,e.detail)})}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(e,Wt),Yt(e,null,[{key:"MODULE",get:function(){return"MediaTailorVPAID"}}]),Yt(e,[{key:"debugLog",value:function(t,e){this.mediaTailor.isLive&&this.debug&&(console.debug({eventName:t,streamTime:this.powa.getVideoElement().currentTime,adEnd:this.settings.adMeta.startTimeInSeconds+this.settings.adMeta.durationInSeconds}),"playing"===t&&console.debug("-------------------------------------------------------------------------------------"))}},{key:"start",value:function(t){this.isStarted()||(this.debugLog("start"),this.started=!0,Ft(Ht(e.prototype),"start",this).call(this),this.mediaTailor.ad=this.settings.adMeta,this.mediaTailor.streamTime=t.time,this.mediaTailor.adTime=0,this.mediaTailor.adDuration=this.mediaTailor.ad.durationInSeconds,this.mediaTailor.time=t.time-this.mediaTailor.cumulativeAdTime,this.mediaTailor.duration=this.mediaTailor.isLive?t.duration:t.duration-this.mediaTailor.totalAdTime)}},{key:"isStarted",value:function(){return!!this.started}},{key:"hlsTags",value:function(t){var e=t.relURL,n=t.tagTime,i=t.tags,o=t.videoData,a=Object(Ut.a)(e).origin;(i.reduce(function(t,e){return t||e.includes("EXT-X-CUE-OUT")},!1)||a===o.mediaTailor.streamObj.origin)&&(this.hardStop=n)}},{key:"powaTime",value:function(t){this.hardStop&&this.hardStop<=t.time&&(this.powa.trigger(O.t.AD_OVERRUN,t),this.destroy())}},{key:"__adClick",value:function(t){var e=t.detail,n=e.url,i=e.id,o=e.playerHandles;i&&console.debug("clickthrough ID",i),o&&Object($t.a)(n)}},{key:"__adDestroyed",value:function(){this.settings.debug&&console.debug("[".concat("MediaTailorVPAID","][__destroyed]")),this.powa.off(O.t.HLS_TAGS,this.hlsTags),this.settings.adMeta.vpaid=null}},{key:"__adEnd",value:function(t){var e=this;if(this.settings.debug&&console.debug("[".concat("MediaTailorVPAID","][__adEnd]"),t),this.debugLog("adEnd"),this.mediaTailor.ad=null,this.mediaTailor.isLive)this.powa.trigger(O.t.MEDIA_START);else{this.powa.once(O.t.SEEKED,function(t){e.debugLog("seeked"),e.powa.trigger(O.t.MEDIA_START),e.powa.play()});var n=this.settings.adMeta.startTimeInSeconds+this.settings.adMeta.durationInSeconds;this.powa.seekTime(n)}}},{key:"__adLoaded",value:function(){this.debugLog("adLoaded")}},{key:"__adStartRequest",value:function(){this.debugLog("adStartRequest"),this.mediaTailor.isLive||this.powa.pause()}},{key:"__adTime",value:function(t){var e=Object(Z.a)(t,"detail.adTime"),n=Object(Z.a)(t,"detail.adDuration"),i=this.settings.adMeta.durationInSeconds;this.mediaTailor.adTime=e,this.mediaTailor.adDuration=n,this.mediaTailor.adDurationOriginal=i}}]),e}();function qt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Kt(t,e,n){return e&&qt(t.prototype,e),n&&qt(t,n),t}n.d(e,"a",function(){return Jt}),window.PoWaSettings=window.PoWaSettings||{},PoWaSettings.client=PoWaSettings.client||Object(i.sniffClient)(),PoWaSettings.videoSupport=PoWaSettings.videoSupport||Object(i.getVideoSupport)(),Object(i.set)(window,"PoWaSettings.powaUp.videoData",[],!1),(PoWaSettings.videoSupport.hls||PoWaSettings.videoSupport.hlsJS)&&(PoWaSettings.powaUp.element.push(function(t){return PoWaSettings.client.isDesktop&&PoWaSettings.client.isSafari&&PoWaSettings.videoSupport.hlsJS&&t.forEach(function(t){return Object(i.setAttribute)(t,"data-hls","js",!1)}),Promise.resolve()}),PoWaSettings.powaUp.videoData.push(function(t,e){return new Promise(function(n,o){var a=function(){return n(t)},r=e.getDataset(),s=Object(i.get)(r,"mediaTailor",!0),c=t.map(function(t){return s&&Object(i.get)(t,"additional_properties.advertising.enableAdInsertion")?new Promise(function(n,o){t.mediaTailor={},e.getAdTag(t).then(function(n){return function(t){var e=t.adTag,n=t.powa,o=t.videoData,a=Object(i.get)(o,"additional_properties.advertising.adInsertionUrls",{}),r=Object(i.trimTrailing)(Object(i.get)(a,"mt_root"),"/"),s=Object(i.trimTrailing)(Object(i.get)(a,"mt_session"),"/");return e?o?r?s?Promise.resolve({adTag:e,endpoint:s,powa:n,root:r,videoData:o}):Promise.reject("[".concat(j,"] ERROR - No MediaTailor endpoint")):Promise.reject("[".concat(j,"] ERROR - No MediaTailor root")):Promise.reject("[".concat(j,"] ERROR - No videoData provided")):Promise.reject("[".concat(j,"] ERROR - No adTag provided"))}({adTag:n,powa:e,videoData:t})}).then(_).then(n).catch(o)}):Promise.resolve(t)});Promise.all(c).then(a).catch(a)})}));var Xt={adMemoryDuration:3600,debug:!1,trackingInterval:18},Jt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(i.bindAll)(this),this.settings=Object(o.extend)(Xt,e),this.settings.debug=this.settings.debug||PoWaSettings.queryStringObj["powa-media-tailor-debug"],this.powa=e.powa,this.powa.powaTrackExtend(this.mapEvents),this.powa.statusUpdater(this.statusUpdater),Object(o.chain)(O.t).extend(r).filter(function(t){return n[t]}).forEach(function(t){return n.powa.on(t,n[t])}),new x(this.settings),e.moat&&new B(Object(o.extend)(e.moat,this.settings)),this.clearStatus()}return Kt(t,null,[{key:"MODULE",get:function(){return"MediaTailor"}}]),Kt(t,[{key:"clearStatus",value:function(){this.ad=null,this.ads=[],this.totalAdTime=0,this.adTime=null,this.adDuration=null,this.time=null,this.duration=null,this.uuid=null,this.isLive=null,this.isMediaTailor=null}},{key:"mapEvents",value:function(t,e){var n="map_".concat(e);return this.isMediaTailor?Object(o.chain)(this[n]?this[n](t):t).extend(Object(o.chain)(this).pick(["ad","adTime","adDuration","time","duration"]).defined().rename({ad:"adMeta"}).value()).value():t}},{key:"statusUpdater",value:function(t){return this.isMediaTailor?(t=Object(o.extend)(t,{duration:this.duration,mediaTailor:!0,streamTime:this.streamTime,time:this.time}),this.ad?Object(o.extend)(t,{adDuration:this.adDuration,adRunning:!0,adStatus:{adMeta:this.ad,mediaTailor:!0},adTime:this.adTime}):t):t}},{key:"adCompanionCheck",value:function(t){var e=Object(i.get)(this,"ad.companionAds",[]);e.length&&this.powa.trigger(O.t.AD_COMPANIONS,{type:O.t.AD_COMPANIONS,adCompanions:e})}},{key:"reportVirtualEvents",value:function(t){var e=this,n=t.ad,i=t.data,a=t.virtualEvents;this.streamTime=i.time,this.adTime=n?i.time-n.startTimeInSeconds:null,this.adDuration=n?n.durationInSeconds:null,this.time=n?i.time-this.cumulativeAdTime-this.adTime:this.isLive?i.time:i.time-this.cumulativeAdTime,this.duration=this.isLive?i.duration:i.duration-this.totalAdTime,a.forEach(function(t){return e.powa.trigger(t,Object(o.extend)(i,{type:t}))})}},{key:"map_adBarHide",value:function(t){return this.ad?Object(o.extend)(t,{shrinkCSS:{cursor:"default"}}):t}},{key:"map_adBarShow",value:function(t){return this.ad?Object(o.extend)(t,{shrinkCSS:{cursor:"pointer"}}):t}},{key:"map_adDurationChange",value:function(t){return this.ad?Object(o.extend)(t,{oldAdDuration:this.ad.durationInSeconds,adDurationChange:t.adDuration-this.ad.durationInSeconds}):t}},{key:"map_firstFrame",value:function(t){return this.isMediaTailor&&this.powa.trigger(r.MT_FIRST_FRAME,t),t}},{key:"map_muted",value:function(t){return this.ad?Object(o.extend)(t,{type:O.t.AD_MUTE}):t}},{key:"map_pause",value:function(t){return this.ad&&!this.ad.vpaid?Object(o.extend)(t,{type:O.t.AD_PAUSE}):t}},{key:"map_play",value:function(t){return this.ad&&!this.ad.vpaid?Object(o.extend)(t,{type:O.t.AD_PLAY}):t}},{key:"map_seek",value:function(t){return t.seek=t.seekPosition?t.seekPosition*t.duration:t.seek,t.seek=t.seek+this.cumulativeAdTime,t}},{key:"map_time",value:function(t){var e=this.skip?null:this.ads.find(function(e){return e.startTimeInSeconds<=t.time&&t.time<e.startTimeInSeconds+e.durationInSeconds});if(this.cumulativeAdTime=this.isLive?null:this.ads.reduce(function(e,n){return e+t.time>=n.startTimeInSeconds+n.durationInSeconds?n.durationInSeconds:0},0),Object(i.get)(this,"ad.vpaid"))return this.ad.vpaid.powaTime(t),Object(o.extend)(t,{powaTrackSnuff:!0});if(Object(i.has)(e,"vpaid"))return e.vpaid.start(t),Object(o.extend)(t,{powaTrackSnuff:!0});var n=[];!this.ad||e&&this.ad.adId===e.adId||(this.skip?(this.skip=!1,n.push(O.t.AD_SKIP)):n.push(O.t.AD_COMPLETE),n.push(O.t.AD_END)),this.reportVirtualEvents({ad:e,data:t,virtualEvents:n});var a=[];return e?(Object(i.has)(e,"lastTime")&&e.lastTime>t.time&&a.push(O.t.AD_REWIND),e.lastTime=t.time,this.ad&&this.ad.adId===e.adId||(this.ad=e,a.push(O.t.AD_START),a.push(O.t.AD_FIRST_FRAME))):(this.ad&&a.push(O.t.MEDIA_START),this.ad=null),this.reportVirtualEvents({ad:e,data:t,virtualEvents:a}),e?Object(o.extend)(t,{adRemaining:this.adDuration-this.adTime,remaining:this.adDuration-this.adTime,type:"adTime"}):t}},{key:"adBarHide",value:function(t){this.isMediaTailor&&t.shrinkCSS&&this.powa.get$video().css(t.shrinkCSS)}},{key:"adBarMute",value:function(t){this.isMediaTailor&&this.powa.mute()}},{key:"adBarPause",value:function(t){this.isMediaTailor&&this.powa.pause()}},{key:"adBarPlay",value:function(t){this.isMediaTailor&&this.powa.play()}},{key:"adBarShow",value:function(t){this.isMediaTailor&&t.shrinkCSS&&this.powa.get$video().css(t.shrinkCSS)}},{key:"adBarSkip",value:function(t){if(this.isMediaTailor){var e=Object(i.get)(this,"ad.vpaid");e?e.skip():(this.skip=!0,this.powa.seekTime(t.time+t.adDuration))}}},{key:"adStart",value:function(t){this.isMediaTailor&&this.adCompanionCheck(t)}},{key:"mtAvails",value:function(t){var e=this,n=t.avails,i=t.error,a=t.time,r=t.videoData;if(i)r.mediaTailor.error=i;else{this.totalAdTime=n.reduce(function(t,e){return t+e.durationInSeconds},0);var s=[];this.ads=n.reduce(function(t,e){return t.concat(e.ads)},this.ads).filter(function(t){return t.startTimeInSeconds>a-e.settings.adMemoryDuration}).filter(function(t){return!s.includes(t.adId)&&(s.push(t.adId),!0)});var c=this.powa,l=this.isLive,u=this;PoWaSettings.queryStringObj["powa-no-vpaid"]||this.ads.filter(function(t){return void 0===t.vpaid}).filter(function(t){return Zt.isVPAID(t)}).forEach(function(t){return t.vpaid=new Zt(Object(o.extend)(e.settings.vpaid,{adMeta:t,isLive:l,mediaTailor:u,powa:c}))}),r.mediaTailor.ads=this.ads}}},{key:"resize",value:function(t){this.isMediaTailor&&t.shrinkCSS&&this.powa.get$video().css(t.shrinkCSS)}},{key:"start",value:function(t){var e=Object(i.get)(t,"videoData._id");this.uuid!==e&&(this.clearStatus(),this.uuid=e,this.isLive="live"===Object(i.get)(t,"videoData.video_type"),this.isMediaTailor=!!Object(i.get)(t,"videoData.mediaTailor"),this.isLive&&this.powa.trigger(O.t.AD_BAR_DISABLE_SKIP))}}]),t}()},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(45),o=n(44),a=n(56),r=n(57),s=n(55),c=function(t,e,n){var l,u,d,p,h=t&c.F,g=t&c.G,f=t&c.S,v=t&c.P,m=t&c.B,b=g?i:f?i[e]||(i[e]={}):(i[e]||{}).prototype,y=g?o:o[e]||(o[e]={}),w=y.prototype||(y.prototype={});for(l in g&&(n=e),n)d=((u=!h&&b&&void 0!==b[l])?b:n)[l],p=m&&u?s(d,i):v&&"function"==typeof d?s(Function.call,d):d,b&&r(b,l,d,t&c.U),y[l]!=d&&a(y,l,p),v&&w[l]!=d&&(w[l]=d)};i.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var i=n(65)("wks"),o=n(60),a=n(45).Symbol,r="function"==typeof a;(t.exports=function(t){return i[t]||(i[t]=r&&a[t]||(r?a:o)("Symbol."+t))}).store=i},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},,function(t,e,n){t.exports=!n(54)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(48);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var i=n(51),o=n(89),a=n(76),r=Object.defineProperty;e.f=n(50)?Object.defineProperty:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return r(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(68);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(52),o=n(64);t.exports=n(50)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(45),o=n(56),a=n(53),r=n(60)("src"),s=n(100),c=(""+s).split("toString");n(44).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(a(n,"name")||o(n,"name",e)),t[e]!==n&&(l&&(a(n,r)||o(n,r,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[r]||s.call(this)})},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n(10),o=n(2),a=n(0),r=n(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g={debug:!1},f=Object(o.mapObj)(a.i,function(t){return".".concat(t)}),v={click:{query:"[class*=".concat(a.i.powaClick,"]"),customRE:/^powa-click-(.*)/,event:a.j.POWA_CLICK},mouseenter:{query:"[class*=".concat(a.i.powaHover,"]"),customRE:/^powa-hover-(.*)/,event:a.j.POWA_HOVER},mousedown:{query:"[class*=".concat(a.i.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:a.j.POWA_TOUCH},mouseup:{query:"[class*=".concat(a.i.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:a.j.POWA_TOUCH},mousemove:{query:"[class*=".concat(a.i.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:a.j.POWA_TOUCH},mouseleave:{query:"[class*=".concat(a.i.powaHover,"]"),customRE:/^powa-hover-(.*)/,event:a.j.POWA_HOVER},touchstart:{query:"[class*=".concat(a.i.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:a.j.POWA_TOUCH},touchmove:{query:"[class*=".concat(a.i.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:a.j.POWA_TOUCH},touchend:{query:"[class*=".concat(a.i.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:a.j.POWA_TOUCH}},m=function(t,e){return Object(o.reduce)(e,function(e,n){var i=Object(r.getCapturingGroup)(n,t.customRE);return i&&e.push(i),e},[])},b=function(t){function e(t){var n,i,a,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,n=!(a=u(e).call(this,t))||"object"!==s(a)&&"function"!=typeof a?c(i):a,Object(r.bindAll)(c(n)),n.settings=Object(o.extend)(g,l),n.listen(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,i["PoWaPack"]),p(e,null,[{key:"EVENTS",get:function(){return a.j}},{key:"CLASSES",get:function(){return a.i}},{key:"DOT_CLASSES",get:function(){return f}}]),p(e,[{key:"listen",value:function(){var t=this;this.events=Object(o.extend)(a.j),Object(o.forEach)(v,function(e,n){t.$interactables=t.find(e.query),t.$interactables.on(n,t.handle),m(e,t.$interactables.getClasses()).map(r.camelCase).forEach(function(e){return t.events[e]=e})}),this.events=Object(r.freeze)(this.events)}},{key:"handle",value:function(t){var e=this;if(!t.powaShotHandled){t.powaShotHandled=!0;var n=v[t.type],i=t.currentTarget&&t.currentTarget.classList?Array.from(t.currentTarget.classList):t.currentTarget&&t.currentTarget.className?t.currentTarget.className.split(" "):[],s=m(n,i);s.length?Object(o.forEach)(s,function(n){var i=Object(r.camelCase)(n);e.trigger(a.j.POWA_CUSTOM,{type:i,event:t}),e.trigger(i,{type:i,event:t})}):this.trigger(n.event,{type:n.event,event:t})}}},{key:"html",value:function(t){l(u(e.prototype),"html",this).call(this,t),this.listen()}}]),e}()},function(t,e,n){var i=n(73),o=n(67);t.exports=function(t){return i(o(t))}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(70),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e,n){var i=n(90),o=n(79);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(44),o=n(45),a=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(66)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(67);t.exports=function(t){return Object(i(t))}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return k});var i=n(10),o=n(2),a=n(1),r=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h="PoWaPlayer",g=Object(a.freeze)({BUFFERING:"buffering",ENDED:"ended",ERROR:"error",IDLE:"idle",PAUSED:"paused",PLAYING:"playing",SKIPPED:"skipped"}),f=Object(a.freeze)([g.BUFFERING,g.PAUSED,g.PLAYING]),v=Object(a.freeze)(["controls","currentTime","duration","muted","src","videoHeight","videoWidth","volume"]),m=Object(a.freeze)({currentTime:"time"}),b=Object(a.freeze)(["duration","time","volume"]),y=Object(a.freeze)(["videoHeight","videoWidth"]),w=Object(a.freeze)({debug:!1,debugExclusions:["progress","suspend","timeupdate"],preload:"metadata",stashVolume:!0,style:{backgroundColor:"black",position:"absolute",top:0,left:0,width:"100%",height:"100%"},ready:function(){console.debug("[".concat(h,"] ready"))},setupError:console.error});var k=function(t){function e(){var t,n,i,r,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1],arguments.length>2&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(i=c(e).call(this,(r=u.type,"<".concat(r,' class="powa-').concat(r,'"></').concat(r,">"))))||"object"!==s(i)&&"function"!=typeof i?l(n):i,Object(a.bindAll)(l(t)),t.media=t.elements[0],t.settings=Object(o.extend)(w,u),t.setDefaultStyle(),t.clearStarted(),t.state=g.IDLE,t.debug=t.settings.debug,t.debugExclusions=t.settings.debugExclusions,t._setupPlayerEvents(),t.attr("id",t.settings.id),t.attr("playsinline","true"),t.attr("preload",t.settings.preload),t.attr("controlslist","nodownload"),t.setControls(t.settings.controls),t.settings.loop&&(t.attr("loop",!0),t.setControls(!1),t.loop={count:0}),t.settings.autoplay&&t.attr("autoplay",!0),t.settings.volume=Object(a.get)(l(t),"settings.volume",Object(a.parseString)(Object(a.fetchLocal)("powaVolume")))||1,t.settings.muted=Object(a.get)(l(t),"settings.muted",Object(a.parseString)(Object(a.fetchLocal)("powaMuted")))||!1,t.volume(t.settings.volume),t.mute(t.settings.muted),t.stream=t.settings.stream,t.stream&&t.load(t.stream),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,i["PoWaPack"]),d(e,null,[{key:"powaDown",value:function(t){return Object(r.v)(t)}},{key:"MODULE",get:function(){return h}},{key:"AUDIO",get:function(){return"audio"}},{key:"VIDEO",get:function(){return"video"}},{key:"EVENTS",get:function(){return r.m}},{key:"STATES",get:function(){return g}}]),d(e,[{key:"_setupPlayerEvents",value:function(){var t=this;r.c.map(function(e){return t.on(e,t._playerEventHandler)})}},{key:"setDefaultStyle",value:function(){this.css(this.settings.style)}},{key:"_sneakyStartToo",value:function(){var t=this,e=this.media.play();this.needToBeSneaky=!0,void 0!==e?e.then(function(){t.needToBeSneaky&&t.media.pause()}):this.media.pause()}},{key:"_playerEventHandler",value:function(t){this.debug&&!this.debugExclusions.includes(t.type)&&console.debug("[".concat(h,"] ").concat(t.type),t),this["_".concat(t.type,"Handler")]&&this["_".concat(t.type,"Handler")](t)}},{key:"_clickHandler",value:function(t){this.trigger(r.m.MEDIA_CLICK,Object(o.extend)(this.getStatus(),{type:r.s.MEDIA_CLICK,event:t}))}},{key:"_contextmenuHandler",value:function(t){t.preventDefault(),this.trigger(r.m.MEDIA_RIGHT_CLICK,Object(o.extend)(this.getStatus(),{type:r.s.MEDIA_RIGHT_CLICK,event:t}))}},{key:"_durationchangeHandler",value:function(t){this.trigger(r.m.META,Object(o.extend)(this.getStatus(),{type:r.s.META,event:t}))}},{key:"_endedHandler",value:function(t){!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?this.mediaStarted&&(this.state=g.ENDED,this.trigger(r.m.COMPLETE,Object(o.extend)(this.getStatus(),{type:r.s.COMPLETE,event:t})),this._ended(r.s.COMPLETE)):this.trigger(r.m.COMPLETE,t)}},{key:"_errorHandler",value:function(t){if(this.attr("src")){this.state=g.ERROR;var e=Object(a.get)(t,"srcElement.error.code",null),n=Object(a.get)(t,"srcElement.src",null),i=Object(a.get)(t,"srcElement.error.message",null),s=Object(o.extend)(this.getStatus(),{code:e,stream:n,message:i,mediaError:e?r.b[e]:null,type:r.s.ERROR,event:t});null===e&&(s.nonBlocking=!0),console.error(r.m.ERROR,s),this.trigger(r.m.ERROR,s),this._ended(r.s.ERROR)}}},{key:"_loadstartHandler",value:function(t){var e=this.attr("src");switch(this.settings.type){case"audio":""===e?(this.state=g.IDLE,this.trigger(r.m.UNLOADED,Object(o.extend)(this.getStatus(),{type:r.s.UNLOADED,event:t}))):this.trigger(r.m.LOADED,Object(o.extend)(this.getStatus(),{type:r.s.LOADED,event:t}));break;case"video":""===e?(this.state=g.IDLE,this.trigger(r.m.UNLOADED,Object(o.extend)(this.getStatus(),{type:r.s.UNLOADED,event:t}))):e.startsWith("blob:")||(this.state=g.IDLE,this.trigger(r.m.LOADED,Object(o.extend)(this.getStatus(),{type:r.s.LOADED,event:t})))}}},{key:"_pauseHandler",value:function(t){this.state=this.state===g.SKIPPED?g.SKIPPED:g.PAUSED,this.trigger(r.m.PAUSE,Object(o.extend)(this.getStatus(),{type:r.s.PAUSE,event:t}))}},{key:"_playHandler",value:function(t){this.started||this.mediaStarted?this.started&&this.mediaStarted&&this.state!==g.PLAYING&&(this.state=g.PLAYING,this.trigger(r.m.PLAY,Object(o.extend)(this.getStatus(),{type:r.s.PLAY,event:t}))):(this.started=!0,this.trigger(r.m.START,Object(o.extend)(this.getStatus(),{type:r.s.START})))}},{key:"_playingHandler",value:function(t){this._playHandler(t)}},{key:"_progressHandler",value:function(t){if(this.media.buffered&&this.media.buffered.length){var e=this.media.buffered.end(this.media.buffered.length-1)/this.media.duration;this.trigger(r.m.PROGRESS,Object(o.extend)(this.getStatus(),{type:r.s.PROGRESS,progress:e,event:t}))}}},{key:"_seekedHandler",value:function(t){this.trigger(r.m.SEEKED,Object(o.extend)(this.getStatus(),{type:r.s.SEEKED}))}},{key:"_timeupdateHandler",value:function(t){if(this.started&&this.mediaStarted){var e=this.getStatus();this.firstFrame&&(this.debug&&!this.debugExclusions.includes(r.m.FIRST_FRAME)&&console.debug("[".concat(h,"] ").concat(r.m.FIRST_FRAME)),this.firstFrame=!1,this.trigger(r.m.FIRST_FRAME,Object(o.extend)(e,{type:r.s.FIRST_FRAME}))),this.loop&&(this.loop.lastTime>e.time&&(this.debug&&!this.debugExclusions.includes(r.m.LOOP)&&console.debug("[".concat(h,"] ").concat(r.m.LOOP)),this._endedHandler(this.loop.lastEvent,!1),this.trigger(r.m.LOOP,Object(o.extend)(e,{loopCount:++this.loop.count,type:r.s.LOOP,event:t}))),this.loop.lastTime=e.time,this.loop.lastEvent=Object(o.extend)(e,{type:r.s.COMPLETE,event:t})),this.trigger(r.m.TIME,Object(o.extend)(e,{type:r.s.TIME,event:t}))}}},{key:"_volumechangeHandler",value:function(t){var e=this.getStatus();this.settings.stashVolume&&Object(a.stashLocal)({powaVolume:e.volume,powaMuted:e.muted});var n=this.settings.muted!==e.muted,i=this.settings.volume!==e.volume;n&&(this.settings.muted=e.muted,this.trigger(r.m.MUTED,Object(o.extend)(e,{type:r.s.MUTED,event:t}))),i&&(this.settings.volume=e.volume,this.trigger(r.m.VOLUME,Object(o.extend)(e,{type:r.s.VOLUME,event:t})))}},{key:"_waitingHandler",value:function(t){this.media.readyState===this.media.HAVE_CURRENT_DATA&&(this.state=g.BUFFERING,this.trigger(r.m.BUFFERING,Object(o.extend)(this.getStatus(),{type:r.s.BUFFERING,event:t})))}},{key:"_ended",value:function(t,e){this.debug&&!this.debugExclusions.includes(r.m.END)&&console.debug("[".concat(h,"] ").concat(r.m.END),t),this.clearStarted(),this.state=g.IDLE,this.trigger(r.m.END,Object(o.extend)(this.getStatus(),{status:t},e))}},{key:"clearStarted",value:function(){this.firstFrame=!0,this.mediaStarted=!1,this.started=!1}},{key:"close",value:function(){this.pause()}},{key:"getStatus",value:function(){var t=Object(o.chain)(this.media).pick(v).rename(m).filter(function(t,e){return!y.includes(e)||t}).filter(function(t,e){return!b.includes(e)||!isNaN(t)}).value();return Object(o.extend)({mediaStarted:this.mediaStarted,running:f.includes(this.state),started:this.started,state:this.state,stream:this.stream},t)}},{key:"jump",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return isNaN(this.media.currentTime)?null:this.seek(this.media.currentTime+t)}},{key:"load",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.noop;this.debug&&console.debug("[".concat(h,"][load]"),t),"audio"===this.settings.type&&(this.state=g.IDLE),t===this.stream||this.isAd||(this.clearStarted(),this.stream=t),this.once(r.m.LOADED,e),this.attr("src",t)}},{key:"mute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.media.muted;this.media.muted=t}},{key:"muted",value:function(){return this.media.muted}},{key:"_pause",value:function(){var t=this.media.pause();void 0!==t&&t.then(a.noop).catch(a.noop)}},{key:"pause",value:function(){this.debug&&console.debug("[".concat(h,"][pause]")),this._pause()}},{key:"_play",value:function(){var t=this,e=this.media.play();if(void 0!==e){var n;n=setTimeout(function(){t.trigger(r.m.BROKEN_PROMISE,Object(o.extend)(t.getStatus(),{type:r.s.BROKEN_PROMISE})),t.pause(),t._play()},5*r.g);var i=function(){return clearTimeout(n)};e.then(i).catch(i)}}},{key:"play",value:function(){this.debug&&console.debug("[".concat(h,"][play]")),this.started?(this.needToBeSneaky=!1,this.mediaStarted?this._play():(this.mediaStarted=!0,this.trigger(r.m.MEDIA_START,Object(o.extend)(this.getStatus(),{type:r.s.MEDIA_START})),this.stream?this.load(this.stream,this._play):this._play())):(this.started=!0,this.media.currentTime&&(this.media.currentTime=0),this._sneakyStartToo(),this.trigger(r.m.START,Object(o.extend)(this.getStatus(),{type:r.s.START})))}},{key:"togglePlay",value:function(){this.media.paused?this.play():this.pause()}},{key:"seek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.debug&&console.debug("[".concat(h,"][seek]")),this.media.currentTime=t,this.media.currentTime}},{key:"setControls",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.attr("controls"))?this.attr("controls",!0):this.removeAttr("controls")}},{key:"skip",value:function(){this.debug&&console.debug("[".concat(h,"][skip]")),this._pause(),this.state=g.SKIPPED;var t=this.getStatus();this.trigger(r.m.SKIP,Object(o.extend)(t,{type:r.s.SKIP})),this._ended(r.s.SKIP,Object(o.pick)(t,["time","duration"]))}},{key:"unload",value:function(t){this.debug&&console.debug("[".concat(h,"][unload]")),this.stream="",this.clearStarted(),this.once(r.m.UNLOADED,t),this.attr("src","")}},{key:"volume",value:function(t){return isNaN(t)||(this.media.volume=t),this.media.volume}}]),e}()},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(61);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return w});var i=n(2),o=n(58),a=n(1),r=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g="PoWaShot",f=Object(i.extend)(r.i,{powaShot:"powa-shot",powaClickPlay:"".concat(r.i.powaClick,"-promo-play"),powaClickVideoToggle:"".concat(r.i.powaClick,"-promo-video-toggle")}),v=function(){return'<div class="'.concat(f.powaShot,'"></div>')},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"\n\t.powa-shot {\n\t\tposition: absolute;\n\t\tcolor: ".concat(Object(a.getColor)(t.colors.primary),";\n\t\tfill: ").concat(Object(a.getColor)(t.colors.primary),';\n\t\tfont-family: "HelveticaNeue", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;\n\t\tz-index: 1;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttop: 0px;\n\t\tleft: 0px;\n\t}\n\n\t.powa-shot-title {\n\t\tfont-size: x-large;\n\t\ttext-shadow: 2px 2px 3px ').concat(Object(a.getColor)(t.colors.background,.8),";\n\t\tposition: absolute;\n\t\ttop: 15px;\n\t\tleft: 15px;\n\t}\n\n\t.powa-shot-image {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t\tbackground-size: cover;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: center;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-around;\n\t}\n\n\t.powa-shot-video {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.powa-shot-video-toggle svg {\n\t\tposition: absolute;\n\t\tbottom: 5px;\n\t\tright: 5px;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t\theight: 1.5em;\n\t\twidth: 1.5em;\n\t\tborder-radius: 1em;\n\n\t\tbackground-color: ").concat(Object(a.getColor)(t.colors.background,.25),";\n\t\tbox-shadow: 0 0 5px 1px ").concat(Object(a.getColor)(t.colors.background,.25),";\n\n\t\tcursor: pointer;\n\t\ttransition: all 0.25s;\n\t\tz-index: 1;\n\t}\n\n\t.powa-shot-video-toggle svg:hover {\n\t\tcolor: ").concat(Object(a.getColor)(t.colors.accent),";\n\t}\n\n\t.powa-shot-video-toggle-icon {\n\t\tcolor: rgb(240, 248, 255);\n\t\topacity: 0.5;\n\t}\n\n\t.powa-shot-play-btn svg {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\topacity: 0.85;\n\n\t\tborder-radius: 2em;\n\n\t\tbackground-color: ").concat(Object(a.getColor)(t.colors.background,.25),";\n\t\tbox-shadow: 0 0 10px 5px ").concat(Object(a.getColor)(t.colors.background,.25),";\n\n\t\tcursor: pointer;\n\t\ttransition: all 0.25s;\n\t\tz-index: 1;\n\t}\n\n\t.powa-shot-play-btn svg:hover {\n\t\tfill: ").concat(Object(a.getColor)(t.colors.accent),";\n\t}\n\n\t.powa-shot-play-icon,\n\t.powa-shot-loading-icon {\n\t\topacity: 0.85;\n\t}\n")};function b(t){var e=Object(a.get)(t,"videoData.bandito.image"),n=Object(a.get)(t,"videoData.bandito.title"),i=Object(a.get)(t,"videoData.bandito.video"),o=Object(a.get)(t,"videoData.additional_properties.gifAsThumbnail"),r=o?Object(a.get)(t,"videoData.streams",[]).filter(function(t){return"gif"===t.stream_type})[0]:null,s=o?Object(a.get)(t,"videoData.streams",[]).filter(function(t){return"gif-mp4"===t.stream_type})[0]:null;return t.image=e||(r?r.url:t.image),t.title=n||t.title,t.title=null,t.video=i||(s?s.url:t.video),'\n\t\t<div class="powa-shot-image '.concat(f.powaClickPlay,'"').concat(t.image?" style=\"background-image: url('".concat(t.image,"')\""):"",">\n\t\t\t").concat(t.video?'<video class="powa-shot-video" src="'.concat(t.video,'" playsinline muted autoplay loop></video>'):"","\n\t\t\t").concat(t.title?'<div class="powa-shot-title">'.concat(t.title,"</div>"):"",'\n\t\t\t<button aria-label="Play" title="Play" class="powa-button powa-shot-play-btn ').concat(f.powaClickPlay,'">\n\t\t\t\t').concat(Object(a.svgIcon)("playIcon","powa-shot-play-icon","powa-f-6"),"\n\t\t\t\t").concat(Object(a.svgIcon)("circleNotch","powa-shot-loading-icon","powa-f-6","powa-spin"),"\n\t\t\t</button>\n\n\t\t\t").concat(t.video?'<button aria-label="Play/Pause" title="Play/Pause" class="powa-button powa-shot-video-toggle '.concat(f.powaClickVideoToggle,'">\n\t\t\t\t').concat(Object(a.svgIcon)("pauseCircle","powa-shot-video-toggle-icon","powa-shot-video-pause-icon"),"\n\t\t\t\t").concat(Object(a.svgIcon)("playCircle","powa-shot-video-toggle-icon","powa-shot-video-play-icon"),"\n\t\t\t</button>"):"","\n\t\t</div>\n\t")}var y={debug:!1,style:m,template:b},w=function(t){function e(){var t,n,o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=u(e).call(this,v(l)),t=!o||"object"!==s(o)&&"function"!=typeof o?c(n):o,Object(a.bindAll)(c(t));var d=l.data||{};if(delete l.data,t.settings=Object(i.extend)(y,Object(i.defined)(l)),t.on(r.l.ADDED_TO_DOM,function(){var e={id:t.settings.id,type:r.t.POWA_RENDER,visible:t.visible()};Object.assign(e,{powa:t.settings.powa}),t.settings.powaTrack.trigger(r.t.POWA_RENDER,e)}),Object(i.forEach)(r.t,function(e){t[e]&&t.settings.powaTrack.on(e,t[e])}),Object(i.forEach)(r.j,function(e){t.on(e,function(e){e=e.detail?e.detail:e,t.settings.powaTrack.trigger(e.type,e)})}),!Object(a.isObject)(t.settings.style)){var p=Object(i.extend)({colors:Object(r.u)()},t.settings),h=t.settings.default?m(p):"function"==typeof t.settings.style?t.settings.style(p):t.settings.style;Object(a.addCSS)(h,g)}return t.update(d),t.settings.$container.append(c(t)),t.on("contextmenu",t.promoVideoToggle),Object(i.forEach)(t.events,function(e){t[e]&&t.on(e,t[e])}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,o["a"]),p(e,null,[{key:"EVENTS",get:function(){return r.p}}]),p(e,[{key:"show",value:function(){l(u(e.prototype),"show",this).call(this),this.settings.powaTrack.trigger(r.p.PROMO_SHOW)}},{key:"hide",value:function(){l(u(e.prototype),"hide",this).call(this),this.settings.powaTrack.trigger(r.p.PROMO_HIDE)}},{key:"showPlayButton",value:function(){this.$promoPlay.show(),this.$promoLoading.hide()}},{key:"showLoadingIcon",value:function(){this.$promoPlay.hide(),this.$promoLoading.show()}},{key:"start",value:function(){this.showLoadingIcon()}},{key:"firstFrame",value:function(){this.showPlayButton()}},{key:"promoVideoToggle",value:function(){this.$promoVideo.elements.length&&(this.$promoVideo.elements[0].paused?(this.$promoVideoPlay.hide(),this.$promoVideoPause.show(),this.$promoVideo.elements[0].play()):(this.$promoVideoPlay.show(),this.$promoVideoPause.hide(),this.$promoVideo.elements[0].pause()))}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.powa=this.settings.powa,this.html(this.settings.default?b(t):this.settings.template(t)),Object(a.isObject)(this.settings.style)&&Object(a.notEmpty)(this.settings.style)&&this.css(this.settings.style);var e=this.find(".powa-shot-click-play");e.elements.length&&(e.addClass(f.powaClickPlay),this.listen()),this.$promoPlay=this.find(".powa-shot-play-icon"),this.$promoLoading=this.find(".powa-shot-loading-icon"),this.$promoLoading.hide(),this.$promoVideo=this.find(".powa-shot-video"),this.$promoVideoPlay=this.find(".powa-shot-video-play-icon"),this.$promoVideoPause=this.find(".powa-shot-video-pause-icon"),this.$promoVideoPlay.hide()}}]),e}()},function(t,e,n){var i=n(48),o=n(45).document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var i=n(48);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports={}},function(t,e,n){var i=n(65)("keys"),o=n(60);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(55),o=n(120),a=n(121),r=n(51),s=n(62),c=n(122),l={},u={};(e=t.exports=function(t,e,n,d,p){var h,g,f,v,m=p?function(){return t}:c(t),b=i(n,d,e?2:1),y=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(a(m)){for(h=s(t.length);h>y;y++)if((v=e?b(r(g=t[y])[0],g[1]):b(t[y]))===l||v===u)return v}else for(f=m.call(t);!(g=f.next()).done;)if((v=o(f,b,g.value,e))===l||v===u)return v}).BREAK=l,e.RETURN=u},function(t,e,n){var i=n(52).f,o=n(53),a=n(47)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,a)&&i(t,a,{configurable:!0,value:e})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(48);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";var i=n(92),o={};o[n(47)("toStringTag")]="z",o+""!="[object z]"&&n(57)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},,function(t,e,n){var i=n(60)("meta"),o=n(48),a=n(53),r=n(52).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(54)(function(){return c(Object.preventExtensions({}))}),u=function(t){r(t,i,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,i)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[i].i},getWeak:function(t,e){if(!a(t,i)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[i].w},onFreeze:function(t){return l&&d.NEED&&c(t)&&!a(t,i)&&u(t),t}}},function(t,e,n){"use strict";var i=n(10),o=n(0),a=n(2),r=n(1),s=Object(r.freeze)({sticky:"powa-sticky",stuck:"powa-sticky-stuck",stick:"powa-sticky-stick",close:"powa-sticky-close",mobile:"powa-sticky-mobile"}),c=Object(r.freeze)(Object(a.mapObj)(s,function(t){return".".concat(t)}));function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}n.d(e,"a",function(){return g}),PoWaSettings.client=PoWaSettings.client||Object(r.sniffClient)();var d="Sticky",p={ENGAGE:"stickyEngage",DISENGAGE:"stickyDisengage",ENGAGED:"stickyEngaged",DISENGAGED:"stickyDisengaged",CLOSED:"stickyClosed"},h={closeText:"Close",location:"bottom",style:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"\n\t@keyframes powa-sticky-slide-in {\n\t\t0% {\n\t\t\t".concat(t.location,": -400px;\n\t\t}\n\t\t100% {\n\t\t\t").concat(t.location,": ").concat(t.offset,";\n\t\t}\n\t}\n\n\t@keyframes powa-sticky-slide-in-mobile {\n\t\t0% {\n\t\t\t").concat(t.location,": -400px;\n\t\t}\n\t\t100% {\n\t\t\t").concat(t.location,": ").concat(t.offset,";\n\t\t}\n\t}\n\n\t.powa-sticky-stick.powa-sticky {\n\t\tposition: fixed;\n\t\tright: 13px;\n\t\tz-index: 2147483647;\n\t\tanimation: powa-sticky-slide-in .5s;\n\t\tmin-width: 220px;\n\t\tmax-width: 492px;\n\t\twidth: 33%;\n\t\t").concat(t.location,": ").concat(t.offset,";\n\t}\n\n\t.powa-sticky-stuck.powa-sticky-mobile .powa-sticky-stick.powa-sticky {\n\t\tanimation: powa-sticky-slide-in-mobile .5s;\n\t\twidth: 200px;\n\t}\n\n\t.powa-sticky-close {\n\t\tposition: absolute;\n\t\ttop: -35px;\n\t\tleft: 0;\n\t\tfont-size: 14px;\n\t\tline-height: 22px;\n\t\tdisplay: none;\n\t\tcursor: pointer;\n\t\tbackground: #333;\n\t\tpadding: 7px 11px;\n\t\tcolor: #fff;\n\t\tborder-radius: 5px 5px 0 0;\n\t\t-moz-box-shadow: 0 2px 2px #696969;\n\t\t-webkit-box-shadow: 0 2px 2px #696969;\n\t\tbox-shadow: 0 2px 2px #696969;\n\t}\n\n\t.powa-sticky-close i {\n\t\tpadding-left: .5em;\n\t}\n\n\t.powa-sticky-stick.powa-sticky .powa-sticky-close {\n\t\tdisplay: inline-block;\n\t}\n\n\t.powa-sticky-stick.powa-sticky .powa-sticky-close i {\n\t\tpadding: .25em;\n\t\tfont-size: 1.25em;\n\t}\n\n\t.powa-sticky-stuck.powa-sticky {\n\t\twidth: 100%;\n\t\tpadding-bottom: 56.25%;\n\t\tbackground-color: #d3d3d3;\n\t\tbackground-size: cover;\n\t\tbackground-color: black;\n\t}\n\n\t.powa-sticky .powa {\n\t\tmargin: 0;\n\t}\n")},template:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return'\n\t\t<div class="'.concat(s.stuck).concat(t.isMobile?" ".concat(s.mobile):"",'">\n\t\t\t<div class="').concat(s.stick,'">\n\t\t\t\t<div class="').concat(s.close,'">\n\t\t\t\t\t<span>').concat(t.closeText,"</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t")},threshold:.5,offset:"13px"},g=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(r.bindAll)(this),this.settings=Object(a.extend)(h,e),this.settings.powa.getDataset().sticky){var n="string"==typeof this.settings.style?this.settings.style:this.settings.style(this.settings);Object(r.addCSS)(n,d);var s=Object(a.extend)({isMobile:PoWaSettings.client.isMobile},this.settings);if(this.$stuck=Object(i.$)(this.settings.template(s)),this.$stick=this.$stuck.find(c.stick),this.$close=this.$stick.find(c.close),this.settings.powa){this.$stick.wrap(this.settings.powa.getElement()),this.$stuck.wrap(this.$stick);var l=this.settings.threshold;this.$stuck.on(o.t.VIEWABLE,this.disengage,{threshold:l}),this.$stuck.on(o.t.NOT_VIEWABLE,this.engage,{threshold:l}),this.$close.on("click",this.close),this.settings.powa.on(p.ENGAGE,this.engage,{threshold:l}),this.settings.powa.on(p.DISENGAGE,this.disengage,{threshold:l})}}}return u(t,null,[{key:"EVENTS",get:function(){return p}}]),u(t,[{key:"engage",value:function(t){var e=this.settings.powa.getStatus(),n=!!t.ignoreState||e.playing;!this.closed&&n&&(this.$stuck.addClass(s.sticky),this.$stick.addClass(s.sticky),this.settings.powa.trigger(p.ENGAGED))}},{key:"disengage",value:function(){(this.$stuck.hasClass(s.sticky)||this.$stick.hasClass(s.sticky))&&(this.$stuck.removeClass(s.sticky),this.$stick.removeClass(s.sticky),this.settings.powa.trigger(p.DISENGAGED))}},{key:"close",value:function(){this.closed=!0,this.settings.powa.pause(),this.disengage(),this.settings.powa.trigger(p.CLOSED)}}]),t}()},,function(t,e,n){t.exports=!n(50)&&!n(54)(function(){return 7!=Object.defineProperty(n(75)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(53),o=n(59),a=n(91)(!1),r=n(78)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),c=0,l=[];for(n in s)n!=r&&i(s,n)&&l.push(n);for(;e.length>c;)i(s,n=e[c++])&&(~a(l,n)||l.push(n));return l}},function(t,e,n){var i=n(59),o=n(62),a=n(101);t.exports=function(t){return function(e,n,r){var s,c=i(e),l=o(c.length),u=a(r,l);if(t&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var i=n(61),o=n(47)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){"use strict";var i=n(138)(!0);n(105)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var i=n(47)("unscopables"),o=Array.prototype;null==o[i]&&n(56)(o,i,{}),t.exports=function(t){o[i][t]=!0}},function(t,e,n){"use strict";var i=n(63),o=n(82),a=n(72),r=n(69),s=n(73),c=Object.assign;t.exports=!c||n(54)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=i})?function(t,e){for(var n=r(t),c=arguments.length,l=1,u=o.f,d=a.f;c>l;)for(var p,h=s(arguments[l++]),g=u?i(h).concat(u(h)):i(h),f=g.length,v=0;f>v;)d.call(h,p=g[v++])&&(n[p]=h[p]);return n}:c},function(t,e,n){for(var i=n(156),o=n(63),a=n(57),r=n(45),s=n(56),c=n(77),l=n(47),u=l("iterator"),d=l("toStringTag"),p=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=o(h),f=0;f<g.length;f++){var v,m=g[f],b=h[m],y=r[m],w=y&&y.prototype;if(w&&(w[u]||s(w,u,p),w[d]||s(w,d,m),c[m]=p,b))for(v in i)w[v]||a(w,v,i[v],!0)}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(57);t.exports=function(t,e,n){for(var o in e)i(t,o,e[o],n);return t}},function(t,e,n){"use strict";var i=n(10),o=n(2),a=n(1),r=n(0),s=Object(a.freeze)({discovery:"powa-discovery",hidden:"powa-discovery-hidden",tinted:"powa-discovery-tinted",header:"powa-discovery-header",title:"powa-discovery-title",controls:"powa-discovery-controls",control:"powa-discovery-control",controlIcon:"powa-discovery-control-icon",controlLeft:"powa-discovery-control-left",controlRight:"powa-discovery-control-right",playlist:"powa-discovery-playlist",playlistWrap:"powa-discovery-playlist-wrap",divider:"powa-discovery-divider",playlistItem:"powa-discovery-playlist-item",playlistItemWrap:"powa-discovery-playlist-item-wrap",playlistItemHidden:"powa-discovery-playlist-item-hidden",playlistItemPromo:"powa-discovery-playlist-item-promo",playlistItemOverlay:"powa-discovery-playlist-item-overlay",playlistItemPlaying:"powa-discovery-playlist-item-playing",playlistItemDuration:"powa-discovery-playlist-item-duration",playlistItemBlurb:"powa-discovery-playlist-item-blurb",playlistItemBlurbHidden:"powa-discovery-playlist-item-blurb-hidden"}),c=Object(a.freeze)(Object(o.mapObj)(s,function(t){return".".concat(t)})),l={color:"#222222",borderColor:"#E1E1E1",backgroundColor:"#FAFAFA",dividerColor:"darkgray",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',gutter:10,slideTime:.5,opacityTime:.5,breakpoint:"480",mobile:{headerFontSize:"18px",blurbFontSize:"16px",blurbLineHeight:"17",playlistImageWidth:"150",playlistImageHeight:"84",playingFontSize:"13",durationFontSize:"12"},desktop:{headerFontSize:"18px",blurbFontSize:"16px",blurbLineHeight:"20",playlistImageWidth:"180",playlistImageHeight:"101",playingFontSize:"13",durationFontSize:"13"}};function u(t){return'\n\t\t<div class="'.concat(s.playlistItemWrap,'">\n\t\t\t<div class="').concat(s.playlistItem,'" id="',"".concat(s.playlistItem,"_").concat(t._id),'" data-uuid="').concat(t._id,'">\n\t\t\t\t<div class="').concat(s.playlistItemPromo,'" style="background-image: url(\'').concat(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small",n=Object(o.find)(t.additional_properties.imageResizerUrls,function(t){return t&&t.size&&t.size===e});return n&&n.url?n.url:t.promo_image.url}(t),'\')">\n\t\t\t\t\t<div class="').concat(s.playlistItemOverlay,'">\n\t\t\t\t\t\t<div class="').concat(s.playlistItemPlaying," ").concat(s.hidden,'">Now Playing</div>\n\t\t\t\t\t\t<div class="').concat(s.playlistItemDuration,'">').concat(Object(a.formatTime)(t.duration/r.g),'</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="').concat(s.playlistItemBlurb,'">').concat(t.headlines.basic,"</div>\n\t\t\t</div>\n\t\t</div>\n\t")}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,"a",function(){return f});var p="Discovery",h=Object.freeze({style:l,arrowLeft:"arrow-left",arrowRight:"arrow-right",template:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return arguments.length>2&&arguments[2],'\n\t\t<div class="'.concat(s.discovery,'">\n\t\t\t<div class="').concat(s.header,'">\n\t\t\t\t<div class="').concat(s.title,'">').concat(e,'</div>\n\t\t\t\t<button class="powa-button ').concat(s.controls,'" arial-label="Previous/Next" title="Previous/Next">\n\t\t\t\t\t').concat(Object(a.svgIcon)("arrowLeft",s.control,s.controlLeft,s.controlIcon),"\n\t\t\t\t\t").concat(Object(a.svgIcon)("arrowRight",s.control,s.controlRight,s.controlIcon),'\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="').concat(s.playlistWrap,'">\n\t\t\t\t<div class="').concat(s.playlist,'">\n\t\t\t\t\t').concat(t.reduce(function(t,e){return"".concat(t).concat(t?'<div class="'.concat(s.divider,'"></div>'):"").concat(u(e))},""),"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t")},css:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return"\n\t".concat(c.hidden," {\n\t\tdisplay: none;\n\t}\n\n\t").concat(c.tinted," {\n\t\tbackground: rgba(0,0,0, 0.5);\n\t}\n\n\t").concat(c.discovery," {\n\t\tbackground-color: ").concat(t.backgroundColor,";\n\t\tborder: 1px solid ").concat(t.borderColor,";\n\t\tborder-radius: 0 0 4px 4px;\n\t\tbox-sizing: border-box;\n\t\tcolor: ").concat(t.color,";\n\t\tfont-family: ").concat(t.fontFamily,";\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t").concat(c.header," {\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tfont-size: ").concat(t.mobile.headerFontSize,";\n\t\tpadding: ").concat(2*t.gutter,"px;\n\t\twidth: 100%;\n\t}\n\n\t").concat(c.controls," {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t}\n\n\t").concat(c.control," {\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tmax-width: 20px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t").concat(c.controlIcon," {\n\t\tcursor: pointer;\n\t\tmargin: 0 ").concat(t.gutter,"px;\n\t}\n\n\t").concat(c.controlLeft," {\n\t\tjustify-content: flex-end;\n\t}\n\n\t").concat(c.controlRight," {\n\t\tjustify-content: flex-start;\n\t}\n\n\t").concat(c.playlistWrap," {\n\t\tmargin-right: ").concat(t.gutter,"px;\n\t\toverflow-x: scroll;\n\t}\n\n\t").concat(c.playlist," {\n\t\tdisplay: flex;\n\t\twidth: auto;\n\t\tpadding: 0 ").concat(t.gutter,"px ").concat(2*t.gutter,"px ").concat(t.gutter,"px;\n\t}\n\n\t").concat(c.divider," {\n\t\tbackground-color: ").concat(t.dividerColor,";\n\t\tborder-radius: 1px;\n\t\theight: auto;\n\t\tmargin: 0 ").concat(t.gutter,"px;\n\t\tpadding: 1px;\n\t}\n\n\t").concat(c.playlistItemWrap," {\n\t}\n\n\t").concat(c.playlistItem," {\n\t\tmargin: 0 ").concat(t.gutter,"px;\n\t\twidth: ").concat(t.mobile.playlistImageWidth,"px;\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(c.playlistItemHidden," {\n\t\topacity: 0;\n\t\twidth: 0;\n\t}\n\n\t").concat(c.playlistItemPromo," {\n\t\tcursor: pointer;\n\t\tmargin-bottom: ").concat(t.gutter,"px;\n\t\twidth: 100%;\n\t\theight: ").concat(t.mobile.playlistImageHeight,"px;\n\t\tbackground-size: cover;\n\t\tbackground-position: center;\n\t}\n\n\t").concat(c.playlistItemOverlay," {\n\t\tdisplay: flex;\n\t\talign-items: flex-end;\n\t\theight: 100%;\n\t\tcolor: white;\n\t\ttext-shadow: 1px 1px 5px black;\n\t}\n\n\t").concat(c.playlistItemPlaying," {\n\t\tfont-size: ").concat(t.mobile.playingFontSize,"px;\n\t\tmargin-left: 10px;\n\t\tmargin-bottom: 8px;\n\t}\n\n\t").concat(c.playlistItemDuration," {\n\t\tfont-size: ").concat(t.mobile.durationFontSize,"px;\n\t\tmargin-left: 10px;\n\t\tmargin-bottom: 8px;\n\t}\n\n\t").concat(c.playlistItemBlurb," {\n\t\tfont-size: ").concat(t.mobile.blurbFontSize,";\n\t\ttransition: opacity ").concat(t.opacityTime,"s;\n\t\tline-height: ").concat(t.mobile.blurbLineHeight,"px;\n\t\tmargin: 0;\n\t\twidth: 100%;\n\t}\n\n\t").concat(c.playlistItemBlurbHidden," {\n\t\topacity: 0;\n\t}\n\n\t@media only screen and (min-width: ").concat(t.breakpoint,"px) {\n\t\t").concat(c.header," {\n\t\t\tfont-size: ").concat(t.desktop.headerFontSize,";\n\t\t}\n\n\t\t").concat(c.playlistItemBlurb," {\n\t\t\tfont-size: ").concat(t.desktop.blurbFontSize,";\n\t\t}\n\n\t\t").concat(c.playlistItem," {\n\t\t\twidth: ").concat(t.desktop.playlistImageWidth,"px;\n\t\t}\n\n\t\t").concat(c.playlistItemPromo," {\n\t\t\theight: ").concat(t.desktop.playlistImageHeight,"px;\n\t\t}\n\n\t\t").concat(c.playlistItemPlaying," {\n\t\t\tfont-size: ").concat(t.desktop.playingFontSize,"px;\n\t\t}\n\n\t\t").concat(c.playlistItemDuration," {\n\t\t\tfont-size: ").concat(t.desktop.durationFontSize,"px;\n\t\t}\n\n\t\t").concat(c.playlistItemBlurb," {\n\t\t\tline-height: ").concat(t.desktop.blurbLineHeight,"px;\n\t\t}\n\t}\n")}});function g(t,e,n){var i=Date.now(),o=t.scrollLeft,a=e-o;requestAnimationFrame(function r(){var s=Date.now();if(s>=i+n)t.scrollLeft=e;else{var c=(s-i)/n;t.scrollLeft=o+a*c,requestAnimationFrame(r)}})}var f=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(a.bindAll)(this),this.settings=Object(o.extend)({},h,e),this.dataset=this.settings.powa?this.settings.powa.getDataset():{},!this.dataset.discovery)return null;var n="string"==typeof this.settings.css?this.settings.css:this.settings.css(this.settings.style);Object(a.addCSS)(n,p),this.id=e.id,this.powa=e.powa,this.$player=Object(i.$)("#".concat(this.id));var r=this.powa.getPlaylistMeta(),s=this.powa.getPlaylist();this.createUI(s,r.name),this.handleEvents()}var e,n,l;return e=t,(n=[{key:"createUI",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$discovery=Object(i.$)(this.settings.template(t,e,this.settings)),this.$discovery.css({width:"".concat(this.$player.width(),"px")}),this.$scroller=this.$discovery.find(c.playlistWrap),this.$controlLeft=this.$discovery.find(c.controlLeft),this.$controlRight=this.$discovery.find(c.controlRight),this.$player.after(this.$discovery)}},{key:"handleEvents",value:function(){var t=this;this.powa.on(PoWa.EVENTS.START,function(e){return t.setNowPlaying(Object(a.get)(e,"videoData._id"))}),this.$player.on(PoWa.EVENTS.RESIZE,function(e){return t.$discovery.css({width:"".concat(e.width,"px")})}),this.$discovery.find(c.playlistItem).on("click",this.playlistItemClickHandler),this.$controlLeft.on("click",this.controlLeftClicked),this.$controlRight.on("click",this.controlRightClicked)}},{key:"setNowPlaying",value:function(t){var e=this.$discovery.find(c.playlistItemPlaying),n=this.$discovery.find("#".concat(s.playlistItem,"_").concat(t)),i=this.$discovery.find("".concat(c.playlistItemOverlay," ").concat(c.tinted)),o=this.$discovery.find("".concat(c.playlistItemDuration," ").concat(c.hidden));i.removeClass(s.tinted),o.removeClass(s.hidden),e.addClass(s.hidden),n.find(c.playlistItemOverlay).addClass(s.tinted),n.find(c.playlistItemDuration).addClass(s.hidden),n.find(c.playlistItemPlaying).removeClass(s.hidden)}},{key:"playlistItemClickHandler",value:function(t){var e=t.currentTarget.getAttribute("data-uuid");e&&this.powa.loadVideo(e,this.powa.play)}},{key:"controlLeftClicked",value:function(){var t=this,e=this.$discovery.elements[0].getBoundingClientRect().left,n=this.$discovery.find(c.divider).width(),i=this.$discovery.find(c.playlistItem),o=i.width(),a=i.elements.reduce(function(n,i){var a=i.getBoundingClientRect().left-e+window.pageXOffset;return a>=-o&&a<t.settings.style.gutter?a:n},0),s=this.$scroller.elements[0];g(s,s.scrollLeft+a-n-5*this.settings.style.gutter,r.g/4)}},{key:"controlRightClicked",value:function(){var t=this,e=this.$discovery.elements[0].getBoundingClientRect().left,n=this.$discovery.find(c.playlistItem),i=n.width(),o=n.elements.reduce(function(n,o){var a=o.getBoundingClientRect().left-e+window.pageXOffset;return a>=-t.settings.style.gutter&&a<i?a:n},0),a=this.$scroller.elements[0];g(a,a.scrollLeft+o+i-this.settings.style.gutter,r.g/4)}}])&&d(e.prototype,n),l&&d(e,l),t}()},function(t,e,n){t.exports=n(65)("native-function-to-string",Function.toString)},function(t,e,n){var i=n(70),o=Math.max,a=Math.min;t.exports=function(t,e){return(t=i(t))<0?o(t+e,0):a(t,e)}},function(t,e,n){var i=n(55),o=n(73),a=n(69),r=n(62),s=n(168);t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,d=6==t,p=5==t||d,h=e||s;return function(e,s,g){for(var f,v,m=a(e),b=o(m),y=i(s,g,3),w=r(b.length),k=0,S=n?h(e,w):c?h(e,0):void 0;w>k;k++)if((p||k in b)&&(v=y(f=b[k],k,m),t))if(n)S[k]=v;else if(v)switch(t){case 3:return!0;case 5:return f;case 6:return k;case 2:S.push(f)}else if(u)return!1;return d?-1:l||u?u:S}}},function(t,e,n){var i=n(45),o=n(44),a=n(66),r=n(123),s=n(52).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=a?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:r.f(t)})}},function(t,e,n){"use strict";var i=n(68);function o(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";var i=n(66),o=n(46),a=n(57),r=n(56),s=n(77),c=n(139),l=n(81),u=n(141),d=n(47)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,g,f,v,m){c(n,e,g);var b,y,w,k=function(t){if(!p&&t in A)return A[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",O="values"==f,j=!1,A=t.prototype,_=A[d]||A["@@iterator"]||f&&A[f],E=_||k(f),T=f?O?k("entries"):E:void 0,D="Array"==e&&A.entries||_;if(D&&(w=u(D.call(new t)))!==Object.prototype&&w.next&&(l(w,S,!0),i||"function"==typeof w[d]||r(w,d,h)),O&&_&&"values"!==_.name&&(j=!0,E=function(){return _.call(this)}),i&&!m||!p&&!j&&A[d]||r(A,d,E),s[e]=E,s[S]=h,f)if(b={values:O?E:k("values"),keys:v?E:k("keys"),entries:T},m)for(y in b)y in A||a(A,y,b[y]);else o(o.P+o.F*(p||j),e,b);return b}},function(t,e,n){var i=n(51),o=n(140),a=n(79),r=n(78)("IE_PROTO"),s=function(){},c=function(){var t,e=n(75)("iframe"),i=a.length;for(e.style.display="none",n(119).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c.prototype[a[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[r]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var i=n(47)("iterator"),o=!1;try{var a=[7][i]();a.return=function(){o=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var a=[7],r=a[i]();r.next=function(){return{done:n=!0}},a[i]=function(){return r},t(a)}catch(t){}return n}},function(t,e,n){var i=n(146),o=n(67);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},function(t,e,n){var i=n(47)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){n(111),t.exports=n(44).Object.assign},function(t,e,n){var i=n(46);i(i.S+i.F,"Object",{assign:n(95)})},function(t,e,n){"use strict";n.d(e,"a",function(){return w});var i=n(2),o=n(10),a=n(20),r=n(13),s=n(33),c=n(4),l=n(0);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v={powaOutage:"powa-outage"},m=Object(i.mapObj)(v,function(t){return".".concat(t)}),b=function(){return'<div class="'.concat(v.powaOutage,'"></div>')};var y={debug:!1,defaultMessage:"Error. Something went wrong.",style:"\n\t".concat(m.powaOutage," {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t\tbackground-color: #000;\n\t\tbackground-size: cover;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: center;\n\t\tcolor: #fff;\n\t\tfont-size: 20px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-around;\n\t\tz-index: 2;\n\t}\n"),template:function(t){return Object(c.a)(t,"geo.until")?function(t){var e=Date.now(),n=Object(c.a)(t,"geo.until"),i=Object(c.a)(t,"geo.since");return n?'\n\t\t\t<div class="'.concat(v.powaOutage,'-flight-time">\n\t\t\t\tThis video will be available in ').concat(Object(s.a)(new Date(n)-e),".\n\t\t\t</div>"):i?'\n\t\t\t<div class="'.concat(v.powaOutage,'-flight-time">\n\t\t\t\tThis video ended ').concat(Object(s.a)(e-new Date(i))," ago.\n\t\t\t</div>"):t.message}(t):function(t){return"<p>".concat(t.message,"</p>")}(t)}},w=function(t){function e(){var t,n,o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=d(e).call(this,b(a)),t=!o||"object"!==u(o)&&"function"!=typeof o?p(n):o,Object(r.a)(p(t)),t.settings=Object(i.extend)(y,Object(i.defined)(a)),Object(i.forEach)(l.t,function(e){t[e]&&t.settings.powaTrack.on(e,t[e])}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o["PoWaPack"]),g(e,null,[{key:"EVENTS",get:function(){return l.l}}]),g(e,[{key:"showError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.message=t.message||this.settings.defaultMessage,Object(a.a)(this.settings.style,"PoWaOutage"),this.settings.$container.append(this),this.html(this.settings.template(t))}},{key:"error",value:function(t){this.showError(t)}},{key:"powaError",value:function(t){this.showError(t)}}]),e}()},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(2),o=n(10),a=n(1),r=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p="PoWaContainer",h={powa:"powa",fullscreen:"powa-fullscreen",hover:"powa-hover",tap:"powa-tap",powaPane:"powa-pane",powaButton:"powa-button",powaSpin:"powa-spin",f2:"powa-f-2",f3:"powa-f-3",f4:"powa-f-4",f5:"powa-f-5",f6:"powa-f-6"},g=Object(a.freeze)(Object(i.mapObj)(h,function(t){return".".concat(t)})),f=function(){return'<div class="'.concat(h.powaPane,'"></div>')},v={aspectRatio:9/16,back:-15,interactionTimeout:3,interactions:[["fullscreenchange","mozfullscreenchange","msfullscreenchange","webkitfullscreenchange"],"keydown","mouseenter","mouseleave","resize","touchstart"],skip:15,style:function(t){return"\n\t".concat(g.powa," {\n\t\tposition: relative;\n\t\tbackground: black;\n\t\theight: 0;\n\t\toverflow: hidden;\n\t}\n\n\t").concat(g.fullscreen," {\n\t\tposition: initial;\n\t}\n\n\t").concat(g.powaPane," {\n\t\theight: 100%;\n\t\tpointer-events: none;\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\tz-index: 2;\n\t}\n\n\t").concat(g.powaPane," > * {\n\t\tpointer-events: auto;\n\t}\n\n\t").concat(g.powaButton," {\n\t\tbackground: none;\n\t\tborder: none;\n\t\tpadding: 0px;\n\t\tmargin: 0px;\n\t}\n\n\t@-moz-keyframes ").concat(h.powaSpin," { 100% { -moz-transform: rotate(360deg); } }\n\t@-webkit-keyframes ").concat(h.powaSpin," { 100% { -webkit-transform: rotate(360deg); } }\n\tkeyframes ").concat(h.powaSpin," { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }\n\n\t").concat(g.powaSpin," {\n\t\t-webkit-animation: ").concat(h.powaSpin," 2s infinite linear;\n\t\tanimation: ").concat(h.powaSpin," 2s infinite linear;\n\t}\n\n\t").concat(g.f2," {\n\t\twidth: 2em;\n\t\theight: 2em;\n\t}\n\n\t").concat(g.f3," {\n\t\twidth: 3em;\n\t\theight: 3em;\n\t}\n\n\t").concat(g.f4," {\n\t\twidth: 4em;\n\t\theight: 4em;\n\t}\n\n\t").concat(g.f5," {\n\t\twidth: 5em;\n\t\theight: 5em;\n\t}\n\n\t").concat(g.f6," {\n\t\twidth: 6em;\n\t\theight: 6em;\n\t}\n")}},m=function(t){function e(t){var n,o,c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,c=l(e).call(this,t.element),(n=!c||"object"!==s(c)&&"function"!=typeof c?u(o):c).elements[0].tabIndex=0,n.addClass(h.powa),n.settings=Object(i.extend)(v,t),n.settings.interactionTimeout*=r.g,Object(a.bindAll)(u(n)),n.mousemove=Object(a.throttle)(n.mousemove,1e3).bind(u(n)),Object(a.has)(n.settings.client,"isDesktop")||(n.settings.client.isDesktop=!(n.settings.client.isMobile||n.settings.client.isTablet)),n.settings.interactions.filter(function(t){return n.settings.client.isDesktop||Array.isArray(t)||!t.startsWith("mouse")}).forEach(function(t){var e=Array.isArray(t)?t:[t];t=e[0];var i=n.settings[t]||n[t];i&&(n[t]||(n[t]=i.bind(u(n))),e.forEach(function(e){return n.on(e,n[t])}))});var d="function"==typeof n.settings.style?n.settings.style(n.settings):n.settings.style;Object(a.addCSS)(d,p);var g="".concat(100*n.settings.aspectRatio,"%");return n.css({paddingBottom:g}),n.append(f()),n}var n,g,m;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,o["PoWaPack"]),n=e,(g=[{key:"_getFullscreenElement",value:function(){var t=this.settings.powa.get$video();return this.settings.client.isDesktop?this.elements[0]:t?t.elements[0]:null}},{key:"isFullscreen",value:function(){return Object(a.isFullscreen)(this._getFullscreenElement())}},{key:"fullscreen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.isFullscreen();this.isFullscreen()?t||Object(a.exitFullscreen)():t&&Object(a.requestFullscreen)(this._getFullscreenElement())}},{key:"fullscreenchange",value:function(t){var e=this.isFullscreen();e?(this.addClass(h.fullscreen),this.on("mousemove",this.mousemove)):(this.removeClass(h.fullscreen),this.off("mousemove",this.mousemove)),this.settings.powa.trigger(r.t.FULLSCREEN,{fullscreen:e,event:t})}},{key:"keydown",value:function(t){switch(t.keyCode){case r.a.LEFT:t.preventDefault(),this.settings.powa.jump(this.settings.back);break;case r.a.RIGHT:t.preventDefault(),this.settings.powa.jump(this.settings.skip);break;case r.a.SPACEBAR:t.preventDefault(),this.settings.powa.togglePlay()}}},{key:"mouseenter",value:function(t){this.addClass(h.hover),this.settings.powa.trigger(r.t.HOVER,{type:r.t.HOVER,hover:!0,event:t})}},{key:"mouseleave",value:function(t){this.removeClass(h.hover),this.settings.powa.trigger(r.t.HOVER,{type:r.t.HOVER,hover:!1,event:t})}},{key:"mousemove",value:function(t){var e=this;clearTimeout(this.mouseTO),this.mouseTO=setTimeout(function(){e.settings.powa.trigger(r.t.MOUSE,{type:r.t.MOUSE,moving:!1,event:t})},this.settings.interactionTimeout),this.settings.powa.trigger(r.t.MOUSE,{type:r.t.MOUSE,moving:!0,event:t})}},{key:"resize",value:function(t){this.settings.powa.trigger(r.t.RESIZE,t)}},{key:"touchstart",value:function(t){var e=this;this.addClass(h.tap),this.settings.powa.trigger(r.t.TAP,{type:r.t.TAP,tap:!0,event:t}),clearTimeout(this.tapTO),this.tapTO=setTimeout(function(){e.removeClass(h.tap),e.settings.powa.trigger(r.t.TAP,{type:r.t.TAP,tap:!1,event:t})},this.settings.interactionTimeout)}}])&&c(n.prototype,g),m&&c(n,m),e}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(2),o=n(1),a=n(0);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var l="PoWaSellAdTag",u={ADTAG_ERROR:"adTagError",ADTAG_NULL:"adTagNull",ADTAG_LOADING:"adTagLoading",ADTAG_LOADED:"adTagLoaded"},d={adTagLocation:"window.PoWaSettings.advertising.adTag"},p=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(o.bindAll)(this),this.settings=Object(i.extend)(d,n),this.settings.adPreload&&this.settings.powaTrack.once(a.t.POWA_READY,function(){e.getAdTag().then(function(t){return e.settings.powa.loadAd(t,!0)})})}return c(t,null,[{key:"MODULE",get:function(){return l}},{key:"STATES",get:function(){return u}}]),c(t,[{key:"_adsAreDisabled",value:function(t){var e=this.settings.powa.getDataset().forceAd,n=this.settings.powa.getDataset().adTag,i=this.settings.powa.getDataset().adZone,a=this.settings.powa.getDataset(),r=Object(o.get)(a,"mediaTailor",!0)&&Object(o.get)(t,"additional_properties.advertising.enableAdInsertion"),s=Object(o.get)(t,"additional_properties.advertising.playVideoAds");return!(e||n||i||r||s)}},{key:"_adsAreStitchedIn",value:function(t){var e=Object(o.get)(t,"mediaTailor");return!(Object(o.isEmpty)(e)||Object(o.get)(e,"error"))}},{key:"_getAdTag",value:function(t,e){switch(r(t)){case"function":return t({powa:this.settings.powa,videoData:e});case"string":return t.startsWith("window.")?(t=t.replace("window.",""),(t=Object(o.get)(window,t))?this._getAdTag.call(this,t,e):""):t;default:return""}}},{key:"_getVideoData",value:function(){return Object(o.get)(this,"settings.powa.getVideoData")?this.settings.powa.getVideoData():null}},{key:"getAdTag",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getVideoData(),n=this._adsAreStitchedIn(e)?null:this.settings.getAdTag&&"function"==typeof this.settings.getAdTag?this.settings.getAdTag():Object(o.has)(this.settings,"getAdTag")?this.settings.getAdTag:this._getAdTag(this.settings.adTagLocation,e);return new Promise(function(i,r){t._adsAreDisabled(e)?(t.state=u.ADTAG_NULL,t.settings.powaTrack.trigger(a.t.AD_NULL,{eventID:921,errorMessage:"Ads are disabled in videoData.",module:l}),i(null)):n instanceof Promise?(t.state=u.ADTAG_LOADING,n.then(function(e){t.state=u.ADTAG_LOADED,i(e)}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[".concat(l,"][getAdTag] Promise rejection");t.state=u.ADTAG_ERROR,t.settings.powaTrack.trigger(a.t.AD_ERROR,{eventID:922,error:e.toString?e.toString():e,errorMessage:Object(o.get)(e,"message","The 'getAdTag' Promise was rejected"),module:l}),r()})):(t.state=u.ADTAG_LOADED,i(n))})}},{key:"getStatus",value:function(){return this.state}}]),t}()},function(t,e,n){"use strict";var i=n(2),o=n(29),a=n(0),r=n(1);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=Object(r.freeze)({debug:!1,debugExclusions:["adTime","progress","time"]}),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(r.bindAll)(this),Object(r.has)(e,"keepHistory")&&Object(r.stashLocal)("powaTrack",e.keepHistory),this.keep=Object(r.fetchLocal)("powaTrack",!1),e.powaTrack.on(a.t.ALL,this.handler),e.powaTrack.on(a.t.END,this.cleanup),this.settings=Object(i.extend)(c,e),this.powaTrack=Object(r.set)(window,"powas[".concat(this.settings.id,"].powaTrack"),[{event:"constructed",timestamp:Date.now()}]),this.powaTracked=Object(r.set)(window,"powas[".concat(this.settings.id,"].powaTracked"),[])}var e,n,o;return e=t,(n=[{key:"handler",value:function(t,e){this.settings.debugExclusions.includes(e)||(this.track(t,e),this.alert(t,e))}},{key:"track",value:function(t,e){var n=Date.now(),i=this.powaTrack[this.powaTrack.length-1].timestamp,o=this.powaTrack[0].timestamp;this.powaTrack.push({data:t,delta:(n-i)/a.g,event:e,time:(n-o)/a.g,timestamp:n})}},{key:"alert",value:function(t,e){e===a.t.ERROR?(t.errorMessage&&console.error(t.errorMessage),console.error(e,t)):this.settings.debug&&console.warn(e,t)}},{key:"cleanup",value:function(){this.keep?this.powaTracked.push(this.powaTrack):Object(r.set)(window,"powas[".concat(this.settings.id,"].powaTracked"),this.powaTrack),this.powaTrack=Object(r.set)(window,"powas[".concat(this.settings.id,"].powaTrack"),[{event:"powaTrackClear",timestamp:Date.now()}])}},{key:"setDebug",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.settings.debug;this.settings.debug=t}}])&&s(e.prototype,n),o&&s(e,o),t}();function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d={endpoint:"https://d1d3jupgwm7m5r.cloudfront.net/prod/cloudfrontVideoTracker.png",events:[a.t.START],eventDataTemplate:function(t,e){return"?org=".concat(e,"&event=").concat(t.type,"&uuid=").concat(Object(r.get)(t,"videoData._id"),"&timestamp=").concat(Date.now())}},p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(r.bindAll)(this),this.settings=Object(i.extend)(d,e),this.setupListeners()}var e,n,o;return e=t,(n=[{key:"setupListeners",value:function(){var t=this;this.settings.events.forEach(function(e){return t.settings.powaTrack.on(e,t.track)})}},{key:"track",value:function(t){(new Image).src="".concat(this.settings.endpoint).concat(this.settings.eventDataTemplate(t,this.settings.org))}}])&&u(e.prototype,n),o&&u(e,o),t}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return O});var y=Object(r.freeze)({debug:!1,debugExclusions:[a.t.AD_TIME,a.t.HOVER,a.t.META,a.t.POWA_BAR_HIDE,a.t.POWA_BAR_SHOW,a.t.PROGRESS,a.t.TIME],reportSkipped:!1,setupError:console.error}),w=[0,25,50,75,100],k=[a.t.POWA_RENDER,a.t.POWA_READY],S=[a.t.POWA_ERROR],O=function(t){function e(){var t,n,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=m(e).call(this),t=!o||"object"!==h(o)&&"function"!=typeof o?f(n):o,Object(r.bindAll)(f(t)),t.playerState={videoStarts:0,isFullscreen:!1},t.settings=Object(i.extend)(y,s),t.extenders=[t.extender],t.settings.extender&&t.extenders.push(t.settings.extender),Object(i.forEach)(a.t,function(e){t[e]&&t.on(e,t[e])});var c=Object(i.extend)({powaTrack:f(t)},Object(i.pick)(t.settings,["id","debug","debugExclusions","keepHistory"]));return t.powaTrackLocal=new l(c),t.powaTrackRemote=new p({powaTrack:f(t),id:t.settings.id,org:t.settings.org}),t}var n,s,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,o["a"]),n=e,(s=[{key:"extender",value:function(t,e){return Object(i.chain)(this.playerState).rename({isFullscreen:"fullscreen"}).extend(t).value()}},{key:"extend",value:function(t){"function"==typeof t&&this.extenders.push(t)}},{key:"setDebug",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.settings.debug;this.settings.debug=t,this.powaTrackLocal.setDebug(t)}},{key:"getVideoStarts",value:function(){return this.playerState.videoStarts}},{key:"isReady",value:function(){return!!this.ready}},{key:"trigger",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t===a.t.START&&this.videoStart(),n=Object(i.extend)(n,{type:t}),n=this.extenders.reduce(function(e,n){return n(e,t)},n),t=n.type||t,n.powaTrackSnuff||(k.includes(t)&&Object(r.globalEvent)(t,n),S.includes(t)&&Object(r.globalError)(n,t),v(m(e.prototype),"trigger",this).call(this,t,n),t===a.t.POWA_READY&&(this.ready=!0))}},{key:"reportSkipped",value:function(t,e){var n=w.indexOf(t);this.settings.reportSkipped&&n>0&&this.reportPlayback(w[n-1],e)}},{key:"reportPlayback",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="PLAYBACK_".concat(t);"live"===Object(r.get)(e,"videoData.video_type")||!a.r[n]||this.milestones[n]||(this.reportSkipped(t,e),this.milestones[n]=!0,this.trigger(a.r[n]))}},{key:"complete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.reportPlayback(100,t)}},{key:"fullscreen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playerState.isFullscreen=t.fullscreen}},{key:"hlsInitialLevel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playerState.bitrate=t.bitrate}},{key:"hlsLevelSwitch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playerState.bitrate=t.bitrate}},{key:"mediaStart",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.reportPlayback(0,t)}},{key:"powaReady",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playerState.autoplay=t.autoplay,this.playerState.autoplayStatus=t.autoplayStatus}},{key:"time",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.time&&t.duration){var e=t.time/t.duration;e>.75?this.reportPlayback(75,t):e>.5?this.reportPlayback(50,t):e>.25&&this.reportPlayback(25,t)}}},{key:"videoStart",value:function(){var t=this;this.playerState.videoStarts++,this.milestones={},Object(i.forEach)(a.r,function(e,n){return t.milestones[n]=!1})}}])&&g(n.prototype,s),c&&g(n,c),e}()},function(t,e,n){"use strict";var i=n(45),o=n(46),a=n(57),r=n(98),s=n(86),c=n(80),l=n(97),u=n(48),d=n(54),p=n(107),h=n(81),g=n(180);t.exports=function(t,e,n,f,v,m){var b=i[t],y=b,w=v?"set":"add",k=y&&y.prototype,S={},O=function(t){var e=k[t];a(k,t,"delete"==t?function(t){return!(m&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof y&&(m||k.forEach&&!d(function(){(new y).entries().next()}))){var j=new y,A=j[w](m?{}:-0,1)!=j,_=d(function(){j.has(1)}),E=p(function(t){new y(t)}),T=!m&&d(function(){for(var t=new y,e=5;e--;)t[w](e,e);return!t.has(-0)});E||((y=e(function(e,n){l(e,y,t);var i=g(new b,e,y);return null!=n&&c(n,v,i[w],i),i})).prototype=k,k.constructor=y),(_||T)&&(O("delete"),O("has"),v&&O("get")),(T||A)&&O(w),m&&k.clear&&delete k.clear}else y=f.getConstructor(e,t,v,w),r(y.prototype,n),s.NEED=!0;return h(y,t),S[t]=y,o(o.G+o.W+o.F*(y!=b),S),m||f.setStrong(y,t,v),y}},function(t,e,n){"use strict";var i=n(46);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var i=n(46),o=n(68),a=n(55),r=n(80);t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,s,c=arguments[1];return o(this),(e=void 0!==c)&&o(c),null==t?new this:(n=[],e?(i=0,s=a(c,arguments[2],2),r(t,!1,function(t){n.push(s(t,i++))})):r(t,!1,n.push,n),new this(n))}})}},function(t,e,n){var i=n(45).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(51);t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&i(a.call(t)),e}}},function(t,e,n){var i=n(77),o=n(47)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,n){var i=n(92),o=n(47)("iterator"),a=n(77);t.exports=n(44).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||a[i(t)]}},function(t,e,n){e.f=n(47)},function(t,e,n){var i=n(90),o=n(79).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){var i=n(51),o=n(68),a=n(47)("species");t.exports=function(t,e){var n,r=i(t).constructor;return void 0===r||null==(n=i(r)[a])?e:o(n)}},function(t,e,n){var i,o,a,r=n(55),s=n(158),c=n(119),l=n(75),u=n(45),d=u.process,p=u.setImmediate,h=u.clearImmediate,g=u.MessageChannel,f=u.Dispatch,v=0,m={},b=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){b.call(t.data)};p&&h||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++v]=function(){s("function"==typeof t?t:Function(t),e)},i(v),v},h=function(t){delete m[t]},"process"==n(61)(d)?i=function(t){d.nextTick(r(b,t,1))}:f&&f.now?i=function(t){f.now(r(b,t,1))}:g?(a=(o=new g).port2,o.port1.onmessage=y,i=r(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):i="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(r(b,t,1),0)}),t.exports={set:p,clear:h}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(51),o=n(48),a=n(104);t.exports=function(t,e){if(i(t),o(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(61);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(72),o=n(64),a=n(59),r=n(76),s=n(53),c=n(89),l=Object.getOwnPropertyDescriptor;e.f=n(50)?l:function(t,e){if(t=a(t),e=r(e,!0),c)try{return l(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(45),o=n(52),a=n(50),r=n(47)("species");t.exports=function(t){var e=i[t];a&&e&&!e[r]&&o.f(e,r,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var i=n(52).f,o=n(106),a=n(98),r=n(55),s=n(97),c=n(80),l=n(105),u=n(131),d=n(132),p=n(50),h=n(86).fastKey,g=n(83),f=p?"_s":"size",v=function(t,e){var n,i=h(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var u=t(function(t,i){s(t,u,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[f]=0,null!=i&&c(i,n,t[l],t)});return a(u.prototype,{clear:function(){for(var t=g(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[f]=0},delete:function(t){var n=g(this,e),i=v(n,t);if(i){var o=i.n,a=i.p;delete n._i[i.i],i.r=!0,a&&(a.n=o),o&&(o.p=a),n._f==i&&(n._f=o),n._l==i&&(n._l=a),n[f]--}return!!i},forEach:function(t){g(this,e);for(var n,i=r(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(g(this,e),t)}}),p&&i(u.prototype,"size",{get:function(){return g(this,e)[f]}}),u},def:function(t,e,n){var i,o,a=v(t,e);return a?a.v=n:(t._l=a={i:o=h(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=a),i&&(i.n=a),t[f]++,"F"!==o&&(t._i[o]=a)),t},getEntry:v,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=g(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(e)}}},function(t,e,n){var i=n(92),o=n(187);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,n){"use strict";n(164),n(166),n(170),n(137),n(110),n(172),n(144),n(175),n(147),n(149),n(155),n(177),n(184),n(190);!function(){if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null})},function(t,e,n){"use strict";n.r(e);n(135);var i=n(71),o=n(2),a=n(115),r=n(74),s=n(112),c=n(10),l=n(58),u=n(1),d=n(0),p=Object(u.freeze)(Object(o.extend)(d.i,{padding:"powa-bar-padding",powaBar:"powa-bar",powaBarHide:"powa-bar-hide",play:"powa-bar-play",pause:"powa-bar-pause",playPause:"powa-bar-play-pause",skipControls:"powa-bar-prev-next",skipControlsHidden:"powa-bar-prev-next-hidden",prev:"powa-bar-prev",next:"powa-bar-next",back:"powa-bar-back",skip:"powa-bar-skip",timeAndScrubbers:"powa-bar-time-and-scrubbers",timeAndScrubbersHidden:"powa-bar-time-and-scrubbers-hidden",scrubbers:"powa-bar-scrubbers",scrubber:"powa-bar-scrubber",scrubberTime:"powa-bar-scrubber-time",scrubberProgress:"powa-bar-scrubber-progress",audio:"powa-bar-audio",audioDesktop:"powa-bar-audio-desktop",audioIcon:"powa-bar-audio-icon",mute:"powa-bar-mute",unmute:"powa-bar-unmute",time:"powa-bar-time",duration:"powa-bar-duration",volumeLevel:"powa-bar-volume-level",volumeScrubber:"powa-bar-volume-scrubber",subtitles:"powa-bar-subtitles",subtitlesControls:"powa-bar-subtitles-controls",subtitlesTracks:"powa-bar-subtitles-tracks",subtitlesTrack:"powa-bar-subtitles-track",subtitlesTrackShowing:"powa-bar-subtitles-track-showing",subtitlesCustomize:"powa-bar-subtitles-customize",subtitlesIcon:"powa-bar-subtitles-icon",subtitlesEnabled:"powa-bar-subtitles-enabled",compress:"powa-bar-compress",expand:"powa-bar-expand",fullscreen:"powa-bar-fullscreen",audioClick:"".concat(d.i.powaClick,"-audio-click"),fullscreenClick:"".concat(d.i.powaClick,"-fullscreen-click"),scrubberTouch:"".concat(d.i.powaTouch,"-scrubber-touch"),scrubberHover:"".concat(d.i.powaHover,"-scrubber-hover"),subtitlesClick:"".concat(d.i.powaClick,"-subtitles-click"),subtitlesCustomizeClick:"".concat(d.i.powaClick,"-subtitles-customize-click"),subtitlesTouch:"".concat(d.i.powaTouch,"-subtitles-touch"),playPauseClick:"".concat(d.i.powaClick,"-play-pause-click"),prevClick:"".concat(d.i.powaClick,"-prev-click"),nextClick:"".concat(d.i.powaClick,"-next-click"),backClick:"".concat(d.i.powaClick,"-back-click"),skipClick:"".concat(d.i.powaClick,"-skip-click"),volumeTouch:"".concat(d.i.powaTouch,"-volume-touch")})),h=Object(u.freeze)(Object(o.mapObj)(p,function(t){return".".concat(t)})),g=function(){return'<div class="'.concat(p.powaBar," ").concat(p.powaBarHide,'"></div>')};function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var k="PoWaBar",S={hideTime:.5,slideTime:.2,style:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"\n\t".concat(h.padding," {\n\t\twidth: 3px;\n\t}\n\n\t").concat(h.powaBar," {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\n\t\twidth: 100%;\n\t\theight: 25px;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\tuser-select: none;\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.primary),";\n\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tfont-family: sans-serif;\n\t\ttext-shadow: 0 0 2px ").concat(Object(u.getColor)(t.colors.background,.75),";\n\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.background,.25),";\n\n\t\tz-index: 2;\n\t}\n\n\t").concat(h.powaBarHide," {\n\t\theight: 0;\n\t\topacity: 0;\n\t\tpointer-events: none;\n\n\t\ttransition: all ").concat(t.hideTime,"s;\n\t}\n\n\t").concat(h.playPause," {\n\t\tcolor: #fff;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-around;\n\n\t\tmin-width: 14px;\n\t\tmargin: 0 2px;\n\t\tpadding: 0px;\n\n\t\ttransition: all 0.25s;\n\t}\n\n\t").concat(h.play," {\n\t\tpadding: 0px 1px 0px 1px;\n\t}\n\n\t").concat(h.play," {\n\t\twidth: 20px !important;\n\t}\n\n\t").concat(h.pause," {\n\t\tpadding: 0px 1px 0px 1px;\n\t}\n\n\t").concat(h.pause," {\n\t\twidth: 20px !important;\n\t}\n\n\t").concat(h.playPause,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.skipControls," {\n\t\tcolor: #fff;\n\t\tpadding: 4px 0px 2px 0px;\n\t\tfont-size: 14px;\n\t\ttransition: all 0.25s;\n\t}\n\n\t").concat(h.skipControls," svg {\n\t\twidth: 1em;\n\t}\n\n\t").concat(h.skipControls,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.skipControlsHidden," {\n\t\tdisplay: none;\n\t\twidth: 0;\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t}\n\n\t").concat(h.skip," svg {\n\t\twidth: 16px;\n\t}\n\n\t").concat(h.time," {\n\t\tmargin: 0 2px;\n\t}\n\n\t").concat(h.duration," {\n\t\tmargin: 0 2px;\n\t}\n\n\t").concat(h.timeAndScrubbers," {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t}\n\n\t").concat(h.timeAndScrubbersHidden," {\n\t\tvisibility: hidden;\n\t}\n\n\t").concat(h.scrubbers," {\n\t\tpointer-events: none;\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\theight: 12px;\n\t\tborder: 1px solid ").concat(Object(u.getColor)(t.colors.primary,.9),";\n\t\tborder-radius: 3px;\n\t\tmargin: 0 2px;\n\t\toverflow: hidden;\n\t}\n\n\t").concat(h.scrubber," {\n\t\tpointer-events: auto;\n\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.primary,.5),";\n\t}\n\n\t").concat(h.scrubberProgress," {\n\t\tposition: absolute;\n\n\t\theight: 100%;\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.accent,.2),";\n\n\t\ttransition: width 0.1s;\n\t}\n\n\t").concat(h.scrubberTime," {\n\t\tposition: absolute;\n\n\t\theight: 100%;\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.accent,.9),";\n\n\t\ttransition: width 0.1s;\n\t}\n\n\t").concat(h.audio," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\n\t\tmargin: 0 2px;\n\n\t\twidth: 15px;\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.audioDesktop,":hover {\n\t\twidth: 70px;\n\t}\n\n\t").concat(h.audioIcon," {\n\t\tcolor: #fff;\n\t\tpadding: 0px;\n\t}\n\n\t").concat(h.unmute," {\n\t\twidth: 8px;\n\t\tmargin: 0px 4px;\n\t}\n\n\t").concat(h.mute," {\n\t\twidth: 16px;\n\t}\n\n\t").concat(h.audioIcon,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.volumeScrubber," {\n\t\tposition: relative;\n\t\toverflow: hidden;\n\n\t\twidth: 0;\n\t\tmargin: 0;\n\t\topacity: 0;\n\t\theight: 12px;\n\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.audio,":hover ").concat(h.volumeScrubber," {\n\t\tborder: 1px solid ").concat(Object(u.getColor)(t.colors.primary,.9),";\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.primary,.5),";\n\t\tborder-radius: 3px;\n\n\t\topacity: 1;\n\t\twidth: 50px;\n\t\tmargin-right: 2px;\n\t}\n\n\t").concat(h.volumeLevel," {\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\tpointer-events: none;\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.accent,.9),";\n\n\t\ttransition: width ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.subtitles," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\n\t\tmargin: 2px;\n\t\tmax-width: 100px;\n\t}\n\n\t").concat(h.subtitlesControls," {\n\t\tmax-width: 0;\n\t\tmargin-bottom: 1px;\n\t\topacity: 0;\n\t\theight: 14px;\n\t\toverflow: hidden;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t\tfont-size: 14px;\n\t\ttext-shadow: 0 0 1px ").concat(Object(u.getColor)(t.colors.primary,.5),";\n\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.subtitles,":hover ").concat(h.subtitlesControls," {\n\t\tborder: 1px solid ").concat(Object(u.getColor)(t.colors.primary,.9),";\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.primary,.5),";\n\t\tborder-radius: 3px;\n\n\t\tmax-width: 150px;\n\t\tmargin-right: 1px;\n\t\tpadding: 0 1px;\n\t\topacity: 1;\n\t}\n\n\t").concat(h.subtitlesControls," button {\n\t\tmargin: 2px 0px 0px 6px !important;\n\t}\n\n\t").concat(h.subtitlesTracks," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\n\t").concat(h.subtitlesTrack," {\n\t\tmax-width: 0;\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.subtitlesTrack,":hover {\n\t\ttext-shadow: 0 0 2px ").concat(Object(u.getColor)(t.colors.primary,.75),";\n\t}\n\n\t").concat(h.subtitlesTrackShowing," {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.subtitles,":hover ").concat(h.subtitlesTrack," {\n\t\tmax-width: 12px;\n\t\tmargin: 0 1px;\n\t}\n\n\t").concat(h.subtitlesCustomize," {\n\t\tmax-width: 0;\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t\tcolor: #fff;\n\t}\n\n\t").concat(h.subtitlesCustomize,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.subtitles,":hover ").concat(h.subtitlesCustomize," {\n\t\tmax-width: 14px;\n\t\tmargin: 0 1px;\n\t}\n\n\t").concat(h.subtitlesCustomize," svg {\n\t\twidth: 14px;\n\t\tmargin: 2px 0px;\n\t}\n\n\t").concat(h.subtitlesIcon," {\n\t\tcolor: #fff;\n\t\tpadding: 0px;\n\t}\n\n\t").concat(h.subtitlesEnabled," ").concat(h.subtitlesIcon," {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.subtitlesIcon,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.subtitlesIcon," svg {\n\t\twidth: 22px;\n\t}\n\n\t").concat(h.fullscreen," {\n\t\tcolor: #fff;\n\t\tpadding: 2px;\n\t\tmargin: 0 2px;\n\t\ttransition: all 0.25s;\n\t}\n\n\t").concat(h.fullscreen,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.fullscreen," svg {\n\t\twidth: 12px;\n\t}\n")},template:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return'\n\t<span class="'.concat(p.padding,'"></span>\n\t<button class="powa-button ').concat(p.skipControls," ").concat(p.skipControlsHidden," ").concat(p.prev," ").concat(p.prevClick,'" aria-label="Back" title="Back">\n\t\t').concat(Object(u.svgIcon)("backward"),'\n\t</button>\n\t<button class="powa-button ').concat(p.skipControls," ").concat(p.skipControlsHidden," ").concat(p.back," ").concat(p.backClick,'" aria-label="Undo" title="Undo">\n\t\t').concat(Object(u.svgIcon)("undo"),'\n\t</button>\n\t<button class="powa-button ').concat(p.playPause," ").concat(p.playPauseClick,'" aria-label="Play/Pause" title="Play/Pause">\n\t\t').concat(Object(u.svgIcon)("play",p.play),"\n\t\t").concat(Object(u.svgIcon)("pause",p.pause),'\n\t</button>\n\t<button class="powa-button ').concat(p.skipControls," ").concat(p.skipControlsHidden," ").concat(p.skip," ").concat(p.skipClick,'" aria-label="Repeat" title="Repeat">\n\t\t').concat(Object(u.svgIcon)("repeat"),'\n\t</button>\n\t<button class="powa-button ').concat(p.skipControls," ").concat(p.skipControlsHidden," ").concat(p.next," ").concat(p.nextClick,'" aria-label="Forward" title="Forward">\n\t\t').concat(Object(u.svgIcon)("forward"),'\n\t</button>\n\t<div class="').concat(p.timeAndScrubbers,'">\n\t\t<div class="').concat(p.time,'"></div>\n\t\t<div class="').concat(p.scrubbers,'">\n\t\t\t<div class="').concat(p.scrubber," ").concat(p.scrubberTouch," ").concat(p.scrubberHover,'"></div>\n\t\t\t<div class="').concat(p.scrubberProgress,'"></div>\n\t\t\t<div class="').concat(p.scrubberTime,'"></div>\n\t\t</div>\n\t\t<div class="').concat(p.duration,'"></div>\n\t</div>\n\t<div class="').concat(t.client.isDesktop?"".concat(p.audio," ").concat(p.audioDesktop):"".concat(p.audio),'">\n\t\t').concat(t.client.isDesktop?'\n\t\t\t<div class="'.concat(p.volumeScrubber," ").concat(p.volumeTouch,'">\n\t\t\t\t<div class="').concat(p.volumeLevel,'"></div>\n\t\t\t</div>\n\t\t'):"",'\n\t\t<button class="powa-button ').concat(p.audioIcon," ").concat(p.audioClick,'" aria-label="Volume" title="Volume">\n\t\t\t').concat(Object(u.svgIcon)("volumeUp",p.mute),"\n\t\t\t").concat(Object(u.svgIcon)("volumeOff",p.unmute),'\n\t\t</button>\n\t</div>\n\t<div class="').concat(p.subtitles," ").concat(p.subtitlesTouch,'">\n\t\t<div class="').concat(p.subtitlesControls,'">\n\t\t\t<div class="').concat(p.subtitlesTracks,'"></div>\n\t\t\t<button class="powa-button ').concat(p.subtitlesCustomize," ").concat(p.subtitlesCustomizeClick,'" aria-label="Settings" title="Settings">\n\t\t\t\t').concat(Object(u.svgIcon)("cog"),'\n\t\t\t</button>\n\t\t</div>\n\t\t<button class="powa-button ').concat(p.subtitlesIcon," ").concat(p.subtitlesClick,'" aria-label="Subtitles/Closed Captions" title="Subtitles/Closed Captions">\n\t\t\t').concat(Object(u.svgIcon)("cc"),'\n\t\t</button>\n\t</div>\n\t<button class="powa-button ').concat(p.fullscreen," ").concat(p.fullscreenClick,'" aria-label="Toggle Full Screen" title="Toggle Full Screen">\n\t\t').concat(Object(u.svgIcon)("expand",p.expand),"\n\t\t").concat(Object(u.svgIcon)("compress",p.compress),'\n\t</button>\n\t<span class="').concat(p.padding,'"></span>\n')},back:-15,skip:15,live:!1},O=function(t){function e(t){var n,i,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(n=!(a=v(e).call(this,g()))||"object"!==f(a)&&"function"!=typeof a?m(i):a).isScrubbing=!1,n.isVolumeSliding=!1,Object(u.bindAll)(m(n)),n.settings=Object(o.extend)(S,t,{client:PoWaSettings.client}),n.settings.$container=n.settings.powa.get$container(),n._setupUI(),n._setupHandlers(),n._resetUI(),n.hide();var r=Object(o.extend)({colors:Object(d.u)()},n.settings),s="function"==typeof n.settings.style?n.settings.style(r):n.settings.style;return Object(u.addCSS)(s,k),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,l["a"]),y(e,null,[{key:"EVENTS",get:function(){return d.h}}]),y(e,[{key:"_setupUI",value:function(){this.html(this.settings.template(this.settings)),this.events=Object(o.extend)(d.h,this.events),this.$timeAndScrubbers=this.find(h.timeAndScrubbers),this.$scrubber=this.find(h.scrubber),this.$scrubberTime=this.find(h.scrubberTime),this.$scrubberProgress=this.find(h.scrubberProgress),this.$play=this.find(h.play),this.$pause=this.find(h.pause),this.$prev=this.find(h.prev),this.$next=this.find(h.next),this.$back=this.find(h.back),this.$skip=this.find(h.skip),this.$mute=this.find(h.mute),this.$unmute=this.find(h.unmute),this.$volumeLevel=this.find(h.volumeLevel),this.$time=this.find(h.time),this.$duration=this.find(h.duration),this.$subtitles=this.find(h.subtitles),this.$tracks=this.find(h.subtitlesTracks),this.$compress=this.find(h.compress),this.$expand=this.find(h.expand),this.$fullscreen=this.find(h.fullscreen)}},{key:"_setupHandlers",value:function(){var t=this;Object(o.forEach)(d.t,function(e){t[e]&&t.settings.powaTrack.on(e,t[e])}),Object(o.forEach)(this.events,function(e){t.on(e,function(n){t[e]&&t[e](n),t.settings.powaTrack.trigger(e,n.detail?n.detail:n)})})}},{key:"_resetUI",value:function(){this.shouldShow=!1;this.settings.powa.isFullscreen()?this.$expand&&this.$expand.hide():this.$compress&&this.$compress.hide(),this.$duration&&this.$duration.empty(),this.$unmute&&this.$unmute.hide(),this.$scrubberProgress&&this.$scrubberProgress.css({width:"0%"}),this.$scrubberTime&&this.$scrubberTime.css({width:"0%"}),this.$subtitles&&this.$subtitles.hide(),this.$time&&this.$time.empty()}},{key:"show",value:function(){this.shouldShow&&!this.controlsDisabled&&(this.removeClass(p.powaBarHide),this.trigger(this.events.show,{height:this.height(),width:this.width(),$powaBar:this}))}},{key:"hide",value:function(){this.isScrubbing||(this.addClass(p.powaBarHide),this.trigger(this.events.hide,{height:this.height(),width:this.width(),$powaBar:this}))}},{key:"hideControls",value:function(){this.hide(),this.controlsDisabled=!0}},{key:"showControls",value:function(){this.controlsDisabled=!1,this.settings.$container.hasClass("powa-hover")&&this.show()}},{key:"audioClick",value:function(t){this.settings.powa.mute()}},{key:"fullscreenClick",value:function(){this.settings.powa.fullscreen()}},{key:"hover",value:function(t){var e=Object(u.get)(t,"detail.event");(t=e||t).hover?this.show():this.hide()}},{key:"tap",value:function(t){var e=Object(u.get)(t,"detail.event");(t=e||t).tap?this.show():this.hide()}},{key:"mouse",value:function(t){t.moving?this.show():!this.settings.$container.hasClass("powa-fullscreen")&&this.settings.$container.hasClass("powa-hover")||this.hide()}},{key:"playPauseClick",value:function(t){this.settings.powa.togglePlay()}},{key:"prevClick",value:function(t){this.settings.powa.prev&&this.settings.powa.prev()}},{key:"nextClick",value:function(t){this.settings.powa.next&&this.settings.powa.next()}},{key:"backClick",value:function(t){this.settings.powa.jump(this.settings.back)}},{key:"skipClick",value:function(t){this.settings.powa.jump(this.settings.skip)}},{key:"mobileOffsetX",value:function(t){var e=t.targetTouches[0],n=e.target.parentElement;return e.clientX-n.offsetLeft}},{key:"skipToPosition",value:function(t){var e=Object(u.get)(t,"detail.event");(t=e||t).offsetX||(t.offsetX=this.mobileOffsetX(t)),this.settings.powa.seekPosition(t.offsetX/t.currentTarget.offsetWidth)}},{key:"scrubberTouch",value:function(t){var e=Object(u.get)(t,"detail.event"),n=e.type;if("mousedown"!==n&&"touchstart"!==n||(this.isScrubbing=!0,this.skipToPosition(t),this.settings.powa.pause()),"mouseup"!==n&&"touchend"!==n||(this.isScrubbing=!1,this.settings.powa.play()),"mousemove"===n&&this.isScrubbing&&this.skipToPosition(t),"touchmove"===n){var i=e.touches[0].pageX,o=e.touches[0].pageY;if(!1===document.elementFromPoint(i,o).className.includes("powa-bar-scrubber"))return this.isScrubbing=!1,void this.hide();this.isScrubbing&&this.skipToPosition(t)}}},{key:"scrubberHover",value:function(){"mouseleave"===Object(u.get)(event,"detail.event").type&&(this.isScrubbing=!1)}},{key:"subtitlesClick",value:function(t){this.settings.powa.toggleSubtitles()}},{key:"adjustVolume",value:function(t){var e=Object(u.get)(t,"detail.event"),n=(t=e||t).offsetX/t.currentTarget.offsetWidth;n>0&&n<1&&(this.settings.powa.mute(!1),this.settings.powa.volume(t.offsetX/t.currentTarget.offsetWidth))}},{key:"volumeTouch",value:function(t){var e=Object(u.get)(t,"detail.event").type;"mousedown"===e&&(this.isVolumeSliding=!0,this.adjustVolume(t)),"mouseup"===e&&(this.isVolumeSliding=!1),"mousemove"===e&&1==this.isVolumeSliding&&this.adjustVolume(t)}},{key:"adEnd",value:function(){this.showControls()}},{key:"adFirstFrame",value:function(){this.hideControls()}},{key:"end",value:function(t){this._resetUI()}},{key:"fullscreen",value:function(t){t.fullscreen?(this.$expand&&this.$expand.hide(),this.$compress&&this.$compress.show()):(this.$compress&&this.$compress.hide(),this.$expand&&this.$expand.show())}},{key:"mediaStart",value:function(t){this.shouldShow=!0,this.settings.$container.hasClass("powa-hover")&&this.show(),this.volume(t),this.muted(t)}},{key:"muted",value:function(t){t.muted?(this.$mute.hide(),this.$unmute.show(),this.volume({volume:0})):(this.$mute.show(),this.$unmute.hide(),this.volume(t))}},{key:"pause",value:function(){this.$pause.hide(),this.$play.show()}},{key:"play",value:function(){this.$play.hide(),this.$pause.show()}},{key:"_showHidePrevNext",value:function(t){t.playlist.length>1?(this.$prev.removeClass(p.skipControlsHidden),this.$next.removeClass(p.skipControlsHidden)):(this.$prev.addClass(p.skipControlsHidden),this.$next.addClass(p.skipControlsHidden))}},{key:"playlist",value:function(t){this._showHidePrevNext(t)}},{key:"playlistLoaded",value:function(t){this._showHidePrevNext(t)}},{key:"progress",value:function(t){if(!isNaN(t.progress)&&this.$scrubberProgress){var e="".concat(100*t.progress,"%");this.$scrubberProgress.css({width:e})}}},{key:"promoShow",value:function(t){this.hide()}},{key:"start",value:function(t){"live"===Object(u.get)(t,"videoData.video_type")||this.settings.live?(this.$timeAndScrubbers.addClass(p.timeAndScrubbersHidden),this.$back.removeClass(p.skipControlsHidden),this.$skip.removeClass(p.skipControlsHidden)):(this.$timeAndScrubbers.removeClass(p.timeAndScrubbersHidden),this.$back.addClass(p.skipControlsHidden),this.$skip.addClass(p.skipControlsHidden))}},{key:"_setTracks",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$tracks&&(this.$tracks.empty(),Object(o.chain)(e).map(function(t){return Object(c.$)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'\n\t<div class="'.concat(p.subtitlesTrack).concat(e&&t.label===e?" ".concat(p.subtitlesTrackShowing):"",'" data-label="').concat(t.label,'">\n\t\t').concat(t.language,"\n\t</div>\n")}(t,n))}).forEach(this.$tracks.append).forEach(function(e){return e.on("click",function(n){e.hasClass(p.subtitlesTrackShowing)?t.settings.powa.hideSubtitles():t.settings.powa.showSubtitles(e.attr("data-label"))})}))}},{key:"subsAvailable",value:function(t){this.$subtitles&&(this.$subtitles.show(),this._setTracks(t.subtitles,t.subtitle))}},{key:"subsUnavailable",value:function(t){this.$subtitles&&(this.$subtitles.hide(),this._setTracks())}},{key:"subsEnabled",value:function(t){this.$subtitles&&(this.$subtitles.addClass(p.subtitlesEnabled),this._setTracks(t.subtitles,t.subtitle))}},{key:"subsDisabled",value:function(t){this.$subtitles&&(this.$subtitles.removeClass(p.subtitlesEnabled),this._setTracks(t.subtitles))}},{key:"time",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!isNaN(t.time)&&!isNaN(t.duration)&&t.duration){var e="".concat(t.time/t.duration*100,"%");this.$scrubberTime&&this.$scrubberTime.css({width:e}),this.$time&&this.$time.html(Object(u.formatTime)(t.time)),this.$duration&&this.$duration.html(Object(u.formatTime)(t.duration))}}},{key:"volume",value:function(t){var e="".concat(100*t.volume,"%");this.$volumeLevel.css({width:e})}}]),e}(),j=n(113);function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function D(t,e,n){return e&&T(t.prototype,e),n&&T(t,n),t}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P="PoWaSellAdBar",C={powaSellAdBar:"powa-sell-bar",hidden:"powa-sell-bar-hidden",controls:"powa-sell-bar-controls",control:"powa-sell-bar-control",playPause:"powa-sell-bar-play-pause",play:"powa-sell-bar-play",pause:"powa-sell-bar-pause",muteUnmute:"powa-sell-bar-mute-unmute",mute:"powa-sell-bar-mute",unmute:"powa-sell-bar-unmute",countdown:"powa-sell-bar-countdown",skip:"powa-sell-bar-skip",skipContainer:"powa-sell-bar-skip-container",skipCountdown:"powa-sell-bar-skip-countdown",skipClick:"".concat(d.i.powaClick,"-skip-click"),playPauseClick:"".concat(d.i.powaClick,"-play-pause-click"),muteUnmuteClick:"".concat(d.i.powaClick,"-mute-unmute-click")},I=Object(u.freeze)(Object(o.mapObj)(C,function(t){return".".concat(t)})),M={top:0,bottom:0,left:0,right:0,height:"100%",width:"100%"},L=Object(u.freeze)({playControl:!0,muteControl:!0,adCountdown:!0,skipControl:!0,skipOffset:15,skipThreshold:2,style:function(t){return"\n\t".concat(I.powaSellAdBar," {\n\t\tposition: absolute;\n\t\ttop: 0px;\n\t\tleft: 0px;\n\n\t\twidth: 100%;\n\t\theight: 22px;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: flex-start;\n\n\t\tpointer-events: auto;\n\t\tfont-family: Helvetica;\n\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.primary),";\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.background,.7),";\n\n\t\tz-index: 2;\n\t}\n\n\t").concat(I.controls," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: flex-start;\n\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t").concat(I.control," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t\twidth: 20px;\n\t\tpadding: 4px 0px 4px 0px;\n\t\tmargin: 0;\n\t\tcolor: #fff;\n\t}\n\n\t").concat(I.control,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(I.playPauseClick," svg {\n\t\twidth: 16px;\n\t}\n\n\t").concat(I.mute," {\n\t\twidth: 20px;\n\t}\n\n\t").concat(I.unmute," {\n\t\twidth: 10px;\n\t}\n\n\t").concat(I.countdown," {\n\t\tfont-size: 14px;\n\t\tfont-weight: 400;\n\t\tline-height: normal;\n\t\tmargin: 0 3px 0 3px;\n\t\tpadding: 0;\n\t}\n\n\t").concat(I.skipContainer," {\n\t\tposition: absolute;\n\t\tright: 0px;\n\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\n\t\tpadding: 0 3px 0 3px;\n\t}\n\n\t").concat(I.skipCountdown," {\n\t\tfont-size: 14px;\n\t\tfont-weight: 400;\n\t\tline-height: normal;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t").concat(I.skip," {\n\t\tfont-size: 14px;\n\t\tfont-weight: 400;\n\t\tcursor: pointer;\n\t\tline-height: normal;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t").concat(I.skip,":hover {\n\t\ttext-decoration: underline;\n\t}\n\n\t").concat(I.skip,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(I.hidden," {\n\t\tdisplay: none;\n\t}\n")},template:function(t){return'\n\t\t<div class="'.concat(C.controls,'">\n\t\t\t<button aria-label="Play/Pause" title="Play/Pause" class="powa-button ').concat(C.control," ").concat(C.playPause," ").concat(C.playPauseClick,'">\n\t\t\t\t').concat(Object(u.svgIcon)("play",C.play),"\n\t\t\t\t").concat(Object(u.svgIcon)("pause",C.pause),'\n\t\t\t</button>\n\t\t\t<button aria-label="Volume" title="Volume" class="powa-button ').concat(C.control," ").concat(C.muteUnmute," ").concat(C.muteUnmuteClick,'">\n\t\t\t\t').concat(Object(u.svgIcon)("volumeUp",C.mute),"\n\t\t\t\t").concat(Object(u.svgIcon)("volumeOff",C.unmute),'\n\t\t\t</button>\n\t\t</div>\n\t\t<span class="').concat(C.countdown," ").concat(C.hidden,'"></span>\n\t\t<div class="').concat(C.skipContainer,'">\n\t\t\t<span class="').concat(C.skipCountdown," ").concat(C.hidden,'"></span>\n\t\t\t<span class="').concat(C.skip," ").concat(C.skipClick," ").concat(C.hidden,'">').concat(t.adSkipText,"</span>\n\t\t</div>\n\t")},adSkipText:"Skip",adCountdownTemplate:function(t){return"This ad will end in ".concat(Math.ceil(t.adRemaining)," seconds")},adSkipCountdownTemplate:function(t){return"You can skip this ad in ".concat(Math.ceil(t.skipOffset-(t.adDuration-t.adRemaining))," seconds")},checkSizing:function(t){var e=t.$controls,n=t.$countdown,i=t.$skipContainer,o=t.$skipCountdown,a=Object(u.get)(e,"elements.length")?e.position().left+e.width():0,r=Object(u.get)(n,"elements.length")?n.position().left+n.width():0,s=Object(u.get)(i,"elements.length")?i.position().left:1/0;n&&r>s&&n.addClass(C.hidden),o&&a>s&&o.addClass(C.hidden)},shrinkAd:function(t,e){var n=t.height*(e.width/e.height)/2;return{top:t.height,bottom:0,left:n,right:n,height:t.height?e.height-t.height:"100%",width:n?e.width-2*n:"100%"}},shrinkAdCSS:function(t){return{top:"".concat(t.top,"px"),left:"".concat(t.left,"px"),width:"".concat(t.width).concat(isNaN(t.width)?"":"px"),height:"".concat(t.height).concat(isNaN(t.height)?"":"px")}}}),N=function(t){function e(){var t,n,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i=_(e).call(this,'<div class="'.concat(C.powaSellAdBar,'"></div>')),t=!i||"object"!==A(i)&&"function"!=typeof i?E(n):i,Object(u.bindAll)(E(t)),t.settings=Object(o.extend)(L,a);var r=Object(o.extend)({colors:Object(d.u)()},t.settings),s="function"==typeof t.settings.style?t.settings.style(r):t.settings.style;return Object(u.addCSS)(s,P),t.html(t.settings.template(t.settings)),t.addClass(C.hidden),t.$controls=t.find(I.controls),t.$play=t.find(I.play),t.$pause=t.find(I.pause),t.$mute=t.find(I.mute),t.$unmute=t.find(I.unmute),t.$countdown=t.find(I.countdown),t.$skipContainer=t.find(I.skipContainer),t.$skipCountdown=t.find(I.skipCountdown),t.$skip=t.find(I.skip),t.muted=!1,t.paused=!1,t._updateControls(),t.settings.powaTrack.extend(t.extendResize),Object(o.forEach)(t.events,function(e){t[e]&&t.on(e,function(n){return t[e](n)})}),Object(o.forEach)(d.t,function(e){t[e]&&t.settings.powaTrack.on(e,t[e])}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,l["a"]),D(e,null,[{key:"MODULE",get:function(){return P}},{key:"EVENTS",get:function(){return d.n}},{key:"DEFAULTS",get:function(){return L}}]),D(e,[{key:"_updateControls",value:function(){this.paused?(this.$play.removeClass(C.hidden),this.$pause.addClass(C.hidden)):(this.$play.addClass(C.hidden),this.$pause.removeClass(C.hidden)),this.muted?(this.$mute.addClass(C.hidden),this.$unmute.removeClass(C.hidden)):(this.$mute.removeClass(C.hidden),this.$unmute.addClass(C.hidden))}},{key:"_checkSizing",value:function(){this.settings.checkSizing&&this.settings.checkSizing({$adBar:this,$controls:this.$controls,$play:this.$play,$pause:this.$pause,$mute:this.$mute,$unmute:this.$unmute,$countdown:this.$countdown,$skipContainer:this.$skipContainer,$skipCountdown:this.$skipCountdown,$skip:this.$skip})}},{key:"_getShrinkBy",value:function(){var t={height:this.height(),width:this.width()},e={height:this.settings.$container.height(),width:this.settings.$container.width()};return this._shrinkAd(t,e)}},{key:"_getShrinkAdCSS",value:function(t){return this._shrinkAdCSS(t)}},{key:"extendResize",value:function(t){if(t.type!==d.t.RESIZE)return t;var e=this._getShrinkBy();if(e){var n=this._getShrinkAdCSS(e);return Object(o.extend)(t,{shrinkBy:e,shrinkCSS:n})}return t}},{key:"_shrinkAd",value:function(t,e){return"function"==typeof this.settings.shrinkAd?this.settings.shrinkAd(t,e):M}},{key:"_shrinkAdCSS",value:function(t){return"function"==typeof this.settings.shrinkAdCSS?this.settings.shrinkAdCSS(t):{}}},{key:"playPauseClick",value:function(t){this.paused?this.settings.powaTrack.trigger(d.n.AD_BAR_PLAY):this.settings.powaTrack.trigger(d.n.AD_BAR_PAUSE)}},{key:"muteUnmuteClick",value:function(){this.settings.powaTrack.trigger(d.n.AD_BAR_MUTE,{muted:!this.muted})}},{key:"skipClick",value:function(){this.settings.powaTrack.trigger(d.n.AD_BAR_SKIP)}},{key:"adBarEnableSkip",value:function(){this.settings.skipControl=!0}},{key:"adBarDisableSkip",value:function(){this.settings.skipControl=!1,this.$skipCountdown.addClass(C.hidden),this.$skip.addClass(C.hidden)}},{key:"adBarShowSkip",value:function(){this.$skipCountdown.addClass(C.hidden),this.$skip.removeClass(C.hidden)}},{key:"adStart",value:function(t){t=t.detail?t.detail:t,this.removeClass(C.hidden),this.paused=!1,this.muted=t.muted,this.$skip.addClass(C.hidden),this._updateControls();var e=this._getShrinkBy();if(e){var n=this._getShrinkAdCSS(e);this.settings.powaTrack.trigger(d.n.AD_BAR_SHOW,{shrinkBy:e,shrinkCSS:n})}else this.settings.powaTrack.trigger(d.n.AD_BAR_SHOW)}},{key:"adTime",value:function(t){t=t.detail?t.detail:t;var e=Object(o.extend)(Object(o.pick)(this.settings,["skipOffset","skipThreshold"]),t),n=e.skipOffset+e.skipThreshold;this.settings.adCountdown&&this.$countdown&&(this.$countdown.html(this.settings.adCountdownTemplate(e)),this.$countdown.removeClass(C.hidden)),this.settings.skipControl&&e.adDuration>n&&(e.adDuration-e.adRemaining>e.skipOffset?this.adBarShowSkip():this.$skipCountdown&&(this.$skipCountdown.html(this.settings.adSkipCountdownTemplate(e)),this.$skipCountdown.removeClass(C.hidden))),this._checkSizing()}},{key:"adPause",value:function(t){this.paused=!0,this._updateControls()}},{key:"adPlay",value:function(t){this.paused=!1,this._updateControls()}},{key:"adEnd",value:function(t){this.addClass(C.hidden);var e=this._getShrinkBy();if(e){var n=this._getShrinkAdCSS(e);this.settings.powaTrack.trigger(d.n.AD_BAR_HIDE,{shrinkBy:e,shrinkCSS:n})}else this.settings.powaTrack.trigger(d.n.AD_BAR_HIDE)}},{key:"adMute",value:function(t){t=t.detail?t.detail:t,this.muted=!!t.muted,this._updateControls()}},{key:"resize",value:function(t){this._checkSizing()}},{key:"promoShow",value:function(t){this.adEnd(t)}},{key:"loaded",value:function(t){this.adEnd(t)}}]),e}(),R=n(114),z=n(41);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t,e,n){return(U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function F(t,e,n){return e&&B(t.prototype,e),n&&B(t,n),t}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q={AD_LOADED:"adLoaded",AD_PAUSED:"adPaused",AD_PLAYING:"adPlaying",AD_REQUESTED:"adRequested",AD_START_REQUESTED:"adStartRequested",AD_BLOCKED:"adBlocked",AD_CLICKED:"adClicked",AD_ENDED:"adEnded",AD_ERROR:"adError",AD_IDLE:"adIdle",AD_SKIPPED:"adSkipped",AD_TIMEOUT:"adTimeout"},Y="https://imasdk.googleapis.com/js/sdkloader/ima3.js",G={debug:!1,adCompanions:{width:300,height:200,selectionCriteria:{creativeType:"All",resourceType:"All",sizeCriteria:"IgnoreSize"}},locale:"",adEndWait:d.g/4,allowAdTimeout:!0,timeouts:{standard:{vastLoad:5,videoLoad:8,adStart:5},preload:{vastLoad:10,videoLoad:10,adStart:5}},vpaidMode:"enabled",ready:function(){console.debug("[".concat("PoWaSellGoogima","] ready"))},setupError:console.error},Z=function(t){function e(){var t,n,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i=V(e).call(this,Object(o.extend)(G,a),Q),(t=!i||"object"!==W(i)&&"function"!=typeof i?$(n):i).clearStatus(),new Promise(function(t,e){Object(u.isObject)(Object(u.get)(window,"google.ima"))?t():Object(u.loadScript)(Y,t,e)}).then(function(){t._setupPoWaSellGoogima(a),t._setupIMA(),a.ready($(t))}).catch(function(e){t.state=Q.AD_BLOCKED,a.setupError({error:e,message:"Probable ad blocker"},$(t))}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(e,z["a"]),F(e,null,[{key:"MODULE",get:function(){return"PoWaSellGoogima"}}]),F(e,[{key:"_setupPoWaSellGoogima",value:function(t){if(!this.settings.powa)throw this.state=Q.AD_ERROR,{error:"missing player",message:"Video player element required"};this.powa=this.settings.powa,this.customClickDiv=t.customClickDiv}},{key:"_setupIMA",value:function(){var t=Object(u.get)(this,"settings.vpaidMode","");t=t.toUpperCase(),null!=(t=google.ima.ImaSdkSettings.VpaidMode[t])&&google.ima.settings.setVpaidMode(t),this.settings.locale&&google.ima.settings.setLocale(this.settings.locale),Object(u.has)(this.settings,"maxWrappers")&&google.ima.settings.setNumRedirects(this.settings.maxWrappers),PoWaSettings.client.isIOS&&PoWaSettings.client.version>=10&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.$adContainer.elements[0],this.powa.getVideoElement(),this.customClickDiv),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsManager=null,this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._onAdsManagerLoaded,!1,this),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._errorHandler,!1,this)}},{key:"_onAdsManagerLoaded",value:function(t){var e=new google.ima.AdsRenderingSettings;e.loadVideoTimeout=this.timeouts.videoLoad,e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0,this.adsManager=t.getAdsManager(this.powa.getVideoElement(),e),this._processAdsManager()}},{key:"_processAdsManager",value:function(){var t=this;this.adsManager.isCustomClickTrackingUsed()&&(this.customClickDiv.style.display="table"),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this._onContentPauseRequested,!1,this),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this._onContentResumeRequested,!1,this),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._errorHandler,!1,this),Object(o.forEach)(google.ima.AdEvent.Type,function(e){return t.adsManager.addEventListener(e,t._eventHandler,!1,t)}),this.adReady=!0,this.trigger(d.o.AD_READY,{type:d.o.AD_READY,adMeta:this.adMeta})}},{key:"_eventHandler",value:function(t){var e=t.getAd();this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","] ").concat(t.type),e),this["_".concat(t.type,"Handler")]&&this["_".concat(t.type,"Handler")](e,t)}},{key:"_allAdsCompletedHandler",value:function(t){}},{key:"_clickHandler",value:function(t){this.state=Q.AD_CLICKED;var e={adDuration:this.timing.duration,duration:this.timing.duration,adRemaining:this.timing.remaining,remaining:this.timing.remaining,skippable:this.adsManager.getAdSkippableState()};this.trigger(d.o.AD_CLICK,{type:d.o.AD_CLICK,adMeta:this.adMeta,event:e})}},{key:"_completeHandler",value:function(t){this.state=Q.AD_ENDED,this.trigger(d.o.AD_COMPLETE,{type:d.o.AD_COMPLETE,adMeta:this.adMeta})}},{key:"_durationChangeHandler",value:function(t){var e=this.timing.duration;this.timing.duration=t.getDuration(),this.trigger(d.o.AD_DURATION_CHANGE,{type:d.o.AD_DURATION_CHANGE,oldDuration:e,duration:this.timing.duration})}},{key:"_errorHandler",value:function(t){if(!this.adEnded){this.state=Q.AD_ERROR,this.powa.pause();var e={error:t.getError().toString(),event:t,type:d.o.AD_ERROR,adMeta:this.adMeta};this.trigger(d.o.AD_ERROR,e),this._onContentResumeRequested()}}},{key:"_impressionHandler",value:function(t,e){this.trigger(d.o.AD_IMPRESSION,{type:d.o.AD_IMPRESSION,adMeta:this.adMeta})}},{key:"_loadedHandler",value:function(t,e){this.adsManager.setVolume(this.powa.muted()?0:this.powa.volume()),this.state=Q.AD_LOADED,this.adMeta=e.getAdData()||{},this.timing={duration:t.getDuration(),firstFrame:!0,lastRemaining:null,remaining:this.adsManager.getRemainingTime()},this.trigger(d.o.AD_LOADED,{type:d.o.AD_LOADED,adMeta:this.adMeta}),t.isLinear()||this._onContentResumeRequested("adNotLinear")}},{key:"_logHandler",value:function(t,e){var n=e.getAdData();this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","] ").concat(d.o.LOG),n),n.adError&&(e.getError=function(){return n.adError},this._errorHandler(e))}},{key:"_muteHandler",value:function(){}},{key:"_pauseHandler",value:function(t){this.state=this.state===Q.AD_CLICKED?Q.AD_CLICKED:Q.AD_PAUSED,this.trigger(d.o.AD_PAUSE,{type:d.o.AD_PAUSE,adMeta:this.adMeta})}},{key:"_resumeHandler",value:function(t){this.state=Q.AD_PLAYING,this.trigger(d.o.AD_PLAY,{type:d.o.AD_PLAY,adMeta:this.adMeta})}},{key:"_skipHandler",value:function(t){this.state=Q.AD_SKIPPED;var e={adDuration:this.timing.duration,duration:this.timing.duration,adRemaining:this.timing.remaining,remaining:this.timing.remaining,skippable:this.adsManager.getAdSkippableState()};this.trigger(d.o.AD_SKIP,{adMeta:this.adMeta,type:d.o.AD_SKIP,event:e})}},{key:"_startHandler",value:function(t){this.state=Q.AD_PLAYING,Object.assign(this.adMeta,{muted:this.isMuted()}),window.clearTimeout(this.adStartTO),this.trigger(d.o.AD_START,{type:d.o.AD_START,adMeta:this.adMeta}),this.trigger(d.o.AD_PLAY,{type:d.o.AD_PLAY,adMeta:this.adMeta}),this._timeCheck(),this._adCompanionCheck(t)}},{key:"_volumeChangeHandler",value:function(t){var e=this.isMuted();this.trigger(d.o.AD_MUTE,{type:d.o.AD_MUTE,muted:e})}},{key:"_adEnded",value:function(t){this.adEnded||(clearTimeout(this.adEndTO),this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","] ").concat(d.o.AD_END),{status:t}),this.adEnded=!0,this.trigger(d.o.AD_END,{adMeta:this.adMeta,status:t}))}},{key:"_timeCheck",value:function(){this.timing.lastRemaining=this.timing.remaining,this.timing.remaining=Object(u.toFixed)(this.adsManager.getRemainingTime()),this.timing.elapsed=this.timing.duration-this.timing.remaining,this.timing.elapsed=Object(u.toFixed)(this.timing.elapsed);var t=Object(u.toFixed)(this.timing.remaining%1)*d.g;t=t>100?t:100,this.timing.remaining>=0&&this.timing.remaining!==this.timing.lastRemaining&&(this.timing.firstFrame&&(this.timing.firstFrame=!1,this.trigger(d.o.AD_FIRST_FRAME,{adMeta:this.adMeta,type:d.o.AD_FIRST_FRAME})),this.trigger(d.o.AD_TIME,{adDuration:this.timing.duration,duration:this.timing.duration,elapsed:this.timing.elapsed,adRemaining:this.timing.remaining,remaining:this.timing.remaining,type:d.o.AD_TIME})),this.timing.remaining>0&&(this.timing._timeCheckTO=setTimeout(this._timeCheck,t))}},{key:"_adCompanionCheck",value:function(t){var e=new google.ima.CompanionAdSelectionSettings;Object(o.forEach)(this.settings.adCompanions.selectionCriteria,function(t,n){return e[n]=t});var n=t.getCompanionAds(this.settings.adCompanions.width,this.settings.adCompanions.height,e);n&&n.length&&(n=Object(o.map)(n,function(t){return{type:t.getContentType(),width:t.getWidth(),height:t.getHeight(),content:t.getContent()}}),this.trigger(d.o.AD_COMPANIONS,{type:d.o.AD_COMPANIONS,adCompanions:n}))}},{key:"_onContentPauseRequested",value:function(){this.trigger(d.o.AD_CONTENT_PAUSE_REQUESTED,{adMeta:this.adMeta})}},{key:"_onContentResumeRequested",value:function(){if(window.clearTimeout(this.adStartTO),!this.adEnded){this.hide();var t=this.state===Q.AD_CLICKED?d.o.AD_CLICK:this.state===Q.AD_SKIPPED?d.o.AD_SKIP:this.state===Q.AD_ENDED?d.o.AD_COMPLETE:this.state===Q.AD_TIMEOUT?d.o.AD_START_TIMEOUT:d.o.AD_ERROR;this.trigger(d.o.AD_CONTENT_RESUME_REQUESTED,{adMeta:this.adMeta,status:t}),this._adEnded(t)}}},{key:"destroy",value:function(){this.mute(!0),this.adsManager&&this.adsManager.destroy(),this.adsLoader=null,this.adsManager=null,this.adDisplayContainer=null,clearTimeout(this.adEndTO),clearTimeout(this.adStartTO),clearTimeout(this.timing._timeCheckTO),U(V(e.prototype),"destroy",this).call(this)}},{key:"_getTimeouts",value:function(t,e){var n=t?this.settings.timeouts.preload:this.settings.timeouts.standard;return Object(o.chain)(n).mapObj(function(t){return"function"==typeof t?t(e):t}).mapObj(function(t){return t*d.g}).value()}},{key:"requestAd",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][requestAd] ").concat(t)),this.state=Q.AD_REQUESTED,this.adTagURL=t,this.preload=e,this.adEnded=!1;var i=this.powa.getWidth(),o=this.powa.getHeight();this.timeouts=this._getTimeouts(e,n);var a=new google.ima.AdsRequest;a.adTagUrl=t,a.linearAdSlotWidth=i,a.linearAdSlotHeight=o,a.nonLinearAdSlotWidth=i,a.nonLinearAdSlotHeight=o,a.vastLoadTimeout=this.timeouts.vastLoad,this.powa.muted()&&a.setAdWillPlayMuted(!0),this.settings.autoplay&&(this.settings.autoplay=!1,a.setAdWillAutoPlay(!0)),this.adsLoader.requestAds(a),this.trigger(d.o.AD_REQUEST,{adTagURL:t,adMeta:this.adMeta,type:d.o.AD_REQUEST})}},{key:"startAd",value:function(){var t=this;this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][startAd]")),this.state=Q.AD_START_REQUESTED,this.show(),this.settings.allowAdTimeout?this.adStartTO=window.setTimeout(function(){t.trigger(d.o.AD_START_TIMEOUT,{adMeta:t.adMeta,type:d.o.AD_START_TIMEOUT}),t.state=Q.AD_TIMEOUT,t.adsManager?t.skip():t._onContentResumeRequested()},this.timeouts.adStart):this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][startAd] not allowing ad timeout"));var e=this.powa.getWidth(),n=this.powa.getHeight();this.adsManager.init(e,n,this.settings.powa.isFullscreen()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),this.adsManager.start(),this.trigger(d.o.AD_START_REQUEST,{type:d.o.AD_START_REQUEST,adMeta:this.adMeta,adsManager:this.adsManager,adContainer:this.$adContainer.elements[0],viewMode:this.settings.powa.isFullscreen()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL}),this.adReady=null}},{key:"initialUserAction",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][initialUserAction]")),this.adDisplayContainer.initialize()}},{key:"contentEnded",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][contentEnded]")),this.adsLoader.contentComplete()}},{key:"pause",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][pause]")),this.adsManager&&this.adsManager.pause()}},{key:"play",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][play]")),this.adsManager&&this.adsManager.resume()}},{key:"togglePlay",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][togglePlay]")),this.state===Q.AD_PLAYING?this.pause():this.state===Q.AD_PAUSED&&this.play()}},{key:"skip",value:function(){var t=this;if(this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][skip]")),this.adsManager){var e={adDuration:this.timing.duration,duration:this.timing.duration,adRemaining:this.timing.remaining,remaining:this.timing.remaining,skippable:this.adsManager.getAdSkippableState()};this.state=this.state===Q.AD_CLICKED?Q.AD_CLICKED:this.state===Q.AD_TIMEOUT?Q.AD_TIMEOUT:Q.AD_SKIPPED,this.state!==Q.AD_TIMEOUT&&this.trigger(d.o.AD_SKIP,{adMeta:this.adMeta,type:d.o.AD_SKIP,event:e}),this.adsManager.stop(),this.adEndTO&&clearTimeout(this.adEndTO),this.adEndTO=window.setTimeout(function(){return t._adEnded(t.state)},this.settings.adEndWait)}}},{key:"isRunning",value:function(){var t=[Q.AD_LOADED,Q.AD_PLAYING,Q.AD_PAUSED,Q.AD_START_REQUESTED];return this.preload||t.push(Q.AD_REQUESTED),Object(u.get)(PoWaSettings,"advertising.adBar")&&t.push(Q.AD_CLICKED),t.includes(this.state)}},{key:"isMuted",value:function(){return this.adsManager?!this.adsManager.getVolume():null}},{key:"mute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.isMuted();this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][mute] ").concat(t)),this.adsManager&&this.adsManager.setVolume(t?0:this.powa.volume())}},{key:"resize",value:function(t){if(U(V(e.prototype),"resize",this).call(this,t),this.adsManager){var n=Object(u.get)(t,"shrinkBy.width",t.width),i=Object(u.get)(t,"shrinkBy.height",t.height);this.adsManager.resize(n,i,t.fullscreen?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}}},{key:"clearStatus",value:function(){var t=Object(u.get)(this,"timing._timeCheckTO",null);clearTimeout(t),this.adMeta={},this.adTagURL="",this.preload=!1,this.state=Q.AD_IDLE,this.timing={_timeCheckTO:null,duration:null,firstFrame:null,lastRemaining:null,remaining:null}}},{key:"getStatus",value:function(){return{adMeta:this.adMeta,adPreload:this.preload,adReady:!!this.adReady,adTagURL:this.adTagURL,muted:this.isMuted(),running:this.isRunning(),state:this.state,timing:this.timing}}}]),e}();function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X(t,e,n){return(X="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function et(t,e,n){return e&&tt(t.prototype,e),n&&tt(t,n),t}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var it={adStartTimelimit:3},ot=new WeakMap,at=function(t){function e(){var t,n,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(i=J(e).call(this,Object(o.extend)(it,a)))||"object"!==q(i)&&"function"!=typeof i?K(n):i,Object(u.bindAll)(K(t)),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(e,Z),et(e,null,[{key:"MODULE",get:function(){return"PoWaSellGoogimaHacks"}}]),et(e,[{key:"_loadedHandler",value:function(t,n){X(J(e.prototype),"_loadedHandler",this).call(this,t,n);var i=ot.get(this);i.adStarted=!1;var o=Date.now();i.shadowTimer={lastTime:o,elapsed:0,start:o}}},{key:"_pauseHandler",value:function(t){var n=Date.now(),i=ot.get(this);i.shadowTimer.elapsed+=(n-i.shadowTimer.lastTime)/d.g,i.shadowTimer.elapsed=Object(u.toFixed)(i.shadowTimer.elapsed),i.shadowTimer.lastTime=n,this.timing.remaining=this.timing.duration-i.shadowTimer.elapsed,this.timing.remaining=Object(u.toFixed)(this.timing.remaining),X(J(e.prototype),"_pauseHandler",this).call(this,t)}},{key:"_resumeHandler",value:function(t){ot.get(this).shadowTimer.lastTime=Date.now(),X(J(e.prototype),"_resumeHandler",this).call(this,t)}},{key:"_timeCheck",value:function(){var t=Date.now(),e=ot.get(this);this.timing.lastRemaining=this.timing.remaining;var n=Object(u.toFixed)(this.adsManager.getRemainingTime(),3,-1);if(!e.adStarted){var i=(t-e.shadowTimer.start)/d.g;n>=0&&n!==this.timing.lastRemaining?e.adStarted=!0:i>this.settings.adStartTimelimit&&(e.adStarted=!0,this.trigger(d.o.AD_START_UNREPORTED,{type:d.o.AD_START_UNREPORTED,elapsed:i}))}if(n>this.timing.duration){var o=this.timing.duration;this.timing.duration=n+e.shadowTimer.elapsed,this.trigger(d.o.AD_DURATION_CHANGE,{type:d.o.AD_DURATION_CHANGE,oldDuration:o,duration:this.timing.duration})}e.adStarted&&this.state===Z.STATES.AD_PLAYING&&(e.shadowTimer.elapsed+=(t-e.shadowTimer.lastTime)/d.g,e.shadowTimer.elapsed=Object(u.toFixed)(e.shadowTimer.elapsed),e.shadowTimer.lastTime=t,this.timing.remaining=this.timing.duration-e.shadowTimer.elapsed,this.timing.remaining=Object(u.toFixed)(this.timing.remaining));var a=Object(u.toFixed)(this.timing.remaining%1)*d.g;a=a>100?a:100,e.adStarted?this.timing.remaining>=0&&this.timing.remaining!==this.timing.lastRemaining&&(this.timing.firstFrame&&(this.timing.firstFrame=!1,this.trigger(d.o.AD_FIRST_FRAME,{adMeta:this.adMeta,type:d.o.AD_FIRST_FRAME})),this.trigger(d.o.AD_TIME,{adDuration:this.timing.duration,duration:this.timing.duration,elapsed:e.shadowTimer.elapsed,adRemaining:this.timing.remaining,remaining:this.timing.remaining,type:d.o.AD_TIME})):this.state===Z.STATES.AD_PLAYING&&(e.shadowTimer.lastTime=t),this.isRunning()&&this.timing.remaining>0&&(this.timing._timeCheckTO=setTimeout(this._timeCheck,a))}},{key:"clearStatus",value:function(){X(J(e.prototype),"clearStatus",this).call(this),ot.set(this,{adStarted:!1,remainingTimeUnchanged:0,shadowTimer:{lastTime:null,elapsed:null,start:null}})}},{key:"destroy",value:function(){clearTimeout(this.timing._timeCheckTO),X(J(e.prototype),"destroy",this).call(this)}}]),e}(),rt=n(30),st=n(29);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function pt(t,e,n){return e&&dt(t.prototype,e),n&&dt(t,n),t}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gt={ready:u.noop,error:u.noop};function ft(t){return'<track src="'.concat(t.src||t.url||"",'" label="').concat(t.label||"English",'" srclang="').concat(t.srclang||"en",'" kind="').concat(t.kind||"captions",'"></track>').trim()}var vt=function(t){function e(){var t,n,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(i=lt(e).call(this,""))||"object"!==ct(i)&&"function"!=typeof i?ut(n):i,Object(u.bindAll)(ut(t)),t.settings=Object(o.extend)(gt,a),t.load(t.createTracks()),t.elements.length?t.settings.ready(ut(t)):t.settings.error(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(e,c["PoWaPack"]),pt(e,null,[{key:"MODULE",get:function(){return"Crew"}}]),pt(e,[{key:"createTracks",value:function(){return Object(o.chain)(this.settings.tracks).filter(function(t){return"WEB_VTT"===t.format}).map(ft).value()}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(u.isObject)(this.settings.track)?t.push(ft(this.settings.track)):"string"==typeof this.settings.track&&t.push(ft({src:this.settings.track})),Object(o.forEach)(t,this.add)}}]),e}();function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function St(t,e,n){return e&&kt(t.prototype,e),n&&kt(t,n),t}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jt=0;var At={style:function(t){return"\n\t.powa-sub {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\twidth: 100%;\n\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\tpointer-events: none;\n\t\ttransition: all 0.2s ease-out;\n\n\t\tline-height: normal;\n\t}\n\n\t.powa-sub-torpedo {\n\t\tbackground: ".concat(t.background||Object(u.getColor)(t.colors.background,.25),";\n\t\tcolor: ").concat(t.color||Object(u.getColor)(t.colors.primary),";\n\t\tfont-family: ").concat(t["font-family"]||"sans-serif",";\n\t\tfont-size: ").concat(t["font-size"]||"inherit",";\n\t\ttext-shadow: ").concat(t["text-shadow"]||"none",";\n\n\t\tborder-radius: 3px;\n\t\tpadding: 3px;\n\t\tmargin: 5px;\n\t\ttext-align: center;\n\t}\n")},styleConfig:function(t){return{color:Object(u.getColor)(t.colors.primary),"background-color":Object(u.getColor)(t.colors.background,.25),"font-family":"sans-serif"}},bump:function(t){return".powa-sub {bottom: ".concat(t.height,"px}")}},_t=function(t){function e(){var t,n,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(i=yt(e).call(this,'<div class="powa-sub"></div>'))||"object"!==mt(i)&&"function"!=typeof i?wt(n):i,Object(u.bindAll)(wt(t)),t.settings=Object(o.extend)(At,a),t.updateStyle(),t.video=t.settings.$player.elements[0],t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(e,c["PoWaPack"]),St(e,null,[{key:"MODULE",get:function(){return"Periscope"}}]),St(e,[{key:"updateStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(o.extend)({colors:Object(d.u)()},this.settings),n="function"==typeof this.settings.style?this.settings.style(Object(o.extend)(e,t)):this.settings.style;Object(u.addCSS)(n,"Periscope")}},{key:"bump",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.addCSS)(this.settings.bump(t),"".concat("Periscope","-bump"))}},{key:"unbump",value:function(){Object(u.addCSS)(null,"".concat("Periscope","-bump"))}},{key:"showing",value:function(){return this.label?this.label:null}},{key:"show",value:function(t){var e=this;this.hide(),this.label=t;var n=this.settings.$player.getStatus(),i=Object(u.getTextTracks)(this.video);Object(o.chain)(i).forEach(function(t){return t.mode="disabled"}).filter(function(e){return e.label===t}).forEach(function(t){t.mode="hidden",(t.cues?bt(t.cues):[]).filter(function(t){return t.startTime<n.time&&t.endTime>n.time}).forEach(function(t){return e._enter({target:t})}),t.powaProcessed||(t.powaProcessed=!0,t.addEventListener("cuechange",e._enCue))})}},{key:"hide",value:function(){this.label=null,this.find(".powa-sub-torpedo").detach()}},{key:"_enCue",value:function(t){var e=this,n=t.target,i=n.cues?bt(n.cues):[],o=this.settings.$player.getStatus();i.filter(function(t){return!t.powaProcessed}).forEach(function(t){t.powaProcessed=!0,t.startTime<o.time&&t.endTime>o.time&&e._enter({target:t}),t.addEventListener("enter",e._enter),t.addEventListener("exit",e._exit)})}},{key:"_enter",value:function(t){var e=t.target;e.track.label===this.label&&0===this.find('[data-powa-id="'.concat(e.powaID,'"]')).elements.length&&this.append(Object(c.$)(function(t){return t.powaID=t.powaID||++jt,'<span class="powa-sub-torpedo" data-powa-id="'.concat(t.powaID,'">').concat(t.text.replace("\n","<br/>"),"</span>")}(e)))}},{key:"_exit",value:function(t){var e=t.target;this.find('[data-powa-id="'.concat(e.powaID,'"]')).detach()}}]),e}(),Et="YellowSubmarine",Tt={small:{name:"Small",rule:"small"},medium:{name:"Medium",rule:"medium"},large:{name:"Large",rule:"large"},xLarge:{name:"X-Large",rule:"x-large"},xxLarge:{name:"XX-Large",rule:"xx-large"}},Dt={black:{name:"Black",rule:"0, 0, 0"},silver:{name:"Silver",rule:"192, 192, 192"},gray:{name:"Gray",rule:"128, 128, 128"},white:{name:"White",rule:"255, 255, 255"},maroon:{name:"Maroon",rule:"128, 0, 0"},red:{name:"Red",rule:"255, 0, 0"},purple:{name:"Purple",rule:"128, 0, 128"},fuchsia:{name:"Fuchsia",rule:"255, 0, 255"},green:{name:"Green",rule:"0, 128, 0"},lime:{name:"Lime",rule:"0, 255, 0"},olive:{name:"Olive",rule:"128, 128, 0"},yellow:{name:"Yellow",rule:"255, 255, 0"},navy:{name:"Navy",rule:"0, 0, 128"},blue:{name:"Blue",rule:"0, 0, 255"},teal:{name:"Teal",rule:"0, 128, 128"},aqua:{name:"Aqua",rule:"0, 255, 255"},orange:{name:"Orange",rule:"255, 165, 0"}},xt={solid:{name:"100%",rule:"1.0"},seventyFive:{name:"75%",rule:"0.75"},fifty:{name:"50%",rule:"0.5"},twentyFive:{name:"25%",rule:"0.25"},transparent:{name:"0%",rule:"0"}},Pt={monoSans:{name:"Mono Sans",rule:"'Andale Mono', 'Lucida Console', monospace"},monoSerif:{name:"Mono Serif",rule:"'Courier New', monospace"},propSans:{name:"Sans",rule:"sans-serif"},propSerif:{name:"Serif",rule:"serif"},comic:{name:"Comic",rule:"'Comic Sans MS', Impact, fantasy"},fancy:{name:"Fancy",rule:"'Monotype Corsiva', cursive"},smallCaps:{name:"Small Caps",rule:"'Andale Mono', 'Lucida Console', monospace, sans-serif"}},Ct={outlineDark:{name:"Outline Dark",rule:"0 0 1px rgba(0, 0, 0, 0.5)"},outlineLight:{name:"Outline Light",rule:"0 0 2px rgba(255, 255, 255, 0.75)"},outlineDarkBold:{name:"Outline Dark Bold",rule:"0 0 1px rgba(0, 0, 0, 1)"},outlineLightBold:{name:"Outline Light Bold",rule:"0 0 2px rgba(255, 255, 255, 1)"},shadowDark:{name:"Shadow Dark",rule:"2px 2px 2px rgba(0, 0, 0, 0.5)"},shadowLight:{name:"Shadow Light",rule:"2px 2px 2px rgba(255, 255, 255, 0.5)"},shadowDarkBold:{name:"Shadow Dark Bold",rule:"2px 2px 2px rgba(0, 0, 0, 1)"},shadowLightBold:{name:"Shadow Light Bold",rule:"2px 2px 2px rgba(255, 255, 255, 1)"}},It=Object(u.freeze)({powaPane:"powa-pane",ys:"powa-ys",show:"powa-ys-show",window:"powa-ys-window",windowShow:"powa-ys-window-show",header:"powa-ys-header",title:"powa-ys-title",field:"powa-ys-field",fieldName:"powa-ys-field-name",option:"powa-ys-option",optionSmall:"powa-ys-option-small",optionLarge:"powa-ys-option-large"}),Mt=Object(u.freeze)(Object(o.mapObj)(It,function(t){return".".concat(t)})),Lt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return'<option value="'.concat(t,'" ').concat(e?"selected":"",">").concat(n,"</option>")},Nt=function(t,e){return Object(o.reduce)(t,function(t,n){return"".concat(t,"\n").concat(Lt(n.rule,n.rule===e,n.name))},Lt("Default"))},Rt=function(){return'<div class="'.concat(It.ys,'"></div>')};function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vt(t,e){return(Vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object(u.hasFontAwesome)()||Object(u.loadCSS)("https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css");var Bt=Object(u.freeze)({style:function(t){return"\n\t.powa-ys {\n\t\tcolor: ".concat(Object(u.getColor)(t.colors.primary),';\n\t\tfont-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tposition: absolute;\n\t\topacity: 0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpointer-events: none;\n\t\ttransition: all ').concat("0.25s",";\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.powa:hover .powa-ys-show {\n\t\tpointer-events: auto;\n\t\topacity: 1;\n\t\tbackground-color: rgba(0,0,0, 0.1);\n\t}\n\n\t.powa-ys-window {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t\tjustify-content: space-between;\n\n\t\theight: 0;\n\t\twidth: 0;\n\t\tbox-sizing: border-box;\n\n\t\tborder: solid 2px ").concat("white",";\n\t\tborder-radius: 5px;\n\t\tbox-shadow: rgba(0, 0, 0, 0.2) 0px 0px 9px 1px;\n\n\t\topacity: 0;\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.background,.75),";\n\t\ttransition: all ").concat("0.25s",";\n\t}\n\n\t.powa-ys-window-show {\n\t\topacity: 1;\n\t\tpadding: 5px;\n\t\theight: 155px;\n\t\twidth: 275px;\n\t}\n\n\t.powa-ys-field {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\toverflow: hidden;\n\t\ttransition: all ").concat("0.25s",";\n\t}\n\n\t.powa-ys-field-name {\n\t\tmargin-right: auto;\n\t}\n\n\t.powa-ys-option {\n\t\tmargin-left: 5px;\n\t}\n\n\t.powa-ys-header {\n\t\tjustify-content: center;\n\t\tpadding-bottom: 2px;\n\t}\n\n\t.powa-ys-option-small {\n\t\twidth: 75px;\n\t}\n\n\t.powa-ys-option-large {\n\t\twidth: 155px;\n\t}\n")},template:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return'\n\t<div class="'.concat(It.window,'">\n\t\t<div class="').concat(It.field," ").concat(It.header,'">\n\t\t\t<span class="').concat(It.title,'">Subtitle Settings</span>\n\t\t</div>\n\t\t<div class="').concat(It.field,'">\n\t\t\t<span class="').concat(It.fieldName,'">Font</span>\n\t\t\t<select class="').concat(It.option," ").concat(It.optionLarge,'" data-option="font-family">').concat(Nt(Pt,t["font-family"]),'</select>\n\t\t</div>\n\t\t<div class="').concat(It.field,'">\n\t\t\t<span class="').concat(It.fieldName,'">Font Size</span>\n\t\t\t<select class="').concat(It.option," ").concat(It.optionLarge,'" data-option="font-size">').concat(Nt(Tt,t["font-size"]),'</select>\n\t\t</div>\n\t\t<div class="').concat(It.field,'">\n\t\t\t<span class="').concat(It.fieldName,'">Font Edge</span>\n\t\t\t<select class="').concat(It.option," ").concat(It.optionLarge,'" data-option="text-shadow">').concat(Nt(Ct,t["text-shadow"]),'</select>\n\t\t</div>\n\t\t<div class="').concat(It.field,'">\n\t\t\t<span class="').concat(It.fieldName,'">Font Color</span>\n\t\t\t<select class="').concat(It.option," ").concat(It.optionSmall,'" data-option="color">').concat(Nt(Dt,t.color),'</select>\n\t\t\t<select class="').concat(It.option," ").concat(It.optionSmall,'" data-option="textOpacity">').concat(Nt(xt,t.textOpacity),'</select>\n\t\t</div>\n\t\t<div class="').concat(It.field,'">\n\t\t\t<span class="').concat(It.fieldName,'">Background</span>\n\t\t\t<select class="').concat(It.option," ").concat(It.optionSmall,'" data-option="background">').concat(Nt(Dt,t.background),'</select>\n\t\t\t<select class="').concat(It.option," ").concat(It.optionSmall,'" data-option="backgroundOpacity">').concat(Nt(xt,t.backgroundOpacity),"</select>\n\t\t</div>\n\t</div>\n")},cueStyle:function(t){return"\n\tvideo::cue {\n\t\t".concat(Object(o.map)(t,function(t,e){return"".concat(e,": ").concat(t,";")}).join("\n\t\t"),"\n\t}\n")},error:console.error});var Ft=function(t){function e(t){var n,i,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,n=!(a=$t(e).call(this,Rt()))||"object"!==zt(a)&&"function"!=typeof a?Ut(i):a,Object(u.bindAll)(Ut(n)),n.settings=Object(o.extend)(Bt,t);var r=Object(u.fetchLocal)("powaCueStyle"),s=Object(c.$)(n.settings.template(r));n.append(s);var l=Object(o.extend)({colors:Object(d.u)()},n.settings),p="function"==typeof n.settings.style?n.settings.style(l):n.settings.style;return Object(u.addCSS)(p,Et),r&&n.addCSS(r),n.setupElements(),n.setupHandlers(),n.settings.$container.find(Mt.powaPane).append(Ut(n)),n}var n,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vt(t,e)}(e,c["PoWaPack"]),n=e,(i=[{key:"setupElements",value:function(){this.$window=this.find(Mt.window),this.$options=this.find(Mt.option)}},{key:"setupHandlers",value:function(){var t=this;this.settings.powa.on(d.t.SUBS_ENABLED,function(){t.show()}),this.settings.powa.on(d.t.SUBS_DISABLED,function(){t.hide()}),this.settings.powa.on(d.t.SUBTITLES_CUSTOMIZE_CLICK,function(){t.toggleDisplay()}),this.on("click",function(e){e.target===e.currentTarget&&t.toggleDisplay()}),this.$options.on("change",this.updateCaptionStyle)}},{key:"toggleDisplay",value:function(){this.toggleClass(It.show),this.$window.toggleClass(It.windowShow),this.hasClass(It.show)?this.settings.powa.trigger(d.t.SUBTITLES_CUSTOMIZE_OPENED):this.settings.powa.trigger(d.t.SUBTITLES_CUSTOMIZE_CLOSED)}},{key:"addCSS",value:function(t){var e=function(t){var e=function(t,e){return e?"rgba(".concat(t,", ").concat(e,")"):"rgb(".concat(t,")")},n=Object.assign({},t);return(n.color||n.textOpacity)&&(n.color=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"255, 255, 255",n=arguments.length>1?arguments[1]:void 0;return e(t,n)}(n.color,n.textOpacity)),(n.background||n.backgroundOpacity)&&(n.background=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0, 0, 0",n=arguments.length>1?arguments[1]:void 0;return e(t,n)}(n.background,n.backgroundOpacity)),delete n.textOpacity,delete n.backgroundOpacity,n}(t);if(this.settings.updateStyle)this.settings.updateStyle(e);else{var n=this.settings.cueStyle(e);Object(u.addCSS)(n,"".concat(Et,"-cue"))}}},{key:"harvestOptions",value:function(){return this.$options.reduce(function(t,e){return t[e.dataset.option]=e.value,t},{})}},{key:"updateCaptionStyle",value:function(){var t=Object(o.filter)(this.harvestOptions(),function(t,e){return"Default"!==t}),e=JSON.stringify(t);Object(u.stashLocal)({powaCueStyle:e}),this.addCSS(t)}}])&&Wt(n.prototype,i),a&&Wt(n,a),e}();function Ht(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Qt(t,e,n){return e&&Ht(t.prototype,e),n&&Ht(t,n),t}var Yt={debug:!1,native:!1,subtitles:null,defaultLabel:"English",ready:function(){console.debug("[".concat("PoWaSub","] ready"))},setupError:console.error},Gt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(u.bindAll)(this),this.settings=Object(o.extend)({},Yt,e),this.settings.label=this.settings.subtitles||Object(u.fetchLocal)("powaSubtitles",null),this.onOff=new st.a,this.ignoreSubSwitch=!0;var n=Object(o.chain)(this.settings).pick(["$player","bump","subtitleStyle"]).rename({subtitleStyle:"style"}).value();this.$periscope=this.settings.native?null:new _t(n),this.$yellowSubmarine=new Ft({$container:this.settings.$container,powa:this.settings.powa,updateStyle:this.$periscope?this.$periscope.updateStyle:null}),this.settings.ready(this.$periscope)}return Qt(t,null,[{key:"MODULE",get:function(){return"PoWaSub"}},{key:"EVENTS",get:function(){return d.q}}]),Qt(t,[{key:"firstFrame",value:function(t){var e=this,n=t.videoData;this.initialState=!0,this.mediaStarted=!0,this.settings.live||"live"===Object(u.get)(n,"video_type")?(this.show(this.settings.label),this.listenForCaptions()):Object(u.get)(this,"embeddedTracks.length")?(this.show(this.settings.label),this.trigger(d.q.SUBS_AVAILABLE)):this.getTextTracks().length?(this.show(this.settings.label),this.watchSettings(),this.trigger(d.q.SUBS_AVAILABLE)):new vt({track:this.settings.track,tracks:this.settings.tracks,ready:function(t){e.$crew=t,e.settings.$player.append(t),e.trigger(d.q.SUBS_AVAILABLE),requestAnimationFrame(function(){e.show(e.settings.label),e.watchSettings()})},error:function(t){e.trigger(d.q.SUBS_UNAVAILABLE)}})}},{key:"bump",value:function(t){this.$periscope&&this.$periscope.bump(t)}},{key:"unbump",value:function(){this.$periscope&&this.$periscope.unbump()}},{key:"subsEmbedded",value:function(t,e){this.hls=t,this.embeddedTracks=e}},{key:"subsSwitch",value:function(t){var e=this;this.mediaStarted&&requestAnimationFrame(function(){e.stashSettings(Object(u.get)(e,"embeddedTracks[".concat(t,"].name"),null))})}},{key:"subsLoaded",value:function(t){this.mediaStarted||(this.hls.subtitleTrack=-1)}},{key:"stashSettings",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!1;if(t!==this.settings.label){var n=this.getLabels(),i=n.includes(t),o=n.includes(this.settings.label);(i||null===t&&o)&&(Object(u.stashLocal)("powaSubtitles",t),this.settings.label=t,e=!0)}(this.initialState||e)&&(this.initialState=!1,this.settings.label?this.trigger(d.q.SUBS_ENABLED):this.trigger(d.q.SUBS_DISABLED))}},{key:"watchSettings",value:function(){this.settings.stashSubtitles&&(this.stashSettings(this.showing()),this.raf=requestAnimationFrame(this.watchSettings))}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.settings.tracks=t}},{key:"unload",value:function(){this.settings.label=this.showing(),this.$crew&&(this.$crew.destroy(),this.$crew=null)}},{key:"getTextTracks",value:function(){return Object(u.getTextTracks)(this.settings.$player.elements[0])}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLabels()[0]||null;if(this.hls&&Object(u.get)(this,"embeddedTracks.length")){var e=this.embeddedTracks.reduce(function(e,n){return n.name===t?n.id:e},-1);this.hls.subtitleTrack=e}this.$periscope?this.$periscope.show(t):this.getTextTracks().forEach(function(e){return e.mode=e.label===t?"showing":"disabled"})}},{key:"hide",value:function(){this.hls&&Object(u.get)(this,"embeddedTracks.length")&&(this.hls.subtitleTrack=-1),this.$periscope&&this.$periscope.hide(),this.getTextTracks().forEach(function(t){return t.mode="disabled"})}},{key:"getLabels",value:function(){return this.getSubtitles().map(function(t){return t.label})}},{key:"getSubtitles",value:function(){var t=this.getTextTracks();return Object(u.get)(this,"embeddedTracks.length")?this.embeddedTracks.map(function(t){return{language:t.lang,label:t.name}}):t.length?t.map(function(t){return{language:t.language,label:t.label}}):[]}},{key:"showing",value:function(){if(this.$periscope)return this.$periscope.showing();var t=this.getTextTracks();return t.length?t.reduce(function(t,e){return"showing"===e.mode?e.label:t},null):void 0}},{key:"getStatus",value:function(){return{subtitle:this.showing(),subtitles:this.getSubtitles()}}},{key:"on",value:function(t,e,n){this.onOff.on(t,e)}},{key:"off",value:function(t,e){this.onOff.off(t,e)}},{key:"once",value:function(t,e,n){this.onOff.once(t,e)}},{key:"onceIf",value:function(t,e,n,i){this.onOff.onceIf(t,e,n)}},{key:"until",value:function(t,e,n,i){this.onOff.until(t,e,n)}},{key:"trigger",value:function(t,e){this.onOff.trigger(t,e)}},{key:"destroy",value:function(){this.unload(),this.hls=null,this.onOff.destroy()}},{key:"listenForCaptions",value:function(){this.getTextTracks().length&&this.trigger(d.q.SUBS_AVAILABLE)}}]),t}();function Zt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function qt(t,e,n){return e&&Zt(t.prototype,e),n&&Zt(t,n),t}n.d(e,"PoWa",function(){return Se});var Kt="PoWa",Xt=".m3u8",Jt=Object(o.extend)(i.a.STATES),te=Object(u.freeze)(["duration","muted","time","videoHeight","videoWidth","volume"]),ee=Object(u.freeze)(["adBlocked","autoplayStatus","bitrate","height","level","stream","width"]),ne=Object(u.freeze)(["capLevelToPlayerSize","liveBackBufferLength","liveDurationInfinity","liveMaxLatencyDuration","liveMaxLatencyDurationCount","liveSyncDuration","liveSyncDurationCount","maxBufferLength","maxMaxBufferLength","maxBufferSize","startLevel"]),ie=Object(u.freeze)(["INF","PROGRAM-DATE-TIME"]),oe=Object(u.freeze)({height:"videoHeight",width:"videoWidth"}),ae=Object(u.freeze)({promo:{size:"medium"},scrubber:{controls:"powa"}}),re=Object(u.freeze)({id:"",debug:!1,autoShowPromo:d.g/4,hlsjsURL:Object(rt.e)(),autoplay:!1,preload:"metadata",stashSubtitles:!0,stashVolume:!0,ready:function(){return console.debug()},error:function(t){return console.error(t)}}),se=new WeakMap,ce=new WeakMap,le=new WeakMap,ue=new WeakMap,de=new WeakMap,pe=new WeakMap,he=new WeakMap,ge=new WeakMap,fe=new WeakMap,ve=new WeakMap,me=new WeakMap,be=new WeakMap;function ye(){var t=de.get(this),e=ue.get(this),n=PoWaSettings.videoSupport;t.stream=t.streamOverride?t.streamOverride:n.hls||n.hlsJS?Object(u.get)(t,"video.streams[0]"):Object(o.reject)(t.video.streams,function(t){return Object(u.hasExtension)(t,Xt)})[0],t.stream=t.stream?t.stream.trim():null,t.streamOverride&&delete t.streamOverride,e.debug&&console.debug("stream",t.stream)}function we(t){var e=PoWaSettings.videoSupport;return t&&Object(u.hasExtension)(t,Xt)&&!e.hls&&e.hlsJS}function ke(){var t=this;function e(t,e){var i=this,s=Object(u.fetchLocal)("powaLevel",0),c=Object(o.extend)({capLevelToPlayerSize:!0,maxBufferLength:10,maxMaxBufferLength:60,maxBufferSize:10485760,startLevel:s},Object(o.pick)(r,ne)),l=new Hls(c);l.once=l.once||function(t,e){var n=arguments;l.on(t,function i(){l.off(t,i),e(n)})},l.loadStream&&console.warn("[".concat(Kt,"][HLS] ### hls.loadStream ALREADY EXISTS ###")),l.loadStream=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.noop;r.debug&&console.debug("[".concat(Kt,"][HLS] load src: ").concat(t)),a.loaded===t?e():(n.once(d.t.LOADED,function(){a.loaded=t,e()}),l.loadSource(t))},l.on(Hls.Events.FRAG_PARSED,function(t,e){var i=Object(o.chain)(e.frag).pick(["start","relurl","tagList"]).rename({tagList:"tags",start:"tagTime",relurl:"relURL"}).value();i.tags.find(function(t){return ie.reduce(function(e,n){return e&&!t.includes(n)},!0)})&&n.trigger(d.t.HLS_TAGS,i)});var p=!0;l.on("hlsLevelSwitching",function(t,e){e=Object(o.pick)(e,["bitrate","height","level","width"]),Object.assign(a,e),p?(r.debug&&console.debug("[".concat(Kt,"][HLS] initial level"),e),p=!1,n.trigger(d.t.HLS_INITIAL_LEVEL,e)):(r.debug&&console.debug("[".concat(Kt,"][HLS] level switch"),e),Object(u.stashLocal)({powaLevel:e.level}),n.trigger(d.t.HLS_LEVEL_SWITCH,e))}),l.on(Hls.Events.ERROR,function(t,e){if(e.fatal&&"bufferAppendError"!==e.details){var i=Object.assign({},e);i.context=Object(o.extend)(e.context),i.context.loader=null,i.loader=Object(o.extend)(e.loader),i.loader.context=null,n.trigger(d.t.ERROR,i)}}),l.on(Hls.Events.MEDIA_ATTACHED,function(){r.debug&&console.debug("[".concat(Kt,"][HLS] attached")),l.on(Hls.Events.MANIFEST_PARSED,function(t,e){r.debug&&console.debug("[".concat(Kt,"][HLS] manifest loaded, ").concat(e.levels.length," quality levels")),n.trigger(d.t.LOADED,e)}),t()}),l.on(Hls.Events.SUBTITLE_TRACKS_UPDATED,function(t,e){var n=me.get(i);n&&n.subsEmbedded(l,e.subtitleTracks)}),l.on(Hls.Events.SUBTITLE_TRACK_SWITCH,function(t,e){var n=me.get(i);n&&n.subsSwitch(e.id)}),l.on(Hls.Events.SUBTITLE_TRACK_LOADED,function(t,e){var n=me.get(i);n&&n.subsLoaded(e)}),l.attachMedia(this.getVideoElement()),se.set(this,l)}var n=le.get(this),i=he.get(this),a=de.get(this),r=ue.get(this);return new Promise(function(o,s){we(a.stream)?"function"==typeof Hls?e.call(t,o,s):Object(u.promiseScript)(r.hlsjsURL).then(function(){return e.call(t,o,s)}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.debug&&console.error("[".concat(Kt,"][setupHLS]"),e),n.trigger(d.t.ERROR,{eventID:912,error:e.toString?e.toString():e,errorMessage:Object(u.get)(e,"message","hls.js is not available"),module:Kt,method:"setupHLS"}),PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!1,ye.call(t),i.load(a.stream),o()}):o()})}var Se=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(u.bindAll)(this),function(t){var e=this;return new Promise(function(n,i){switch(window.PoWaSettings=Object(o.extend)(ae,window.PoWaSettings),PoWaSettings.client=PoWaSettings.client||Object(u.sniffClient)(),PoWaSettings.videoSupport=PoWaSettings.videoSupport||Object(u.getVideoSupport)(),t.hls){case"native":PoWaSettings.videoSupport.hls=!0;break;case"js":PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!0;break;case"none":PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!1}var r=PoWaSettings.client,s=["stream","track","video"],c=Object(o.pick)(PoWaSettings.scrubber,"controls"),l=Object(o.extend)(re,c,t),d=Object(o.pick)(l,s);(l=Object(o.omit)(l,s)).id=l.id.replace?l.id.replace(/(^#)/,""):l.id,l.stashSubtitles=Object(u.has)(t,"stashSubtitles")?t.stashSubtitles:!Object(u.has)(t,"subtitles")&&l.stashSubtitles,l.stashVolume=Object(u.has)(t,"stashVolume")?t.stashVolume:!Object(u.has)(t,"muted")&&!Object(u.has)(t,"volume")&&l.stashVolume,Object(u.has)(r,"isDesktop")||(r.isDesktop=!(r.isMobile||r.isTablet)),l.controls=r.isDesktop?l.controls:Object(u.has)(l,"mobileControls")?l.mobileControls:l.controls;var p=l.powaTrack||new a.a(Object(o.extend)({id:l.id,debug:l.debug},PoWaSettings.powaTrack));p.extend(function(t){return Object(o.extend)(e.getStatus(),t)}),e.updaters=[],d.stream&&(d.streamOverride=d.stream,delete d.stream);var h=function(){le.set(e,p),ue.set(e,l),de.set(e,d),n()};l.autoplay?(d.autoplayStatus="autoplay",Object(u.canAutoplay)(l.muted).then(h).catch(function(){l.autoplayMuted?Object(u.canAutoplay)(!0).then(function(){d.autoplayStatus="autoplayMuted",l.muted=!0,h()}).catch(function(){d.autoplayStatus="autoplayMutedBlocked",l.autoplay=!1,h()}):(d.autoplayStatus="autoplayBlocked",l.autoplay=!1,h())})):(d.autoplayStatus="disabled",h())})}.call(this,n).then(function(){return function(){var t=this,e=ue.get(this);return new Promise(function(n,i){var a=e.$container||new j.a(Object(o.defined)(Object(o.extend)({powa:t,element:document.getElementById(e.id),aspectRatio:e.aspectRatio,client:PoWaSettings.client},Object(u.get)(PoWaSettings,"container",{}))));pe.set(t,a),n(a)})}.call(e)}).then(function(){(function(){var t=de.get(this),e=ue.get(this),n=le.get(this),i=pe.get(this);t.$powaOutage=e.powaOutage?e.powaOutage:new s.a({powa:this,powaTrack:n,id:e.elementID,$container:i,style:PoWaSettings.error?PoWaSettings.error.style:void 0,template:PoWaSettings.error?PoWaSettings.error.template:void 0})}).call(e),function(){var t=ue.get(this),e=le.get(this),n=pe.get(this),i=t.$promo?t.$promo:new r.a({$container:n,data:t.promo,default:!!t.promoDefault,id:t.id,powa:t.powaDrive||this,powaTrack:e,style:PoWaSettings.promo.style,template:PoWaSettings.promo.template});return t.autoplay&&i.hide(),be.set(this,i),i}.call(e),ye.call(e),function(){var t=this,e=de.get(this),n=ue.get(this),a=le.get(this),r=pe.get(this);if(r){var s=r.attr("id").replace("powa","powa-player"),c=e.stream&&Object(u.hasExtension)(e.stream,Xt)&&!PoWaSettings.videoSupport.hls?"":e.stream,l=new i.a({controls:"native"===n.controls,debug:n.debug,id:s,loop:n.loop,muted:n.muted,preload:n.preload,stashVolume:n.stashVolume,stream:c,style:{backgroundColor:"black",position:"absolute",top:0,left:0,width:"100%",height:"100%"},type:i.a.VIDEO,volume:n.volume});return Object(o.forEach)(i.a.EVENTS,function(t){var e=i.a.powaDown(t);l.on(t,function(t){return a.trigger(e,t.detail?t.detail:t)}),n.on&&n.on[e]&&"function"==typeof n.on[e]&&a.on(e,n.on[e])}),a.on(d.t.MEDIA_CLICK,function(t){t.playing?l.pause():l.play()}),a.on(d.t.START,function(n){var i=se.get(t),o=fe.get(t),r=ce.get(t),s=o&&r&&"adTagLoading"===r.getStatus()?function(){return a.once(d.t.AD_READY,t.startAd)}:o&&o.getStatus().adPreload?t.startAd:o?function(){t.getAdTag().then(function(e){e?(t.loadAd(e),t.startAd()):l.play()}).catch(l.play)}:l.play;i?i.loadStream(e.stream,s):s()}),a.on(d.t.SEEK,function(t){var e=l.getStatus(),n=Object(u.get)(e,"duration",0),i=Object(u.has)(t,"seek")?t.seek:Object(u.get)(t,"seekPosition",0)*n;l.seek(i)}),r.append(l),he.set(this,l),l}}.call(e)}).then(function(){return function(){var t=this;return new Promise(function(e,n){var i=de.get(t),a=ue.get(t),r=he.get(t),s=le.get(t),c=pe.get(t),l=new Gt(Object(o.extend)({$container:c,$player:r,live:a.live,powa:a.powaDrive||t,ready:function(t){t&&c.append(t),e()},stashSubtitles:a.stashSubtitles,subtitles:"string"==typeof a.subtitles?a.subtitles:null,track:i.track,tracks:Object(u.get)(i,"video.tracks")},PoWaSettings.subtitles));i.track&&delete i.track,Object(o.forEach)(Gt.EVENTS,function(t){l.on(t,function(e){return s.trigger(t,e.detail?e.detail:e)})}),s.on(d.t.FIRST_FRAME,l.firstFrame),s.on(O.EVENTS.show,l.bump),s.on(O.EVENTS.hide,l.unbump),me.set(t,l)})}.call(e)}).then(function(){return function(){var t=this,e=ue.get(this),n=le.get(this),i=pe.get(this),a=Object(u.get)(PoWaSettings,"scrubber",{});return new Promise(function(r,s){if(i&&!e.loop&&e.controls&&"native"!==e.controls){var c=new O(Object(o.extend)({client:PoWaSettings.client,powa:e.powaDrive||t,powaTrack:n,live:e.live},Object(o.pick)(a,["template","style"])));i.append(c),ge.set(t,c),r()}else r()})}.call(e)}).then(function(){return ke.call(e)}).then(function(){return function(){var t=ue.get(this),e=le.get(this);if(t.ads){var n=t.powaSellAdTag||new R.a(Object(o.extend)({powaTrack:e,powa:t.powaDrive||this},Object(o.pick)(t,["adPreload","getAdTag"])));return ce.set(this,n),Promise.resolve(n)}return Promise.resolve(null)}.call(e)}).then(function(){return function(){var t=ue.get(this),e=le.get(this),n=pe.get(this),i=Object(o.extend)(t.advertising,PoWaSettings.advertising);if(t.ads&&i.adBar){var a=i.adBar?Object(o.extend)(N.DEFAULTS,i.adBar):i.adBar,r=new N(Object(o.extend)({$container:n,powaTrack:e,id:t.id},a));n.append(r),ve.set(this,r)}return Promise.resolve(null)}.call(e)}).then(function(){return function t(){var e=this;return new Promise(function(n,a){var r=ue.get(e);if(r.ads){var s=le.get(e),c=be.get(e),l=he.get(e),p=r.adHacks?at:Z;if(l){var h=Object(o.extend)({$container:pe.get(e),powa:r.powaDrive||e,powaTrack:s,autoplay:r.autoplay&&0===s.getVideoStarts(),adBar:r.adBar,debug:r.debug,id:r.id,ready:function(t){fe.set(e,t),Object.assign(Jt,p.STATES),n(t)},setupError:function(t,i){var o=de.get(e);s.trigger(d.t.AD_SETUP_ERROR,{eventID:920,error:t.toString?t.toString():t,errorMessage:Object(u.get)(t,"message","The ad module failed to instantiate."),method:"setupAdverting",module:Kt}),o.adBlocked=i.getStatus().state===p.STATES.AD_BLOCKED,n()}},r.advertising,PoWaSettings.advertising),g=new p(h);g.on(d.t.AD_LOADED,function(t){l.hide(),l.pause()}),g.on(d.t.AD_MUTE,function(t){return l.mute(t.detail.muted)}),g.on(d.t.AD_CLICK,function(t){g.pause(),!1!==Object(u.get)(PoWaSettings,"advertising.skipOnClick")&&(Object(u.get)(PoWaSettings,"advertising.adBar")?g.showSkip():g.skip())}),g.on(d.t.AD_END,function(n){var o=se.get(e),a=de.get(e),r=function(){g.getStatus().adPreload&&!l.started?c.show():n.detail.status!==d.t.AD_CLICK||Object(u.get)(PoWaSettings,"advertising.adBar")?l.play():(c.showPlayButton(),c.show())};l.show(),("adError"===Object(u.get)(n,"detail.status")||Object(u.get)(PoWaSettings,"advertising.adTeardown"))&&(g.destroy(),t.call(e)),l.getStatus().state!==i.a.STATES.SKIPPED&&(o&&Object(u.hasExtension)(a.stream,Xt)?Object(u.onceVisible)(r):r())}),Object(o.forEach)(p.EVENTS,function(t){g.on(t,function(e){return s.trigger(t,e.detail?e.detail:e)}),r.advertising&&r.advertising.on&&r.advertising.on[t]&&"function"==typeof r.advertising.on[t]&&s.on(t,r.advertising.on[t])})}}else n()})}.call(e)}).then(function(){var t=le.get(e),n=ue.get(e),i=de.get(e),a=be.get(e);t.on(d.t.PROMO_PLAY,e.play),t.on(d.t.AD_PLAY,a.hide),t.on(d.t.PLAY,a.hide),t.on(d.t.END,function(){if(n.autoShowPromo){i.autoShowPromoTimeout=setTimeout(function(){e.getStatus().running||(a.show(),i.autoShowPromoTimeout=null)},n.autoShowPromo)}}),Object(u.set)(window,"powas.".concat(n.id,".powa"),e,!1);var r=Object.assign({powa:e},Object(o.pick)(n,"autoplay"),Object(o.pick)(i,"autoplayStatus"));n.ready(r),r.powa=n.powaDrive||r.powa,t.trigger(d.t.POWA_READY,r),(n.autoplay||n.initplay)&&(n.autoplay&&t.trigger(d.t.AUTOPLAY),e.play())}).catch(function(t){var n=le.get(e);n&&n.trigger(d.t.POWA_ERROR,{error:t})})}return qt(t,null,[{key:"MODULE",get:function(){return Kt}},{key:"EVENTS",get:function(){return d.t}},{key:"STATES",get:function(){return Jt}},{key:"BUILD",get:function(){return"befc40d6"}},{key:"VERSION",get:function(){return"3.3.0"}}]),qt(t,[{key:"get$container",value:function(){return pe.get(this)}},{key:"get$video",value:function(){return he.get(this)}},{key:"getDataset",value:function(){var t=Object(u.ensureDataset)(this.getElement()).dataset;return Object(o.mapObj)(t,u.parseString)}},{key:"getElement",value:function(){return this.get$container().elements[0]}},{key:"getHeight",value:function(){return pe.get(this).height()}},{key:"getVideoData",value:function(){return{}}},{key:"getVideoElement",value:function(){return he.get(this).elements[0]}},{key:"getWidth",value:function(){return pe.get(this).width()}},{key:"powaTrackExtend",value:function(t){var e=le.get(this);e&&e.extend(t)}},{key:"loadVideo",value:function(t){var e=this,n=arguments,i=se.get(this),a=le.get(this),r=be.get(this),s=he.get(this),c=me.get(this),l=de.get(this),u=ue.get(this),p=fe.get(this),h=function(){l.video=t,ye.call(e),p&&p.clearStatus();var u=function(){s.clearStarted(),c.load(l.video.tracks),we(l.stream)?ke.call(e).then(function(){se.get(e).loadStream(l.stream)}).catch(function(t){console.error(t)}):s.load(l.stream)},h=s.getStatus();l.stream?i?(i.once(Hls.Events.MEDIA_DETACHED,function(){se.set(e,null),u()}),i.destroy()):s.unload(u):a.trigger(d.t.ERROR,Object(o.extend)(h,{eventID:930,error:"No viable stream",errorMessage:"No viable streams",module:Kt,method:"loadVideo",parameters:n})),t.promo&&r.update(t.promo)};u.debug&&console.debug("[".concat(Kt,"][load]"),t),this.getStatus().running&&s.skip(),c&&c.unload(),p&&p.isRunning()?(p.once(d.t.AD_END,h),p.skip()):h()}},{key:"getAdTag",value:function(t){var e=ce.get(this);return e?e.getAdTag(t):Promise.reject("No powaSellAdTag")}},{key:"loadAd",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ue.get(this),i=fe.get(this);n.debug&&console.debug("[".concat(Kt,"][loadAd] - ").concat(t)),t&&i&&i.requestAd(t,e,n.powaDrive||this)}},{key:"startAd",value:function(){var t=ue.get(this),e=he.get(this),n=fe.get(this),i=le.get(this);if(t.debug&&console.debug("[".concat(Kt,"][startAd]")),n){var o=n.getStatus(),a=o.adTagURL;o.state!==Z.STATES.AD_ERROR?(a&&le.get(this).trigger(d.t.AD_WAITING,{type:d.t.AD_WAITING,adMeta:o.adMeta}),o.adReady?n.startAd():a&&i.once(d.t.AD_READY,function(){n.getStatus().adTagURL===a&&n.startAd()})):e.play()}}},{key:"skipAd",value:function(){var t=ue.get(this),e=fe.get(this);t.debug&&console.debug("[".concat(Kt,"][skipAd]")),e&&e.isRunning()&&e.skip()}},{key:"pause",value:function(){var t=ue.get(this),e=fe.get(this);t.debug&&console.debug("[".concat(Kt,"][pause]")),e&&e.isRunning()?e.pause():he.get(this).pause()}},{key:"play",value:function(){var t=de.get(this),e=ue.get(this),n=he.get(this),i=fe.get(this),o=le.get(this);e.debug&&console.debug("[".concat(Kt,"][play]")),o.isReady()?t.stream?(t.autoShowPromoTimeout&&(clearTimeout(t.autoShowPromoTimeout),t.autoShowPromoTimeout=null),i&&i.isRunning()?i.play():(i&&i.initialUserAction(),n.play())):o.trigger(d.t.ERROR,{eventID:930,module:Kt,method:"play",parameters:arguments,error:"No viable streams",errorMessage:"No viable streams"}):e.initplay=!0}},{key:"togglePlay",value:function(){var t=ue.get(this),e=fe.get(this);t.debug&&console.debug("[".concat(Kt,"][togglePlay]")),e&&e.isRunning()?e.togglePlay():he.get(this).togglePlay()}},{key:"seekTime",value:function(t){this.debug&&console.debug("[".concat(Kt,"][seekTime]")),le.get(this).trigger(d.t.SEEK,{seek:t})}},{key:"seekPosition",value:function(t){this.debug&&console.debug("[".concat(Kt,"][seekPosition]")),le.get(this).trigger(d.t.SEEK,{seekPosition:t})}},{key:"seekLive",value:function(){var t=se.get(this);return t?this.seekTime(t.liveSyncPosition):null}},{key:"jump",value:function(t){var e=ue.get(this),n=fe.get(this);if(e.debug&&console.debug("[".concat(Kt,"][togglePlay]")),!n||!n.isRunning())return he.get(this).jump(t)}},{key:"mute",value:function(t){return he.get(this).mute(t)}},{key:"muted",value:function(){return he.get(this).muted()}},{key:"volume",value:function(t){return he.get(this).volume(t)}},{key:"showPromo",value:function(){ue.get(this).debug&&console.debug("[".concat(Kt,"][showPromo]")),be.get(this).show()}},{key:"hidePromo",value:function(){ue.get(this).debug&&console.debug("[".concat(Kt,"][hidePromo]")),be.get(this).hide()}},{key:"showControls",value:function(){var t=ue.get(this),e=ge.get(this);"native"===t.controls?he.get(this).setControls(!0):t.controls&&e&&e.showControls()}},{key:"hideControls",value:function(){var t=ue.get(this),e=ge.get(this);"native"===t.controls?he.get(this).setControls(!1):t.controls&&e&&e.hideControls()}},{key:"showSubtitles",value:function(t){var e=me.get(this);e&&e.show(t)}},{key:"hideSubtitles",value:function(){var t=me.get(this);t&&t.hide()}},{key:"toggleSubtitles",value:function(){var t=me.get(this);t&&(t.showing()?t.hide():t.show())}},{key:"isFullscreen",value:function(){var t=this.get$container();return t?t.isFullscreen():null}},{key:"fullscreen",value:function(t){var e=this.get$container();e&&e.fullscreen(t)}},{key:"getStatus",value:function(){var t=ue.get(this),e=de.get(this),n=he.get(this),i=fe.get(this),a=me.get(this),r=le.get(this),s=i?i.getStatus():{},c=n?n.getStatus():{},l=a?a.getStatus():{},d={autoplay:t.autoplay,running:!!(c.running||s.running||Object(u.notEmpty)(s)&&s.state===Jt.AD_CLICKED&&c.state===Jt.IDLE),playing:!!(c.state===Jt.PLAYING||Object(u.notEmpty)(s)&&s.state===Jt.AD_PLAYING),state:s.running?s.state:Object(u.notEmpty)(c)?c.state:Object(u.notEmpty)(s)?s.state:null,videoStarts:r?r.getVideoStarts():0};Object.assign(d,Object(o.pick)(c,te));var p=Object(o.chain)(e).pick(ee).rename(oe).compact().value();if(Object.assign(d,p),Object(u.notEmpty)(s)){var h=s.running?s.timing.duration-(s.timing.remaining>=0?s.timing.remaining:s.timing.lastRemaining):null;Object.assign(d,{adDuration:s.timing.duration,adRunning:s.running,adStatus:s,adTime:h})}return d=Object(o.extend)(d,l),this.updaters.reduce(function(t,e){return e(t)},d)}},{key:"statusUpdater",value:function(t){"function"==typeof t&&this.updaters.push(t)}},{key:"on",value:function(t,e,n){var i=pe.get(this);!i||t!==d.t.VIEWABLE&&t!==d.t.NOT_VIEWABLE?le.get(this).on(t,e):i.on(t,e,n)}},{key:"off",value:function(t,e){var n=pe.get(this);!n||t!==d.t.VIEWABLE&&t!==d.t.NOT_VIEWABLE?le.get(this).off(t,e):n.off(t,e)}},{key:"once",value:function(t,e,n){var i=pe.get(this);!i||t!==d.t.VIEWABLE&&t!==d.t.NOT_VIEWABLE?le.get(this).once(t,e,n):i.once(t,e,n)}},{key:"onceIf",value:function(t,e,n,i){var o=pe.get(this);!o||t!==d.t.VIEWABLE&&t!==d.t.NOT_VIEWABLE?le.get(this).onceIf(t,e,n,i):o.onceIf(t,n,i)}},{key:"until",value:function(t,e,n,i){var o=pe.get(this);!o||t!==d.t.VIEWABLE&&t!==d.t.NOT_VIEWABLE?le.get(this).until(t,e,n,i):o.until(t,n,i)}},{key:"trigger",value:function(t,e){le.get(this).trigger(t,e)}},{key:"destroy",value:function(){var t=se.get(this),e=le.get(this),n=pe.get(this),i=he.get(this),o=fe.get(this),a=me.get(this),r=be.get(this);e.trigger(d.t.DESTROYED,{type:d.t.DESTROYED}),t&&t.destroy(),o&&o.destroy(),r.destroy(),a.destroy(),i.destroy(),e.destroy(),n.destroy(),delete window.powas[ue.get(this).id].powa,se.set(this,null),le.set(this,null),ue.set(this,null),de.set(this,null),pe.set(this,null),he.set(this,null),be.set(this,null),fe.set(this,null),me.set(this,null)}}]),t}();window.PoWa=Se},function(t,e,n){n(93),n(142),t.exports=n(44).Array.from},function(t,e,n){var i=n(70),o=n(67);t.exports=function(t){return function(e,n){var a,r,s=String(o(e)),c=i(n),l=s.length;return c<0||c>=l?t?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===l||(r=s.charCodeAt(c+1))<56320||r>57343?t?s.charAt(c):a:t?s.slice(c,c+2):r-56320+(a-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(106),o=n(64),a=n(81),r={};n(56)(r,n(47)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(r,{next:o(1,n)}),a(t,e+" Iterator")}},function(t,e,n){var i=n(52),o=n(51),a=n(63);t.exports=n(50)?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,c=0;s>c;)i.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var i=n(53),o=n(69),a=n(78)("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},function(t,e,n){"use strict";var i=n(55),o=n(46),a=n(69),r=n(120),s=n(121),c=n(62),l=n(143),u=n(122);o(o.S+o.F*!n(107)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,d,p=a(t),h="function"==typeof this?this:Array,g=arguments.length,f=g>1?arguments[1]:void 0,v=void 0!==f,m=0,b=u(p);if(v&&(f=i(f,g>2?arguments[2]:void 0,2)),null==b||h==Array&&s(b))for(n=new h(e=c(p.length));e>m;m++)l(n,m,v?f(p[m],m):p[m]);else for(d=b.call(p),n=new h;!(o=d.next()).done;m++)l(n,m,v?r(d,f,[o.value,m],!0):o.value);return n.length=m,n}})},function(t,e,n){"use strict";var i=n(52),o=n(64);t.exports=function(t,e,n){e in t?i.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){n(145),t.exports=n(44).String.endsWith},function(t,e,n){"use strict";var i=n(46),o=n(62),a=n(108),r="".endsWith;i(i.P+i.F*n(109)("endsWith"),"String",{endsWith:function(t){var e=a(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=o(e.length),s=void 0===n?i:Math.min(o(n),i),c=String(t);return r?r.call(e,c,s):e.slice(s-c.length,s)===c}})},function(t,e,n){var i=n(48),o=n(61),a=n(47)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},function(t,e,n){n(148),t.exports=n(44).String.startsWith},function(t,e,n){"use strict";var i=n(46),o=n(62),a=n(108),r="".startsWith;i(i.P+i.F*n(109)("startsWith"),"String",{startsWith:function(t){var e=a(this,t,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return r?r.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){n(150),n(84),n(153),n(154),t.exports=n(44).Symbol},function(t,e,n){"use strict";var i=n(45),o=n(53),a=n(50),r=n(46),s=n(57),c=n(86).KEY,l=n(54),u=n(65),d=n(81),p=n(60),h=n(47),g=n(123),f=n(103),v=n(151),m=n(129),b=n(51),y=n(48),w=n(59),k=n(76),S=n(64),O=n(106),j=n(152),A=n(130),_=n(52),E=n(63),T=A.f,D=_.f,x=j.f,P=i.Symbol,C=i.JSON,I=C&&C.stringify,M=h("_hidden"),L=h("toPrimitive"),N={}.propertyIsEnumerable,R=u("symbol-registry"),z=u("symbols"),W=u("op-symbols"),$=Object.prototype,U="function"==typeof P,V=i.QObject,B=!V||!V.prototype||!V.prototype.findChild,F=a&&l(function(){return 7!=O(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=T($,e);i&&delete $[e],D(t,e,n),i&&t!==$&&D($,e,i)}:D,H=function(t){var e=z[t]=O(P.prototype);return e._k=t,e},Q=U&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Y=function(t,e,n){return t===$&&Y(W,e,n),b(t),e=k(e,!0),b(n),o(z,e)?(n.enumerable?(o(t,M)&&t[M][e]&&(t[M][e]=!1),n=O(n,{enumerable:S(0,!1)})):(o(t,M)||D(t,M,S(1,{})),t[M][e]=!0),F(t,e,n)):D(t,e,n)},G=function(t,e){b(t);for(var n,i=v(e=w(e)),o=0,a=i.length;a>o;)Y(t,n=i[o++],e[n]);return t},Z=function(t){var e=N.call(this,t=k(t,!0));return!(this===$&&o(z,t)&&!o(W,t))&&(!(e||!o(this,t)||!o(z,t)||o(this,M)&&this[M][t])||e)},q=function(t,e){if(t=w(t),e=k(e,!0),t!==$||!o(z,e)||o(W,e)){var n=T(t,e);return!n||!o(z,e)||o(t,M)&&t[M][e]||(n.enumerable=!0),n}},K=function(t){for(var e,n=x(w(t)),i=[],a=0;n.length>a;)o(z,e=n[a++])||e==M||e==c||i.push(e);return i},X=function(t){for(var e,n=t===$,i=x(n?W:w(t)),a=[],r=0;i.length>r;)!o(z,e=i[r++])||n&&!o($,e)||a.push(z[e]);return a};U||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===$&&e.call(W,n),o(this,M)&&o(this[M],t)&&(this[M][t]=!1),F(this,t,S(1,n))};return a&&B&&F($,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",function(){return this._k}),A.f=q,_.f=Y,n(124).f=j.f=K,n(72).f=Z,n(82).f=X,a&&!n(66)&&s($,"propertyIsEnumerable",Z,!0),g.f=function(t){return H(h(t))}),r(r.G+r.W+r.F*!U,{Symbol:P});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;J.length>tt;)h(J[tt++]);for(var et=E(h.store),nt=0;et.length>nt;)f(et[nt++]);r(r.S+r.F*!U,"Symbol",{for:function(t){return o(R,t+="")?R[t]:R[t]=P(t)},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){B=!0},useSimple:function(){B=!1}}),r(r.S+r.F*!U,"Object",{create:function(t,e){return void 0===e?O(t):G(O(t),e)},defineProperty:Y,defineProperties:G,getOwnPropertyDescriptor:q,getOwnPropertyNames:K,getOwnPropertySymbols:X}),C&&r(r.S+r.F*(!U||l(function(){var t=P();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e=i[1],(y(e)||void 0!==t)&&!Q(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Q(e))return e}),i[1]=e,I.apply(C,i)}}),P.prototype[L]||n(56)(P.prototype,L,P.prototype.valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(t,e,n){var i=n(63),o=n(82),a=n(72);t.exports=function(t){var e=i(t),n=o.f;if(n)for(var r,s=n(t),c=a.f,l=0;s.length>l;)c.call(t,r=s[l++])&&e.push(r);return e}},function(t,e,n){var i=n(59),o=n(124).f,a={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return r&&"[object Window]"==a.call(t)?function(t){try{return o(t)}catch(t){return r.slice()}}(t):o(i(t))}},function(t,e,n){n(103)("asyncIterator")},function(t,e,n){n(103)("observable")},function(t,e,n){n(84),n(93),n(96),n(157),n(161),n(162),t.exports=n(44).Promise},function(t,e,n){"use strict";var i=n(94),o=n(131),a=n(77),r=n(59);t.exports=n(105)(Array,"Array",function(t,e){this._t=r(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var i,o,a,r,s=n(66),c=n(45),l=n(55),u=n(92),d=n(46),p=n(48),h=n(68),g=n(97),f=n(80),v=n(125),m=n(126).set,b=n(159)(),y=n(104),w=n(127),k=n(160),S=n(128),O=c.TypeError,j=c.process,A=j&&j.versions,_=A&&A.v8||"",E=c.Promise,T="process"==u(j),D=function(){},x=o=y.f,P=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n(47)("species")]=function(t){t(D,D)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(D)instanceof e&&0!==_.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(t){}}(),C=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;b(function(){for(var i=t._v,o=1==t._s,a=0,r=function(e){var n,a,r,s=o?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{s?(o||(2==t._h&&N(t),t._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),r=!0)),n===e.promise?l(O("Promise-chain cycle")):(a=C(n))?a.call(n,c,l):c(n)):l(i)}catch(t){u&&!r&&u.exit(),l(t)}};n.length>a;)r(n[a++]);t._c=[],t._n=!1,e&&!t._h&&M(t)})}},M=function(t){m.call(c,function(){var e,n,i,o=t._v,a=L(t);if(a&&(e=w(function(){T?j.emit("unhandledRejection",o,t):(n=c.onunhandledrejection)?n({promise:t,reason:o}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",o)}),t._h=T||L(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(t){m.call(c,function(){var e;T?j.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},z=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw O("Promise can't be resolved itself");(e=C(t))?b(function(){var i={_w:n,_d:!1};try{e.call(t,l(z,i,1),l(R,i,1))}catch(t){R.call(i,t)}}):(n._v=t,n._s=1,I(n,!1))}catch(t){R.call({_w:n,_d:!1},t)}}};P||(E=function(t){g(this,E,"Promise","_h"),h(t),i.call(this);try{t(l(z,this,1),l(R,this,1))}catch(t){R.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(98)(E.prototype,{then:function(t,e){var n=x(v(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?j.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new i;this.promise=t,this.resolve=l(z,t,1),this.reject=l(R,t,1)},y.f=x=function(t){return t===E||t===r?new a(t):o(t)}),d(d.G+d.W+d.F*!P,{Promise:E}),n(81)(E,"Promise"),n(132)("Promise"),r=n(44).Promise,d(d.S+d.F*!P,"Promise",{reject:function(t){var e=x(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(s||!P),"Promise",{resolve:function(t){return S(s&&this===r?E:this,t)}}),d(d.S+d.F*!(P&&n(107)(function(t){E.all(t).catch(D)})),"Promise",{all:function(t){var e=this,n=x(e),i=n.resolve,o=n.reject,a=w(function(){var n=[],a=0,r=1;f(t,!1,function(t){var s=a++,c=!1;n.push(void 0),r++,e.resolve(t).then(function(t){c||(c=!0,n[s]=t,--r||i(n))},o)}),--r||i(n)});return a.e&&o(a.v),n.promise},race:function(t){var e=this,n=x(e),i=n.reject,o=w(function(){f(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return o.e&&i(o.v),n.promise}})},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(45),o=n(126).set,a=i.MutationObserver||i.WebKitMutationObserver,r=i.process,s=i.Promise,c="process"==n(61)(r);t.exports=function(){var t,e,n,l=function(){var i,o;for(c&&(i=r.domain)&&i.exit();t;){o=t.fn,t=t.next;try{o()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(c)n=function(){r.nextTick(l)};else if(!a||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(l)}}else n=function(){o.call(i,l)};else{var d=!0,p=document.createTextNode("");new a(l).observe(p,{characterData:!0}),n=function(){p.data=d=!d}}return function(i){var o={fn:i,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){var i=n(45).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";var i=n(46),o=n(44),a=n(45),r=n(125),s=n(128);i(i.P+i.R,"Promise",{finally:function(t){var e=r(this,o.Promise||a.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var i=n(46),o=n(104),a=n(127);i(i.S,"Promise",{try:function(t){var e=o.f(this),n=a(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(2),o=n(0),a=n(30),r=n(1),s=n(11);function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=Object(r.freeze)({ns_st_ci:"*null",ns_st_cl:"*null",ns_st_st:"*null",ns_st_pu:"*null",ns_st_pr:"*null",ns_st_ep:"*null",ns_st_sn:"*null",ns_st_en:"*null",ns_st_ge:"*null",ns_st_ti:"*null",ns_st_ia:"*null",ns_st_ce:"*null",ns_st_ddt:"*null",ns_st_tdt:"*null",ns_st_ct:"vc",c3:"*null",c4:"*null",c6:"*null"});function u(){return!(!window.ns_||"function"!=typeof window.ns_.StreamingTag)}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"ERROR: Comscore PoWa Plugin - ".concat(t)}var p=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=n.id,this.powa=window.powas[this.id].powa,this.orgID=n.orgID,this.comscoreID=n.comscoreID,this.contentType=n.contentType,this.genre=n.genre,this.categoryFilter=n.categoryFilter?n.categoryFilter:s.a,!(this.id&&this.powa&&this.orgID&&this.comscoreID))return this.id||console.error(d("missing id")),this.powa||console.error(d("missing powa")),this.orgID||console.error(d("missing orgID")),this.comscoreID||console.error(d("missing comscoreID")),null;this.queue=[],Object(r.bindAll)(this),Object(i.forEach)(o.t,function(t){e[t]&&e.powa.on(t,e.tryEvent)}),function(t,e){if(u())t();else{var n=document.querySelector('script[src="'.concat(Object(a.a)(),'"]'));n?(n.addEventListener("load",t),n.addEventListener("error",e)):Object(r.loadScript)(Object(a.a)(),t,e)}}(function(){e.queue.forEach(e.tryEvent)},function(t){return console.error(d("failed to load ".concat(Object(a.a)())))})}var e,n,p;return e=t,(n=[{key:"createComscoreTag",value:function(){u()&&(this.comscoreTag=new window.ns_.StreamingTag({customerC2:this.comscoreID}))}},{key:"comscoreAdPlay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*null";this.comscoreTag&&this.comscoreTag.playVideoAdvertisement({ns_st_cl:t,ns_st_ct:"va31"})}},{key:"comscorePlay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.comscoreTag){var e=Object(i.extend)(l,Object(i.defined)({ns_st_ci:t._id,ns_st_cl:t.duration,ns_st_ep:t.headlines.basic,ns_st_pr:this.categoryFilter(t.additional_properties.videoCategory),ns_st_pu:t.source.name,ns_st_ct:this.contentType,ns_st_ge:this.genre,c3:this.orgID}));this.comscoreTag.playVideoContentPart(e)}}},{key:"comscoreStop",value:function(){this.comscoreTag&&this.comscoreTag.stop()}},{key:"adComplete",value:function(){this.comscoreStop()}},{key:"adStart",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(r.get)(t,"adMeta.duration");e=e?e*o.g:e,this.comscoreAdPlay(e)}},{key:"pause",value:function(t){this.comscoreStop()}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.comscorePlay(t.videoData)}},{key:"start",value:function(t){this.createComscoreTag()}},{key:"tryEvent",value:function(t){u()?this[t.type](t):this.queue.push(t)}}])&&c(e.prototype,n),p&&c(e,p),t}()},function(t,e,n){n(165),t.exports=n(44).Array.includes},function(t,e,n){"use strict";var i=n(46),o=n(91)(!0);i(i.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(94)("includes")},function(t,e,n){n(167),t.exports=n(44).Array.find},function(t,e,n){"use strict";var i=n(46),o=n(102)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),i(i.P+i.F*a,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(94)("find")},function(t,e,n){var i=n(169);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(48),o=n(129),a=n(47)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),i(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){n(171),t.exports=n(44).Array.findIndex},function(t,e,n){"use strict";var i=n(46),o=n(102)(6),a="findIndex",r=!0;a in[]&&Array(1)[a](function(){r=!1}),i(i.P+i.F*r,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(94)(a)},function(t,e,n){n(173),t.exports=n(44).Object.keys},function(t,e,n){var i=n(69),o=n(63);n(174)("keys",function(){return function(t){return o(i(t))}})},function(t,e,n){var i=n(46),o=n(44),a=n(54);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],r={};r[t]=e(n),i(i.S+i.F*a(function(){n(1)}),"Object",r)}},function(t,e,n){n(176),t.exports=n(44).String.includes},function(t,e,n){"use strict";var i=n(46),o=n(108);i(i.P+i.F*n(109)("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(84),n(96),n(178),n(182),n(183),t.exports=n(44).WeakMap},function(t,e,n){"use strict";var i,o=n(45),a=n(102)(0),r=n(57),s=n(86),c=n(95),l=n(179),u=n(48),d=n(83),p=n(83),h=!o.ActiveXObject&&"ActiveXObject"in o,g=s.getWeak,f=Object.isExtensible,v=l.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(u(t)){var e=g(t);return!0===e?v(d(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(d(this,"WeakMap"),t,e)}},y=t.exports=n(116)("WeakMap",m,b,l,!0,!0);p&&h&&(c((i=l.getConstructor(m,"WeakMap")).prototype,b),s.NEED=!0,a(["delete","has","get","set"],function(t){var e=y.prototype,n=e[t];r(e,t,function(e,o){if(u(e)&&!f(e)){this._f||(this._f=new i);var a=this._f[t](e,o);return"set"==t?this:a}return n.call(this,e,o)})}))},function(t,e,n){"use strict";var i=n(98),o=n(86).getWeak,a=n(51),r=n(48),s=n(97),c=n(80),l=n(102),u=n(53),d=n(83),p=l(5),h=l(6),g=0,f=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},m=function(t,e){return p(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,a){var l=t(function(t,i){s(t,l,e,"_i"),t._t=e,t._i=g++,t._l=void 0,null!=i&&c(i,n,t[a],t)});return i(l.prototype,{delete:function(t){if(!r(t))return!1;var n=o(t);return!0===n?f(d(this,e)).delete(t):n&&u(n,this._i)&&delete n[this._i]},has:function(t){if(!r(t))return!1;var n=o(t);return!0===n?f(d(this,e)).has(t):n&&u(n,this._i)}}),l},def:function(t,e,n){var i=o(a(e),!0);return!0===i?f(t).set(e,n):i[t._i]=n,t},ufstore:f}},function(t,e,n){var i=n(48),o=n(181).set;t.exports=function(t,e,n){var a,r=e.constructor;return r!==n&&"function"==typeof r&&(a=r.prototype)!==n.prototype&&i(a)&&o&&o(t,a),t}},function(t,e,n){var i=n(48),o=n(51),a=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(55)(Function.call,n(130).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:a}},function(t,e,n){n(117)("WeakMap")},function(t,e,n){n(118)("WeakMap")},function(t,e,n){n(84),n(93),n(96),n(185),n(186),n(188),n(189),t.exports=n(44).Set},function(t,e,n){"use strict";var i=n(133),o=n(83);t.exports=n(116)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(o(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){var i=n(46);i(i.P+i.R,"Set",{toJSON:n(134)("Set")})},function(t,e,n){var i=n(80);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e,n){n(117)("Set")},function(t,e,n){n(118)("Set")},function(t,e,n){n(84),n(93),n(96),n(191),n(192),n(193),n(194),t.exports=n(44).Map},function(t,e,n){"use strict";var i=n(133),o=n(83);t.exports=n(116)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(o(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(o(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){var i=n(46);i(i.P+i.R,"Map",{toJSON:n(134)("Map")})},function(t,e,n){n(117)("Map")},function(t,e,n){n(118)("Map")},function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return p});var i,o=n(1);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=["promoPlay","start"];function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"ERROR: Chartbeat PoWa Plugin - ".concat(t)}function u(t){window._cbv_strategies=window._cbv_strategies||[],window._cbv_strategies.push(h),function(t){var e=window._cbv||(window._cbv=[]);window._sf_async_config&&(window._sf_async_config.autoDetect=!1),e.push(t)}(t)}function d(t){(i=i||!1)||Object(o.loadScript)("https://static.chartbeat.com/js/chartbeat_video.js",function(){},console.error),i=!0,u(t)}var p=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t),this.orgID=e.orgID,this.chartbeatID=e.chartbeatID,window._sf_async_config=Object.assign({},window._sf_async_config,{uid:this.chartbeatID,domain:window.location&&window.location.hostname?window.location.hostname:"",path:document.location.pathname,useCanonical:!0,title:"PoWa",playerdomain:window.location&&window.location.hostname?window.location.hostname:""})},h=function(){function t(e){var n=this;if(s(this,t),this.id=e.powa.getID(),this.player=window.powas[this.id].powa,this.powaTrack=e.powaTrack,this._startedPlayTs=Date.now(),this._lastPlayTs,this._totaTimeSincePlay=0,this._sawPreroll=!1,this._complete=!1,this._playType,this.currentVideoData=this.player.getVideoData(),!this.id||!this.player)return this.id||console.error(l("missing id")),this.player||console.error(l("missing powa")),null;Object(o.bindAll)(this),this.player.on("playback0",function(t){n._startedPlayTs=Date.now(),n._complete=!1,n.currentVideoData=n.player.getVideoData()}),this.player.on("play",function(t){n._lastPlayTs=Date.now()}),this.player.on("complete",function(t){n._complete=!0}),this.player.on("adStart",function(t){n._sawPreroll=!0})}var e,n,i;return e=t,(n=[{key:"isReady",value:function(){return void 0!==this.player}},{key:"getTitle",value:function(){try{return this.currentVideoData.headlines.basic}catch(t){return""}}},{key:"getVideoPath",value:function(){try{return this.currentVideoData._id}catch(t){return""}}},{key:"getContentType",value:function(){try{return this.player.getStatus().adRunning?t.ContentType.AD:t.ContentType.CONTENT}catch(e){return t.ContentType.CONTENT}}},{key:"getAdPosition",value:function(){return t.AdPosition.PREROLL}},{key:"getTotalDuration",value:function(){try{return this.currentVideoData.duration}catch(t){return 0}}},{key:"getState",value:function(){try{var e=this.player.getStatus().state;return"playing"===e?t.VideoState.PLAYED:"paused"===e?t.VideoState.STOPPED:this._complete?t.VideoState.COMPLETED:t.VideoState.UNPLAYED}catch(t){return""}}},{key:"getCurrentPlayTime",value:function(){try{return this.player.getStatus().time}catch(t){return 0}}},{key:"getBitrate",value:function(){}},{key:"getThumbnailPath",value:function(){try{return this.player.getElement().querySelector(".powa-shot-image").style.backgroundImage.replace(/^url\("/,"").replace(/"\)$/,"")}catch(t){return""}}},{key:"getPlayerType",value:function(){try{return this.currentVideoData.type}catch(t){return""}}},{key:"getViewStartTime",value:function(){return this._startedPlayTs?Date.now()-this._startedPlayTs:0}},{key:"getViewPlayTime",value:function(){try{if("playing"===this.player.getState()&&this._lastPlayTs)return this._totaTimeSincePlay+Date.now()-this._lastPlayTs}catch(t){return this._totaTimeSincePlay}}},{key:"getViewAdPlayTime",value:function(){return this._sawPreroll&&this._lastPlayTs?Date.now()-this._startedPlayTs:0}},{key:"getStrategyName",value:function(){return this.player.getElement().getAttribute("data-org")}},{key:"getAutoplayType",value:function(){return this._playType=this._playType||function(t){for(var e=0;e<t.length;e++)if(c.includes(t[e].event))return t[e].event}(this.powaTrack),this._complete?t.AutoplayType.CONTINUOUS:"promoPlay"===this._playType?t.AutoplayType.MANUAL:"start"==this._playType?t.AutoplayType.AUTOPLAY:t.AutoplayType.UNKNOWN}},{key:"getSections",value:function(){try{return this.currentVideoData.taxonomy.sections.map(function(t){return t.name})}catch(t){return""}}}])&&r(e.prototype,n),i&&r(e,i),t}();h.verify=function(t){return t.powa&&"object"===a(t.powa)&&"object"===a(t.powa.getVideoData())},h.ContentType={AD:"ad",CONTENT:"ct"},h.AdPosition={PREROLL:"a1",MIDROLL:"a2",POSTROLL:"a3",OVERLAY:"a4",SPECIAL:"a5"},h.VideoState={UNPLAYED:"s1",PLAYED:"s2",STOPPED:"s3",COMPLETED:"s4"},h.AutoplayType={UNKNOWN:"unkn",MANUAL:"man",AUTOPLAY:"auto",CONTINUOUS:"cont"}},function(t,e,n){"use strict";n.r(e),n.d(e,"PoWaDrive",function(){return q});n(135);var i=n(10),o=n(136),a=n(74),r=n(112),s=n(115),c=n(114),l=n(0),u=n(113),d=n(30),p=n(2),h=n(1);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}var m="PoWaDrive",b=Object(h.freeze)({AUTOINIT:{TRUE:!0,FALSE:!1,NATIVE_HLS:"native-hls"},DEBUG:{TRUE:!0,FALSE:!1,FULL:"full"}}),y=Object(h.freeze)({ads:!0,adHacks:!0,autoplay:!1,autoinit:b.AUTOINIT.NATIVE_HLS,debug:b.DEBUG.FALSE});Object(h.set)(window,"PoWaSettings.powaUp.element",[],!1),Object(h.set)(window,"PoWaSettings.powaUp.videoData",[],!1);var w=Object(h.freeze)({advertising:{},imageResizer:function(t){return t.url},maxBitrate:{mobile:300,tablet:600,desktop:2e3},promo:{size:"medium"},streamPreference:["_master.m3u8","_mobile.m3u8",".m3u8",".mp4",".webm"]}),k=Object(h.freeze)({additional_properties:{imageResizerUrls:[]},canonical_url:"",headlines:{},promo_image:{},streams:[],subtitles:{urls:[]}}),S=new WeakMap,O=new WeakMap,j=new WeakMap,A=new WeakMap;function _(t){return Object(h.ensureDataset)(t),function(t){var e=t.getAttribute("id");if(!e){var n=Object(p.mapObj)(t.dataset,h.parseString);e="powa-".concat(n.uuid?n.uuid:Date.now(),"-").concat(n.powaIndex),t.setAttribute("id",e)}}(t),t}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.noop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.noop,i=S.get(this);function o(e){var o=Object(p.find)(i.playlist,function(e){return e.uuid===t._id});o&&(o.error=!0),n(Object(p.extend)({error:"incomplete video data",videoData:t},e))}(t=Object(p.extend)(k,t))._id?t.headlines.basic?t.streams.length?t.promo_image.url?"live"===t.video_type&&"ended"===t.status?o({message:"livestream ended",error:"livestream ended"}):e(t):o({message:"video data missing image"}):o({message:"video data missing streams"}):o({message:"video data missing title"}):o({message:"video data missing uuid"})}function T(t){if(!t)return null;var e=PoWaSettings.client.isMobile?"mobile":PoWaSettings.client.isTablet?"tablet":"desktop",n=D(t),i=Object(h.get)(t,"mediaTailor.manifestURL");return{promo:n,streams:i?[i]:Object(h.selectStreams)({streams:t.streams,live:"live"===t.video_type,maxBitrate:PoWaSettings.maxBitrate[e],streamPreference:PoWaSettings.streamPreference}),tracks:function(t){return!t.additional_properties.doNotShowTranscripts&&Object(h.get)(t,"subtitles.urls.length")&&Object(p.some)(t.subtitles.urls,function(t){return"WEB_VTT"===t.format})?t.subtitles.urls:null}(t)}}function D(t){var e=Object(p.find)(t.additional_properties.imageResizerUrls,function(t){return t&&t.size&&t.size===PoWaSettings.promo.size});return{image:Object(h.protocolAgnosticURL)(!1!==PoWaSettings.promo.resized&&e&&e.url?e.url:PoWaSettings.imageResizer?PoWaSettings.imageResizer(t.promo_image):t.promo_image),title:t.headlines.basic,videoData:t}}function x(t){H.call(this),j.get(this).trigger(l.t.POWA_ERROR,{error:t,id:O.get(this).elementID,powa:this})}function P(t){return window.powaData=window.powaData||{},Object(h.isObject)(t)&&t._id&&(powaData[t._id]=t),t}function C(t){var e=t.apiResponse,n=e.uuid||null,i=e.playlistName||null;return e=e.playlistItems||e,e=Array.isArray(e)?e:[e],Promise.resolve(Object(p.extend)(t,{videoDataList:e,playlistUUID:n,playlistName:i}))}function I(t){var e=Object(h.get)(t,"videoDataList[0]");return"geo-restriction"===Object(h.get)(e,"type")?e.until?Promise.reject({eventID:932,error:"time-restriction",geo:e,message:"This video is not currently available."}):Promise.reject({eventID:931,error:"geo-restriction",geo:e,message:"This video is geo-restricted."}):Promise.resolve(t)}function M(t){var e=t.api,n=t.org,i=t.powaTrack,o=t.site,a=t.state,r=t.uuid,s=Object(h.get)(t,"videoDataList[0].content_restrictions.geo.restrictions.length");return clearTimeout(a.geoTO),s&&PoWaSettings.geoAPI({api:e,org:n,site:o,uuid:r}).then(function(t){if(t.until){var e=Date.now(),n=new Date(t.until)-e;a.geoTO=setTimeout(function(){a.powa&&a.powa.pause(),i.trigger(l.t.ERROR,{eventID:933,error:"time-window ended",message:"This video's availability has ended."})},n)}}).catch(function(t){console.error(t)}),Promise.resolve(t)}function L(t){var e=Object(h.get)(t,"videoDataList[0].video_type"),n=Object(h.get)(t,"videoDataList[0].status"),i=Object(h.get)(t,"videoDataList[0].additional_properties.livePlayThroughToVod");return"live"!==e||"ended"!==n||i?Promise.resolve(t):Promise.reject({eventID:934,error:"livestream ended",message:"This live stream has ended.",videoData:Object(h.get)(t,"videoDataList[0]")})}function N(t){var e=Object(h.get)(t,"videoDataList[0]");return e?(t.state.videoData=e,Promise.resolve(t)):Promise.reject({error:"no video data"})}function R(t){return new Promise(function(e,n){var i=t.context,o=t.videoDataList;PoWaSettings.powaUp.videoData.reduce(function(t,e){return t.then(function(t){return e(t,i)})},Promise.resolve(o)).then(function(n){e(Object(p.extend)(t,{videoDataList:n}))}).catch(n)})}function z(t){return t.videoDataList.forEach(P),Promise.resolve(t)}function W(t){var e=t.context,n=t.playlistUUID,i=t.playlistName,o=t.state,a=t.videoDataList,r=o.playlist||[];return r=Object(p.find)(r,function(t){return t.uuid===a[0]._id})?r:a,e.setPlaylist(r),n?o.playlistUUID=n:delete o.playlistUUID,i?o.playlistName=i:delete o.playlistName,Promise.resolve(t)}function $(t){return Promise.resolve(t.videoDataList[0])}function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.noop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.noop,i=j.get(this),o=O.get(this),a=S.get(this),r=o.api,s=o.org,c=o.site,l=t.uuid;(function(t){return new Promise(function(e,n){window.powaData=window.powaData||{};var i=t.api,o=t.org,a=t.playlist,r=t.site,s=t.uuid;s&&powaData[s]?e(Object(p.extend)(t,{apiResponse:powaData[s]})):PoWaSettings.videoAPI({api:i,org:o,playlist:a,site:r,type:s?"video":"playlist",uuid:s}).then(function(n){e(Object(p.extend)(t,{apiResponse:n}))}).catch(n)})})({api:r,context:this,org:s,playlist:t.playlist,powaTrack:i,settings:o,site:c,state:a,uuid:l}).then(C).then(I).then(M).then(L).then(N).then(R).then(z).then(W).then($).then(e).catch(n)}function V(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.noop,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.noop,o=S.get(this);E.call(this,t,function(t){o.powa?(o.videoData=t,H.call(e),o.powa.once(l.t.LOADED,n),o.powa.loadVideo(T(t))):G.call(e,t)},i)}var B=/^93\d$/;function F(t){var e=S.get(this);console.error("[".concat(m,"] error -"),Object(h.get)(t,"message",t)),j.get(this).trigger("error",t),B.test(t.eventID)||e.powa||x.call(this,t)}function H(){var t=O.get(this);Object(h.set)(window,"powas.".concat(t.elementID,".powa"),this,!1)}function Q(t){var e=this,n=S.get(this),a=O.get(this),r=j.get(this),s=A.get(this),c=D(n.videoData),u=Object(p.chain)(y).pick(["ads","adHacks","autoplay"]).extend({debug:!1,id:a.elementID,hlsjsURL:Object(d.e)(a.org),video:T(n.videoData),ready:function(t){n.powa=t.powa,e.updaters.forEach(function(t){return n.powa.statusUpdater(t)}),delete e.updaters,function(){var t=this,e=S.get(this),n={onAdCompanions:function(t){var e=S.get(this);Object(h.get)(e,"state.$adCompanionContainer.elements[0]")&&Object(h.get)(t,"adCompanions.length")&&e.$adCompanionContainer.append(Object(i.$)(t.adCompanions[0].content))},onAdEnd:function(){var t=S.get(this);Object(h.get)(t,"$adCompanionContainer.empty")&&t.$adCompanionContainer.empty()},onComplete:function(){this.next()},onError:function(){var t=S.get(this),e=Object(p.find)(t.playlist,function(e){return e.uuid===t.videoData._id});e&&(e.error=!0),this.next()},onStart:function(){var t=S.get(this),e=Object(p.find)(t.playlist,function(e){return e.uuid===t.videoData._id});e&&(e.played=!0),this.trigger(l.k.PLAYLIST)}};Object(p.forEach)(l.t,function(i){var o="on".concat(i[0].toUpperCase()+i.slice(1));n[o]&&e.powa.on(i,n[o].bind(t))})}.call(e)},error:function(t){x.call(e,t)},poster:c.image,powaDrive:this,powaTrack:r,powaSellAdTag:s,promo:c}).extend(this.getDataset()).extend(t).value();"default"===u.promo&&(u.promoDefault=!0),!Object(h.has)(u,"muted")&&!Object(h.has)(u,"volume")||Object(h.has)(u,"stashVolume")||(u.stashVolume=!1),u.promo=c,u.id=a.elementID,u.debug=a.element.debug===b.DEBUG.FULL,u.powaOutage=n.$powaOutage,new o.PoWa(u)}function Y(){var t=S.get(this);j.get(this).off(a.a.EVENTS.PROMO_PLAY,t.promoPlayCallback),delete t.promoPlayCallback,Q.call(this,{initplay:!0,$container:t.$container,$promo:t.$promo})}function G(t){var e=S.get(this),n=O.get(this);switch(e.videoData=t,H.call(this),function(){var t=S.get(this),e=O.get(this);if(e.element.dataset.adCompanion){var n=e.element.dataset.adCompanion.replace(/^#/,"");t.$adCompanionContainer=Object(i.$)("#".concat(n))}}.call(this),PoWaSettings.videoSupport=PoWaSettings.videoSupport||Object(h.getVideoSupport)(),n.hls){case"native":PoWaSettings.videoSupport.hls=!0;break;case"js":PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!0;break;case"none":PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!1}var o=Object(h.get)(PoWaSettings,"videoSupport.hls");!!n.autoplay||(!!n.adPreload||"live"!==t.video_type&&(!(n.autoinit!==b.AUTOINIT.NATIVE_HLS||!o)||!0===n.autoinit))?Q.call(this,{$container:e.$container}):function(){var t=S.get(this),e=j.get(this),n=O.get(this),i=j.get(this),o=D(t.videoData);if(t.$promo){var r=T(t.videoData).promo;t.$promo.update(r)}else t.$promo=new a.a({powa:this,powaTrack:i,data:o,id:n.elementID,$container:t.$container,style:PoWaSettings.promo.style,template:PoWaSettings.promo.template,default:"default"===n.element.dataset.promo}),t.promoPlayCallback=Y.bind(this),e.on(a.a.EVENTS.PROMO_PLAY,t.promoPlayCallback)}.call(this)}function Z(t,e){return Object.assign({id:this.getID(),element:this.getElement(),powa:this,playlist:this.getPlaylist(),playlistMeta:this.getPlaylistMeta(),videoData:this.getVideoData()},t)}var q=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(h.bindAll)(this),!(e=_(e)))return x.call(this,{error:"invalid element",message:"PoWa element is invalid"}),null;var i=Object(p.extend)(y,Object(p.mapObj)(e.dataset,h.parseString),{element:e,elementID:e.id});i.org=i.org||Object(h.get)(PoWaSettings,"org"),i.env=i.env||Object(d.b)(),i.api=i.api?i.api:"sandbox"===i.env?"sandbox":"prod";var o=new s.a(Object(p.extend)({org:i.org,id:i.elementID,debug:!!i.debug,extender:Z.bind(this)},PoWaSettings.powaTrack,Object(p.pick)(i,"keepHistory")));j.set(this,o),this.updaters=[];var a=Object(p.extend)(Object(p.defined)({powa:this,element:i.element,aspectRatio:i.aspectRatio,client:PoWaSettings.client}),Object(h.get)(PoWaSettings,"container",{}));if(i.ads){var l=new c.a({powaTrack:o,powa:this,adPreload:!!i.adPreload});A.set(this,l)}S.set(this,{$container:new u.a(a),playlist:[]}),O.set(this,i),function(){window.PoWaSettings=window.PoWaSettings||{},PoWaSettings=Object(p.extend)(w,PoWaSettings),PoWaSettings.client=PoWaSettings.client||Object(h.sniffClient)()}.call(this),function(){var t=S.get(this),e=O.get(this),n=j.get(this);t.$powaOutage=new r.a({powa:this,powaTrack:n,id:e.elementID,$container:t.$container,style:PoWaSettings.error?PoWaSettings.error.style:void 0,template:PoWaSettings.error?PoWaSettings.error.template:void 0,default:"default"===e.element.dataset.error})}.call(this),i.playlist?U.call(this,{playlist:i.playlist},function(t){E.call(n,t,G.bind(n),F.bind(n))},F.bind(this)):i.uuid?U.call(this,{uuid:i.uuid},function(t){E.call(n,t,G.bind(n),F.bind(n))},F.bind(this)):F.call(this,{error:"missing stream ID",message:'Neither "data-uuid" nor "data-playlist" provided.'})}return v(t,null,[{key:"BUILD",get:function(){return"befc40d6"}},{key:"VERSION",get:function(){return"3.3.0"}}]),v(t,[{key:"destroy",value:function(){var t=S.get(this);t.powa&&(t.powa.destroy(),delete t.powa)}},{key:"fullscreen",value:function(t){var e=this.get$container();e&&e.fullscreen(t)}},{key:"get$container",value:function(){return S.get(this).$container}},{key:"get$video",value:function(){var t=S.get(this);return t.powa?t.powa.get$video():null}},{key:"getAdTag",value:function(t){var e=A.get(this);return e?e.getAdTag(t):Promise.reject("No powaSellAdTag")}},{key:"getAPI",value:function(){return O.get(this).api}},{key:"getDataset",value:function(){var t=Object(h.ensureDataset)(this.getElement()).dataset;return Object(p.mapObj)(t,h.parseString)}},{key:"getElement",value:function(){return O.get(this).element}},{key:"getEnv",value:function(){return O.get(this).env}},{key:"getHeight",value:function(){return S.get(this).$container.height()}},{key:"getID",value:function(){return O.get(this).elementID}},{key:"getOrg",value:function(){return O.get(this).org}},{key:"getPlaylist",value:function(){return S.get(this).playlist.map(function(t){return powaData[t.uuid]||t.uuid})}},{key:"getPlaylistMeta",value:function(){var t=S.get(this),e=this.getVideoData()._id,n={currentIndex:e?t.playlist.findIndex(function(t){return t.uuid===e}):null,playlistStatus:t.playlist};return t.playlistName&&(n.name=t.playlistName),t.playlistUUID&&(n.uuid=t.playlistUUID),n}},{key:"getStatus",value:function(){var t=S.get(this);return t.powa?t.powa.getStatus():{}}},{key:"getVideoData",value:function(){return S.get(this).videoData||{}}},{key:"getVideoElement",value:function(){var t=S.get(this);return t.powa?t.powa.getVideoElement():null}},{key:"getWidth",value:function(){return S.get(this).$container.width()}},{key:"hideControls",value:function(){var t=S.get(this);t.powa&&t.powa.hideControls()}},{key:"hidePromo",value:function(){var t=S.get(this);t.powa&&t.powa.hidePromo()}},{key:"hideSubtitles",value:function(){var t=S.get(this);t.powa&&t.powa.hideSubtitles()}},{key:"isFullscreen",value:function(){var t=this.get$container();return t?t.isFullscreen():null}},{key:"jump",value:function(t){var e=S.get(this);return e.powa?e.powa.jump(t):null}},{key:"loadAd",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=S.get(this);n.powa&&n.powa.loadAd(t,e)}},{key:"loadVideo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.noop,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.noop,o=S.get(this),a=function(t){F.call(e,t),i(t)};switch(g(t)){case"string":o.videoData&&t===o.videoData._id?n():U.call(this,{uuid:t},function(t){V.call(e,t,n,a)},a);break;case"object":o.videoData&&t._id===o.videoData._id?n():V.call(this,t,n,a)}}},{key:"mute",value:function(t){var e=S.get(this);return e.powa?e.powa.mute(t):null}},{key:"muted",value:function(){var t=S.get(this);return t.powa?t.powa.muted():null}},{key:"next",value:function(){var t=S.get(this),e=t.playlist||[],n=e.findIndex(function(e){return e.uuid===t.videoData._id});if(n>=0){var i=n+1;if(i<e.length)return this.loadVideo(e[i].uuid,t.powa.play),!0;this.trigger(l.k.PLAYLIST_COMPLETE)}return!1}},{key:"pause",value:function(){var t=S.get(this);t.powa&&t.powa.pause()}},{key:"play",value:function(){var t=S.get(this);t.powa?t.powa.play():Y.call(this)}},{key:"powaTrackExtend",value:function(t){var e=j.get(this);e&&e.extend(t)}},{key:"prev",value:function(){var t=S.get(this),e=t.playlist||[],n=e.findIndex(function(e){return e.uuid===t.videoData._id});if(n>0){var i=n-1;return this.loadVideo(e[i].uuid,t.powa.play),!0}return!1}},{key:"seekLive",value:function(){var t=S.get(this);return t.powa?t.powa.seekLive():null}},{key:"seekPosition",value:function(t){var e=S.get(this);return e.powa?e.powa.seekPosition(t):null}},{key:"seekTime",value:function(t){var e=S.get(this);return e.powa?e.powa.seekTime(t):null}},{key:"setPlaylist",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=S.get(this);if(t!==e.playlist&&Array.isArray(t)){var n=e.playlist;e.playlist=Object(p.chain)(t).forEach(P).map(function(t){var e="string"==typeof t?t:t.uuid?t.uuid:t._id?t._id:null;if(e){var i=Object(p.find)(n,function(t){return t.uuid===e}),o=i?i.played:Object(h.get)(t,"played",!1),a=i?i.error:Object(h.get)(t,"error",!1);return{uuid:e,played:o,error:a}}}).compact().value(),this.trigger(l.k.PLAYLIST_LOADED)}}},{key:"showControls",value:function(){var t=S.get(this);t.powa&&t.powa.showControls()}},{key:"showPromo",value:function(){var t=S.get(this);t.powa&&t.powa.showPromo()}},{key:"showSubtitles",value:function(t){var e=S.get(this);e.powa&&e.powa.showSubtitles(t)}},{key:"skipAd",value:function(){var t=S.get(this);t.powa&&t.powa.skipAd()}},{key:"startAd",value:function(){var t=S.get(this);t.powa&&t.powa.startAd()}},{key:"statusUpdater",value:function(t){var e=S.get(this);e.powa?e.powa.statusUpdater(t):this.updaters.push(t)}},{key:"togglePlay",value:function(){var t=S.get(this);t.powa?t.powa.togglePlay():Y.call(this)}},{key:"toggleSubtitles",value:function(){var t=S.get(this);t.powa&&t.powa.toggleSubtitles()}},{key:"volume",value:function(t){var e=S.get(this);return e.powa?e.powa.volume(t):null}},{key:"on",value:function(t,e,n){var i=S.get(this);!i.$container||t!==l.t.VIEWABLE&&t!==l.t.NOT_VIEWABLE?j.get(this).on(t,e):i.$container.on(t,e,n)}},{key:"off",value:function(t,e){var n=S.get(this);!n.$container||t!==l.t.VIEWABLE&&t!==l.t.NOT_VIEWABLE?j.get(this).off(t,e):n.$container.off(t,e)}},{key:"once",value:function(t,e,n){var i=S.get(this);!i.$container||t!==l.t.VIEWABLE&&t!==l.t.NOT_VIEWABLE?j.get(this).once(t,e,n):i.$container.once(t,e,n)}},{key:"onceIf",value:function(t,e,n,i){var o=S.get(this);!o.$container||t!==l.t.VIEWABLE&&t!==l.t.NOT_VIEWABLE?j.get(this).onceIf(t,e,n,i):o.$container.onceIf(t,n,i)}},{key:"until",value:function(t,e,n,i){var o=S.get(this);!o.$container||t!==l.t.VIEWABLE&&t!==l.t.NOT_VIEWABLE?j.get(this).until(t,e,n,i):o.$container.until(t,n,i)}},{key:"trigger",value:function(t,e){j.get(this).trigger(t,e)}}]),t}();window.PoWaDrive=q},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(1),o=n(0),a=n(10),r=n(2);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c="powa-blurb";var l=Object(i.freeze)({style:'\n\t.powa-blurb-wrapper {\n\t\tpadding-top: 4px;\n\t\tfont-size: 15px;\n\t\tcolor: #6e6e6e;\n\t\tline-height: 1.25;\n\t\tfont-family: "Helvetica Neue";\n\t}\n',template:function(t){var e,n=t.getVideoData(),o=Object(i.get)(n,"subheadlines.basic",""),a=Object(i.get)(n,"description.basic",""),r=Object(i.get)(n,"headlines.basic","");e="live"===Object(i.get)(n,"video_type")&&o?o:!a&&o?o:a||o||!r?a:r;for(var s=Object(i.get)(n,"credits.by",[]),c=Object(i.get)(n,"credits.by[0].org",""),l=Object(i.get)(n,"promo_image.credits.by[0].name",""),u=[],d=0;d<s.length;d++)s[d].name&&u.push(s[d].name),s[d].org&&!c&&(c=s[d].org);var p=u.length>0&&l?"Video: ":"",h=u.length>0&&l?"/Photo: ":l?"Photo: ":"",g="".concat(p).concat(u.join(", ")).concat(h).concat(l);return c&&(g.length>0&&(g+="/"),g+="".concat(c)),'\n\t\t<span class="powa-blurb">'.concat(e," ").concat(g?"(".concat(g,")"):"","</span>\n\t").trim()}}),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=Object(r.extend)(l,e),!this.settings.id&&!this.settings.powa)throw"Invalid settings to setup Blurb";var n,s=this.settings.powa.getDataset();Object(i.has)(s,"blurb")&&!s.blurb||(Object(i.addCSS)(this.settings.style,c),this._powa=this.settings.powa,this._$powaEl=Object(a.$)(this.settings.powa.getElement()),this._$container=Object(a.$)((n=this.settings.id,'<div class="powa-blurb-wrapper" id="blurb-'.concat(n,'"></div>'))),this.injectContainer(this._$container),this.setBlurb=this.setBlurb.bind(this),this.setBlurb(),this._powa.on(o.t.START,this.setBlurb))}var e,n,u;return e=t,(n=[{key:"injectContainer",value:function(t){var e=t.element;document.body.contains(e)||this._$powaEl.after(t)}},{key:"setBlurb",value:function(){var t=this.settings.template(this._powa);this._$container.html(t)}}])&&s(e.prototype,n),u&&s(e,u),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(1),o=n(2),a=n(0);function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var l="BANDITO",u=Object(i.freeze)({BANDITO_CLICK:"banditoClick",BANDITO_IMPRESSION:"banditoImpression"}),d=Object(i.freeze)({debug:!1,enabledByDefault:!0});Object(i.set)(window,"PoWaSettings.powaUp.videoData",[]);var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=Object(o.extend)(d,e),Object(i.bindAll)(this),this.settings.debug&&console.debug("[".concat(l,"] instantiated")),PoWaSettings.powaUp.videoData.push(this.frisk)}return c(t,null,[{key:"EVENTS",get:function(){return u}}]),c(t,[{key:"frisk",value:function(t,e){var n=this;return new Promise(function(o,s){var c=e.getDataset(),d=Object(i.has)(c,"bandito")?c.bandito:n.settings.enabledByDefault,p=t[0],h=Object(i.get)(p,"_id")===c.uuid,g=Object(i.get)(p,"additional_properties.useVariants"),f=Object(i.get)(p,"additional_properties.videoId");d&&h&&g&&!c.autoplay?Object(i.ajaxGET)(n.settings.endpoints.variant(f),function(s){var c=t.shift();if(s=s?JSON.parse(s):null,s=Object(i.get)(s,"length")?s[0]:null,n.settings.debug&&console.debug("[".concat(l,"][frisk] variant"),s),s){c.additional_properties.variant=s;var d=Object(i.get)(s,"winner_title"),p=Object(i.get)(s,"winner_thumbnail");if(d&&Object(i.set)(c,"bandito.title",d),p){var h=p.endsWith(".mp4")?"video":"image";Object(i.set)(c,"bandito.".concat(h),p)}e.once(a.t.VIEWABLE,function(){n.dropTheDime(u.BANDITO_IMPRESSION,s,e)}),e.once(a.t.PROMO_PLAY,function(){n.dropTheDime(u.BANDITO_CLICK,s,e)})}o([c].concat(r(t)))},function(){n.settings.debug&&console.debug("[".concat(l,"][frisk] error fetching variant")),o(t)}):(n.settings.debug&&console.debug("[".concat(l,"][frisk] not fetching variant")),o(t))})}},{key:"dropTheDime",value:function(t,e,n){this.settings.debug&&console.debug("[".concat(l,"][dropTheDime] ").concat(t),e);var o=t===u.BANDITO_CLICK?"clicked":t===u.BANDITO_IMPRESSION?"served":null,a=this.settings.endpoints[o],r={event:o,test_id:e._id,variant_id:e.winner},s=this.settings.debug?console.debug:i.noop;n.trigger(t,r),Object(i.ajaxPOST)(a,r,s,console.error)}}]),t}()},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,"a",function(){return o});var o=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.moatID)return null;this.settings=e,this.powa=e.powa,this.moatID=e.moatID,this.adStartRequest=this.adStartRequest.bind(this),this.powa.on(PoWa.EVENTS.AD_START_REQUEST,this.adStartRequest)}var e,n,o;return e=t,(n=[{key:"adStartRequest",value:function(t){var e=this.settings.slicers?this.settings.slicers(t):{},n=t.adsManager,i=t.adContainer,o=t.viewMode;!function(t,e,n){if(!1===e.hasOwnProperty("partnerCode"))return!1;var i=document.createElement("script");n=n||t&&(void 0!==t.O?t.O.parentNode:document.body)||document.body;var o,a,r=[],s={adsManager:t,ids:e,imaSDK:!0,events:[],dispatchEvent:function(t){var e=this.sendEvent,n=this.events;e?(n&&(n.push(t),t=n),e(t)):n.push(t)}},c={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"};if(google&&google.ima&&t){var l,u="_moatApi"+Math.floor(1e8*Math.random());for(l in google.ima.AdEvent.Type){var d=function(e){if(s.sendEvent){for(e=r.length-1;0<=e;e--)t.removeEventListener(r[e].type,r[e].func);s.sendEvent(s.events)}else s.events.push({type:c[e.type]||e.type,adVolume:t.getVolume()})};t.addEventListener(google.ima.AdEvent.Type[l],d),r.push({type:google.ima.AdEvent.Type[l],func:d})}}u=void 0!==u?u:"";try{a=(o=n.ownerDocument).defaultView||o.parentWindow}catch(t){o=document,a=window}a[u]=s,i.type="text/javascript",n&&n.appendChild(i),i.src="https://z.moatads.com/"+e.partnerCode+"/moatvideo.js#"+u}(n,Object.assign({partnerCode:this.moatID,viewMode:o},e),i)}}])&&i(e.prototype,n),o&&i(e,o),t}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(329)},,,,,,,function(t,e,n){"use strict";n.r(e);n(196);var i=n(198),o=n(99),a=n(199),r=n(1);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c="https://static.adsafeprotected.com/vans-adapter-google-ima.js",l=!1;function u(t,e){return{}}var d=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.iasID)return null;this.powa=e.powa,this.iasID=e.iasID,this.customFields=e.customFields||u;var n=this.powa.getDataset();if(!Object(r.get)(n,"ads",!0))return null;this.adStartRequest=this.adStartRequest.bind(this),this.powa.on(PoWa.EVENTS.AD_START_REQUEST,this.adStartRequest),window.googleImaVansAdapter||l||(l=!0,Object(r.loadScript)(c,r.noop,console.error))}var e,n,i;return e=t,(n=[{key:"adStartRequest",value:function(t){var e=t.adContainer,n=t.adMeta,i=t.adsManager,o=t.videoData,a=t.viewMode;if((!!Object(r.isEmpty)(o.mediaTailor)||!!o.mediaTailor.error)&&googleImaVansAdapter){var s=Object.assign(this.customFields(n,a),{anId:this.iasID,campId:"".concat(e.offsetWidth,"x").concat(e.offsetHeight)});googleImaVansAdapter.init(window.google,i,e,s)}}}])&&s(e.prototype,n),i&&s(e,i),t}(),p=n(42),h=n(87),g=n(163),f=n(195),v=n(43),m=n(2);function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var y={"@context":"https://schema.org","@type":"VideoObject"};var w=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,this.id=e.id,this.powa=e.powa,this.videoData=this.powa.getVideoData(),this.injectLinkedData()}var e,n,i;return e=t,(n=[{key:"injectLinkedData",value:function(){var t=document.createElement("script");t.type="application/ld+json";var e,n,i,o,a,s,c,l,u=Object(m.extend)(y,{name:Object(r.get)(this.videoData,"headlines.basic"),description:Object(r.get)(this.videoData,"subheadlines.basic"),thumbnailUrl:Object(r.get)(this.videoData,"promo_items.basic.url"),uploadDate:Object(r.get)(this.videoData,"display_date")});this.config.embedUrl&&(u.embedUrl=this.config.embedUrl(this.videoData)),"live"===this.videoData.video_type?u.publication=[{"@type":"BroadcastEvent",isLiveBroadcast:!0,startDate:Object(r.get)(this.videoData,"display_date"),endDate:Object(r.get)(this.videoData,"additional_properties.publicationEndDate")}]:u.duration=(e=Object(r.get)(this.videoData,"duration"),n=e/1e3,i=Math.floor(n/3600),o=Math.floor(n%3600/60),a=Math.floor(n%60),s=i?"".concat(i,"H"):"",c="".concat(o,"M"),l="".concat(a,"S"),"PT".concat(s).concat(c).concat(l)),t.innerHTML=JSON.stringify(u),this.powa.getElement().appendChild(t)}}])&&b(e.prototype,n),i&&b(e,i),t}(),k=n(10),S='\n    <div class="powa-custom-ctrls powa-ctrls-hide">\n        <div class="powa-overlay-wrap"></div>\n        <div class="powa-ctrls">\n            <div class="powa-ctrls-top">\n                <div class="powa-ctrls-left"></div>\n                <div class="powa-ctrls-right"></div>\n            </div>\n        </div>\n    </div>\n'.trim(),O="\n    .powa-custom-ctrls {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n    }\n\n    .powa-custom-ctrls {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n    }\n\n    .powa.xSmall .powa-custom-ctrls.live .powa-ctrls-left {\n        width: 100%;\n        justify-content: space-between;\n    }\n\n    .powa-ctrls {\n        z-index: 2;\n        position: absolute;\n        bottom: 0;\n        width: 100%;\n        color: white;\n    }\n\n    .powa-ctrls img {\n        background-color: transparent !important;\n    }\n\n    .powa-ctrls.mobile {\n        display: none;\n    }\n\n    .powa-ctrls.mobile.active, .powa-ctrls.mobile.powa-pause {\n        display: block;\n    }\n\n    .powa.fullscreen .powa-custom-ctrls {\n        /*display: none;*/\n    }\n\n    .powa-ctrls .fa {\n        font-size: 20px;\n        text-shadow: none;\n    }\n\n    .powa-wrap.mobile.sticky {\n        font-size: 16px;\n    }\n\n    .powa-ctrls-left, .powa-ctrls-right {\n        display: flex;\n    }\n\n    .powa-ctrls-top {\n        display: none;\n    }\n\n    .powa-custom-ctrls:not(.mobile):hover .powa-ctrls .powa-ctrls-top {\n        display: flex;\n    }\n\n\t.powa-custom-ctrls.active.mobile .powa-ctrls .powa-ctrls-top, .powa-custom-ctrls.powa-pause .powa-ctrls .powa-ctrls-top {\n\t\tdisplay: flex;\n    }\n\n    .powa-custom-ctrls.fullscreen:not(.active) .powa-custom-ctrls {\n\t\tdisplay: none;\n    }\n\n    .powa.fullscreen .powa-custom-ctrls, .powa.fullscreen .powa-custom-ctrls.active {\n        /*display: none;*/\n    }\n\n    .powa-ctrls-top {\n        justify-content: space-between;\n        padding: 10px 12px;\n    }\n\n    .subtitles-customize-opened .powa-ctrls-top,\n    .powa-custom-ctrls.powa-pause.subtitles-customize-opened .powa-ctrls .powa-ctrls-top {\n        display: none;\n    }\n\n    .powa.xSmall .powa-ctrls-left {\n        width: 100%;\n    }\n\n    .powa-ctrls-right .ctrls-item {\n        margin-right: 3px;\n    }\n\n    .ctrls-item {\n        text-align: center;\n        width: 40px;\n        cursor: pointer;\n        position: relative;\n    }\n\n    .powa-ctrls-icon {\n        line-height: 30px;\n        width: 40px;\n    }\n\n    .powa-sticky-stick.powa-sticky .powa-ctrls-icon {\n        width: 32px;\n    }\n\n    .powa-sticky-stick.powa-sticky.mobile .powa-ctrls-icon {\n        height: 24px;\n        line-height: 24px;\n    }\n\n    .powa-ctrls-popup {\n        display: none;\n    }\n\n    .powa-ctrls-hide {\n        display: none;\n    }\n\n    .powa.xSmall .powa-ctrls-top {\n        padding: 2px 2px;\n    }\n\n    .powa-ctrls-right .ctrls-item {\n        margin-right: 15px;\n    }\n\n    .powa-ctrls-right .ctrls-item:last-child {\n        margin-right: 0\n    }\n\n    .powa-ctrls-top {\n        padding:12px;\n    }\n\n    .powa-sticky-stick.powa-sticky.mobile .powa-ctrls-top {\n        padding: 6px;\n    }\n\n    .powa-ctrls-tip {\n        font-size: 12px;\n        font-weight: bold;\n        line-height: 17px;\n        position: absolute;\n        white-space: nowrap;\n        top: calc(-100% - 10px);\n        left: calc(-75%);\n        line-height: 16px;\n        display: none;\n        padding: 9px 11px;\n        border-radius: 3px;\n        outline: none;\n        box-sizing: border-box;\n        border-radius: 4px;\n        background-color: rgba(0,0,0,0.79);\n        box-shadow: 0 0 15px 0 rgba(255,255,255,0.1);\n    }\n\n    .powa-ctrls-tip:after {\n        content: '';\n        position: absolute;\n        top: calc(100% - 5px);\n        left: 50%;\n        margin-left: -5px;\n        box-shadow: rgba(255,255,255,0.1) 2px 2px 2px;\n        -moz-transform: rotate(45deg);\n        -webkit-transform: rotate(45deg);\n        border-width: 5px;\n        border-style: solid;\n        border-color: transparent rgba(0,0,0,0.79) rgba(0,0,0,0.79) transparent;\n    }\n";function j(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var A=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=e.id,this._powa=e.powa,this._$powaEl=Object(k.$)("#".concat(e.id)),this._video=this._$powaEl.find(".powa-video").elements[0]}var e,n,i;return e=t,(n=[{key:"setup",value:function(){}},{key:"getEl",value:function(){}}])&&j(e.prototype,n),i&&j(e,i),t}(),_='\n\t<div class="powa-ctrls-scrubber-wrap">\n\t\t<div class="powa-ctrls-scrubber">\n\t\t\t<div class="powa-ctrls-scrubber-head"></div>\n\t\t</div>\n\t</div>\n'.trim(),E="\n\t.powa-custom-ctrls.live .powa-ctrls-scrubber-wrap {\n\t\tdisplay: none;\n\t}\n\n\t.powa-custom-ctrls:not(.mobile):hover .powa-ctrls-scrubber-wrap {\n\t\theight: 16px;\n\t}\n\n\t.powa.fullscreen:not(.active) .powa-ctrls-scrubber-wrap {\n\t\tdisplay: none;\n\t}\n\n\t/* new rules for fs */\n\t.powa.fullscreen:not(.active) .powa-custom-ctrls {\n\t\tdisplay: none;\n\t}\n\n\t.powa-custom-ctrls.mobile:not(.active):not(.powa-pause) .powa-ctrls-scrubber-wrap {\n\t\tdisplay: none;\n\t}\n\n\t.powa-custom-ctrls.active.mobile .powa-ctrls-scrubber-wrap,\n\t.powa-custom-ctrls.powa-pause .powa-ctrls-scrubber-wrap {\n\t\theight: 16px;\n\t}\n\n\t.powa-ctrls-scrubber-wrap {\n\t\twidth: 100%;\n\t\theight: 5px;\n\t\tbackground: rgba(0, 0, 0, 0.7);\n\t\tposition: relative;\n\t\tcursor: pointer;\n\t}\n\n\t.powa-custom-ctrls.powa-pause.subtitles-customize-opened .powa-ctrls-scrubber-wrap {\n\t\theight: 5px;\n\t}\n\n\t/*.powa-custom-ctrls:not(.pause):hover .powa-ctrls-scrubber-wrap {\n\t\tbackground: rgba(0, 0, 0, 1);\n\t}*/\n\n\t.powa-ctrls-scrubber {\n\t\tposition: relative;\n\t\tbackground: rgba(255, 255, 255, .7);\n\t\theight: 100%;\n\t\twidth: 0%;\n\t}\n\n\t.powa-ctrls-scrubber-head {\n\t\tdisplay: none;\n\t\twidth: 16px;\n\t\theight: 16px;\n\t\tborder-radius: 50%;\n\t\tbackground: white;\n\t\tright: -8px;\n\t\tposition: absolute;\n\t}\n\n\t.powa-custom-ctrls:not(.mobile):hover .powa-ctrls-scrubber-head,\n\t.powa-custom-ctrls.active .powa-ctrls-scrubber-head,\n\t.powa-custom-ctrls.powa-pause .powa-ctrls-scrubber-head {\n\t\tdisplay: block;\n\t}\n\n\t.powa-custom-ctrls.powa-pause.subtitles-customize-opened .powa-ctrls-scrubber-head {\n\t\tdisplay: none;\n\t}\n";function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function x(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=x(this,P(e).call(this,t)),Object(r.addCSS)(E,"powa-controls-scrubber"),n._$el=Object(k.$)(_),n._$scrubber=n._$el.find(".powa-ctrls-scrubber"),n.offset=t.offset||0,n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,A),n=e,(i=[{key:"setup",value:function(){var t,e=this,n=!1;this._powa.on("time",function(t){n||e._$scrubber.css({width:"".concat((t.time-e.offset)/(t.duration-e.offset)*100,"%")})}),this._$el.on("click",function(t){var n=e._powa.getStatus().duration,i=function(t,e,n){return t*n/(e-n)}(e._$el.elements[0].offsetWidth,n,e.offset),o=e._$scrubber.elements[0].getBoundingClientRect().left,a=(t.clientX-o+i)/(e._$el.elements[0].offsetWidth+i);e._powa.seekPosition(a)}),this._$el.on("touchstart",function(t){n=!0}),this._$el.on("touchend",function(i){if(n&&t){var o=e._$scrubber.elements[0].getBoundingClientRect().left,a=(t.touches[0].clientX-o)/e._$el.elements[0].offsetWidth;e._powa.seekPosition(a)}n=!1}),this._$el.on("touchmove",function(i){if(t=i,n){var o=e._$scrubber.elements[0].getBoundingClientRect().left,a=(i.clientX-o)/e._$el.elements[0].offsetWidth;e._$scrubber.css({width:"".concat(100*a,"%")})}}),this._$el.on("mousedown",function(t){n=!0}),this._$el.on("mouseup",function(t){if(n){var i=e._$scrubber.elements[0].getBoundingClientRect().left,o=(t.clientX-i)/e._$el.elements[0].offsetWidth;e._powa.seekPosition(o)}n=!1}),this._$el.on("mousemove",function(t){if(n){var i=e._$scrubber.elements[0].getBoundingClientRect().left,o=(t.clientX-i)/e._$el.elements[0].offsetWidth;e._$scrubber.css({width:"".concat(100*o,"%")})}}),this._$el.on("mouseleave",function(t){if(n){var i=e._$scrubber.elements[0].getBoundingClientRect().left,o=(t.clientX-i)/e._$el.elements[0].offsetWidth;e._powa.seekPosition(o),n=!1}})}},{key:"getEl",value:function(){return this._$el}}])&&D(n.prototype,i),o&&D(n,o),e}(),M='\n    <div class="powa-ctrls-play-wrap ctrls-left ctrls-item">\n        <i class="fa fa-play powa-ctrls-play powa-ctrls-icon" aria-hidden="true"></i>\n    </div>\n'.trim(),L="\n    .powa-ctrls.mobile .powa-ctrls-play-wrap {\n        display: none;\n    }\n";function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function z(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=z(this,W(e).call(this,t)),Object(r.addCSS)(L,"powa-controls-playpause"),n._$el=Object(k.$)(M),n._$playPause=n._$el.find(".powa-ctrls-play"),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(e,A),n=e,(i=[{key:"setup",value:function(){var t=this,e=!0,n=Object(r.get)(window,"PoWaSettings.client");this._$playPause.on("click",function(i){n.isFirefox&&e?(t._powa.play(),e=!1):t._powa.togglePlay()}),this._powa.on(window.PoWa.EVENTS.PLAY,function(i){n.isFirefox&&e?(t._$playPause.addClass("fa-play"),t._$playPause.removeClass("fa-pause")):(t._$playPause.removeClass("fa-play"),t._$playPause.addClass("fa-pause"))}),this._powa.on(window.PoWa.EVENTS.PAUSE,function(e){t._$playPause.addClass("fa-play"),t._$playPause.removeClass("fa-pause")})}},{key:"getEl",value:function(){return this._$el}}])&&R(n.prototype,i),o&&R(n,o),e}(),V='\n\t<div class="powa-ctrls-fullscreen-wrap ctrls-right ctrls-item">\n\t\t<i class="fa fa-expand powa-ctrls-fullscreen powa-ctrls-icon" aria-hidden="true"></i>\n\t</div>\n'.trim(),B="\n\n    .powa-ctrls-fullscreen-wrap {\n        align-self: center;\n        height: 30px;\n        line-height: 30px;\n    }\n\n    .powa-sticky-stick.powa-sticky.powa-sticky-mobile .powa-ctrls-fullscreen-wrap {\n        line-height: 24px;\n        height: 24px;\n        margin-right: 0;\n    }\n\n    /* rules from chrome's built-in stylesheet for fullscreen elements */\n    /* it's the only way we could get custom scrubber working on desktop safari fullscreen */\n    .powa.fullscreen-safari {\n        object-fit: contain;\n        position: fixed !important;\n        top: 0px !important;\n        right: 0px !important;\n        bottom: 0px !important;\n        left: 0px !important;\n        box-sizing: border-box !important;\n        min-width: 0px !important;\n        max-width: none !important;\n        min-height: 0px !important;\n        max-height: none !important;\n        width: 100% !important;\n        height: 100% !important;\n        transform: none !important;\n        margin: 0px !important;\n    }\n";function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Q(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}PoWaSettings.client=PoWaSettings.client||Object(r.sniffClient)();var Z=PoWaSettings.client;function q(t){if(Object(r.isFullscreen)()){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e&&e.classList.contains("powa")&&(this._$powaEl.addClass("fullscreen"),this._$fullscreen.removeClass("fa-expand"),this._$fullscreen.addClass("fa-compress"),!Z.isSafari||Z.isMobile||Z.isTablet||this._$powaEl.addClass("fullscreen-safari"))}else this._$powaEl.hasClass("fullscreen")&&(this._$powaEl.removeClass("fullscreen"),this._$powaEl.removeClass("fullscreen-safari"),this._$fullscreen.removeClass("fa-compress"),this._$fullscreen.addClass("fa-expand"))}var K=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Q(this,Y(e).call(this,t)),Object(r.addCSS)(B,"powa-controls-fullscreen"),n._$el=Object(k.$)(V),n._$fullscreen=n._$el.find(".powa-ctrls-fullscreen"),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,A),n=e,(i=[{key:"setup",value:function(){var t=this;document.addEventListener("webkitfullscreenchange",q.bind(this),!1),document.addEventListener("mozfullscreenchange",q.bind(this),!1),document.addEventListener("fullscreenchange",q.bind(this),!1),document.addEventListener("MSFullscreenChange",q.bind(this),!1),this._$fullscreen.on("click",function(e){if(Object(r.isFullscreen)())document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else{var n=t._$powaEl.elements[0];(Z.isMobile||Z.isTablet)&&(n=t._video),n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullScreen?n.webkitRequestFullScreen():n.msRequestFullscreen?n.msRequestFullscreen():n.webkitEnterFullscreen&&n.webkitEnterFullscreen()}}),this._$powaEl.on("mousemove",function(e){t._$powaEl.hasClass("fullscreen")&&(t._timeout&&window.clearTimeout(t._timeout),t._$powaEl.addClass("active"),t._timeout=window.setTimeout(function(){t._$powaEl.removeClass("active")},4e3))})}},{key:"getEl",value:function(){return this._$el}}])&&H(n.prototype,i),o&&H(n,o),e}(),X='\n    <div class="powa-ctrls-volume-wrap ctrls-left ctrls-item">\n        <div class="powa-ctrls-volume-inner-wrap ctrls-item">\n            <div class="powa-ctrls-volume-popup powa-ctrls-popup">\n                <div class="powa-range-track">\n                    <div class="powa-range-head"></div>\n                </div>\n            </div>\n            <div class="powa-ctrls-volume powa-ctrls-icon volume-up">\n                <img class="volume-on" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPHRpdGxlPnZvbF9vbjwvdGl0bGU+CjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgo8ZyBpZD0iU3ltYm9scyI+Cgk8ZyBpZD0idm9sdW1lIj4KCQk8cGF0aCBpZD0idm9sX29uIiBjbGFzcz0ic3QwIiBkPSJNNSw1djEwbDcsNVYwTDUsNXogTTAsMTVWNWgzdjEwSDB6IE0xNiw1LjFMMTcuMyw0QzE5LDUuNCwyMCw3LjQsMjAsOS41YzAsMi4xLTEsNC4xLTIuNyw1LjUKCQkJTDE2LDEzLjljMS4zLTEuMSwyLjItMi43LDIuMi00LjRDMTguMiw3LjgsMTcuMyw2LjIsMTYsNS4xeiBNMTQsN2wxLjMtMUMxNi4zLDYuOSwxNyw4LjEsMTcsOS41YzAsMS40LTAuNywyLjYtMS44LDMuNUwxNCwxMgoJCQljMC44LTAuNiwxLjItMS41LDEuMi0yLjVDMTUuMiw4LjUsMTQuOCw3LjcsMTQsN3oiLz4KCTwvZz4KPC9nPgo8L3N2Zz4K" alt="volume">\n                <img class="volume-off" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjIgKDUxMTYwKSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5tdXRlPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlN5bWJvbHMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJtdXRlIiBmaWxsPSIjRkZGRkZGIj4KICAgICAgICAgICAgPHBhdGggZD0iTTQuOTgzNzg5MjUsNSBMNC45ODM3ODkyNSwxNSBMMTEuOTgzNzg5MiwyMCBMMTEuOTgzNzg5MiwwIEw0Ljk4Mzc4OTI1LDUgWiBNMTYuODIyNDE5Miw5LjEwNzQzNDY5IEwxOC44MzM5MTAxLDYuNzEwMjMzMTUgTDIwLjA1OTU4MTMsNy43Mzg2OTMzNCBMMTcuODY2NzQ1MSwxMC4zNTIwMTM4IEwyMC4wNTk1ODEzLDEyLjk2NTMzNDIgTDE4LjgzMzkxMDEsMTMuOTkzNzk0NCBMMTYuODIyNDE5MiwxMS41OTY1OTI4IEwxNC44MTA5MjgzLDEzLjk5Mzc5NDQgTDEzLjU4NTI1NzEsMTIuOTY1MzM0MiBMMTUuNzc4MDkzNCwxMC4zNTIwMTM4IEwxMy41ODUyNTcxLDcuNzM4NjkzMzQgTDE0LjgxMDkyODMsNi43MTAyMzMxNSBMMTYuODIyNDE5Miw5LjEwNzQzNDY5IFogTTAsMTUgTDAsNSBMMyw1IEwzLDE1IEwwLDE1IFoiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==" alt="mute">\n            </div>\n        </div>\n    </div>\n'.trim(),J="\n\n    .powa-ctrls-volume-inner-wrap {\n        border-radius: 3px;\n    }\n\n    .powa-ctrls-volume-popup {\n        justify-content: center;\n        align-items: center;\n        height: 140px;\n        padding: 18px 0 12px 0;\n    }\n\n    .powa.xSmall .powa-ctrls-volume-popup{\n\t\theight: 80px;\n\t}\n\n    .powa-ctrls-volume-inner-wrap.ctrls-item:hover {\n        position: absolute;\n        bottom: 0;\n    }\n\n    .powa-custom-ctrls:not(.mobile) .powa-ctrls-volume-inner-wrap.ctrls-item:hover {\n        background-color: rgba(0, 0, 0, .7);\n    }\n\n    .powa-custom-ctrls:not(.mobile) .powa-ctrls-volume-inner-wrap.ctrls-item:hover .powa-ctrls-volume-popup {\n        display: flex;\n    }\n\n    .powa-ctrls-volume {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 30px;\n    }\n\n    .powa-ctrls-volume img {\n        height: 18px;\n    }\n\n    .powa-range-track {\n        height: 100%;\n        width: 6px;\n        background: #B3B3B3;\n        position: relative;\n        border-radius: 6px;\n    }\n\n    .powa-range-head {\n        height: 12px;\n        width: 12px;\n        border-radius: 50%;\n        background: white;\n        position: absolute;\n        left: -50%;\n    }\n\n    .volume-up .volume-off {\n        display: none !important;\n    }\n\n    .volume-off .volume-on {\n        display: none !important;\n    }\n";function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function nt(t,e){return!e||"object"!==tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ot(t,e){return(ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function at(t){if(t>=this._$track.height())this.mute();else if(t>0&&this._$track.height()>t){var e=t/this._$track.height()*100;this._$head.css({top:"".concat(t-6,"px")}),this._$track.css({background:"linear-gradient(#4D4D4D ".concat(e,"%, #B3B3B3 ").concat(e,"%)")}),this._$track.trigger("change",{value:(100-e)/100})}}var rt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=nt(this,it(e).call(this,t)),Object(r.addCSS)(J,"powa-controls-volume"),n._$el=Object(k.$)(X),n._$volume=n._$el.find(".powa-ctrls-volume"),n._$track=n._$el.find(".powa-range-track"),n._$head=n._$el.find(".powa-range-head"),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ot(t,e)}(e,A),n=e,(i=[{key:"mute",value:function(){this._$volume.removeClass("volume-up"),this._$volume.addClass("volume-off"),this._$head.css({top:"calc(100% - 8px)"}),this._$track.css({background:"linear-gradient(#4D4D4D 100%, #B3B3B3 100%)"})}},{key:"unMute",value:function(){this._$volume.removeClass("volume-off"),this._$volume.addClass("volume-up"),this._$head.css({top:"-8px"}),this._$track.css({background:"linear-gradient(#4D4D4D 0%, #B3B3B3 0%)"})}},{key:"setup",value:function(){var t,e=this,n=this._powa.getStatus()||{},i=!1;this._$track.on("change",function(t){var n=t.detail.value;0==n?(e._$volume.removeClass("volume-up"),e._$volume.addClass("volume-off")):(e._$volume.addClass("volume-up"),e._$volume.removeClass("volume-off"),e._powa.mute(!1)),e._powa.volume(n)}),this._$track.on("click",function(t){var n=e._$track.elements[0].getBoundingClientRect().top,i=t.clientY-n;at.call(e,i)}),this._$track.on("touchstart",function(t){i=!0}),this._$track.on("touchend",function(n){if(i&&t){var o=e._$track.elements[0].getBoundingClientRect().top,a=t.touches[0].clientY-o;at.call(e,a)}i=!1}),this._$track.on("touchmove",function(n){if(t=n,i){var o=e._$track.elements[0].getBoundingClientRect().top,a=t.touches[0].clientY-o;at.call(e,a)}}),this._$track.on("mousedown",function(t){i=!0}),this._$track.on("mouseup",function(t){if(i){var n=e._$track.elements[0].getBoundingClientRect().top,o=t.clientY-n;at.call(e,o)}i=!1}),this._$track.on("mousemove",function(t){if(i){var n=e._$track.elements[0].getBoundingClientRect().top,o=t.clientY-n;at.call(e,o)}}),this._$volume.on("click",function(t){e._$volume.hasClass("volume-up")?(e._powa.mute(!0),e._$track.trigger("change",{value:0}),e._$head.css({top:"calc(100% - 8px)"}),e._$track.css({background:"linear-gradient(#4D4D4D 100%, #B3B3B3 100%)"})):(e._powa.mute(!1),e._powa.volume(1),e._$track.trigger("change",{value:1}),e._$head.css({top:"-8px"}),e._$track.css({background:"linear-gradient(#4D4D4D 0%, #B3B3B3 0%)"}))}),this._powa.on(window.PoWa.EVENTS.MUTED,function(t){0==t.volume||t.muted?e.mute():t.muted||e.unMute()}),0!==n.volume&&!0!==n.muted||this.mute()}},{key:"getEl",value:function(){return this._$el}}])&&et(n.prototype,i),o&&et(n,o),e}();var st=function(t){var e,n;return'\n\t\t<div class="powa-ctrls-share-wrap ctrls-right ctrls-item">\n\t\t\t<div class="powa-ctrls-share-inner-wrap ctrls-item">\n\t\t\t\t<div class="powa-ctrls-share-popup powa-ctrls-popup">\n\t\t\t\t\t<div class="powa-ctrl-embed-popout-wrap powa-ctrls-permalink">\n\t\t\t\t\t\t<div class="powa-ctrl-embed-popout permalink-msg franklin-light">\n\t\t\t\t\t\t\tCLICK TO COPY PERMALINK\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<i class="fa fa-link powa-ctrls-permalink powa-ctrls-icon powa-ctrls-social" aria-hidden="true"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<i class="fa fa-twitter-square powa-ctrls-icon powa-ctrls-social" data-social="twitter" data-social-url="'.concat(t.short_url,'" data-share-title="').concat(t.headlines.basic,'" aria-hidden="true"></i>\n\t\t\t\t\t<i class="fa fa-facebook-square powa-ctrls-icon powa-ctrls-social" data-social="facebook" data-social-url="').concat(t.short_url,'" data-share-title="').concat(t.headlines.basic,'" aria-hidden="true"></i>\n\t\t\t\t\t<div class="powa-ctrl-embed-popout-wrap powa-ctrl-embed">\n\t\t\t\t\t\t<div class="powa-ctrl-embed-popout embed-msg franklin-light">\n\t\t\t\t\t\t\tCLICK TO COPY EMBED CODE\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<i class="fa fa-code powa-ctrls-social powa-ctrls-icon" aria-hidden="true"></i>\n\t\t\t\t\t\t<input class="powa-ctrl-embed-input" type="text" value=""/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a class="powa-ctrls-email" href="mailto:?subject=').concat(encodeURIComponent(t.headlines.basic),"&body=").concat((e=t,n=e.description?e.description.basic:e.subheadlines?e.subheadlines.basic:"","".concat(encodeURIComponent(n+" "+e.short_url))),'">\n\t\t\t\t\t\t<i class="fa fa-envelope powa-ctrls-icon powa-ctrls-social" data-social="email" data-social-url="').concat(t.short_url,'" data-share-title="').concat(t.headlines.basic,'" aria-hidden="true"></i>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<i class="fa fa-share powa-ctrls-share powa-ctrls-icon" aria-hidden="true"></i>\n\t\t\t</div>\n\t\t</div>\n\t').trim()},ct='\n    .powa[data-allow-share="false"] .powa-ctrls-share-wrap {\n        display: none;\n    }\n\n    .powa-custom-ctrls.live .powa-ctrls-share-wrap {\n        display: none;\n    }\n\n    .powa-ctrls-share-inner-wrap.ctrls-item {\n        position: absolute;\n        bottom: 0;\n    }\n\n    .powa-ctrls-share-inner-wrap.ctrls-item a {\n        border-bottom: none;\n    }\n\n    .powa-ctrls-share-inner-wrap.ctrls-item:hover {\n        background-color: rgba(0, 0, 0, .7);\n    }\n\n    .powa-ctrls-share-inner-wrap.ctrls-item:hover .powa-ctrls-share-popup {\n        display: block;\n    }\n\n    .powa-ctrls-share-inner-wrap {\n        border-radius: 3px;\n    }\n\n    .fa.powa-ctrls-share {\n        font-size: 20px;\n        line-height: 30px;\n    }\n\n    .powa-ctrls-social {\n        color: #d3d3d3;\n        text-shadow: none;\n    }\n\n    .powa-ctrls-social:hover {\n        color: white;\n    }\n\n    .powa-custom-ctrls.mobile .powa-ctrl-embed-popout-wrap, .powa-custom-ctrls.mobile .powa-ctrls-permalink {\n        display: none;\n    }\n\n    .powa-ctrl-embed-popout {\n        position: absolute;\n        width: 180px;\n        height: 30px;\n        left: -180px;\n        background-color: rgba(0, 0, 0, .7);\n        border-radius-top-left: 3px;\n        border-radius-bottom-left: 3px;\n        display: none;\n        font-size: 12px;\n        line-height: 30px;\n        font-weight: bolder;\n        text-shadow: none;\n    }\n\n    .powa-sticky-stick.powa-sticky.powa-sticky-mobile .powa-ctrl-embed-popout {\n        line-height: 24px;\n        height: 24px;\n    }\n\n    .powa-ctrl-embed-popout-wrap:hover .powa-ctrl-embed-popout {\n        display: block;\n    }\n\n    .powa-ctrl-embed-input {\n        position: fixed;\n        left: -9999px;\n        top: -9999px;\n        height: 2em;\n        width: 2em;\n    }\n\n    .powa-sticky-stick.powa-sticky .powa-ctrls-share-wrap {\n\t\tdisplay: none;\n    }\n\n    .powa-ctrls-share-inner-wrap.ctrls-item:hover powa-ctrls .fa {\n        display:block;\n    }\n\n    .powa-ctrls-share-inner-wrap.ctrls-item:hover .powa-ctrls-share-popup {\n        padding-top:8px;\n    }\n\n    .powa-ctrls-share-inner-wrap.ctrls-item:hover .powa-ctrls-share-popup .powa-ctrls-icon {\n        margin-bottom: 4px;\n    }\n';function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function dt(t,e){return!e||"object"!==lt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gt="CLICK TO COPY PERMALINK",ft="CLICK TO COPY EMBED CODE",vt="COPIED TO CLIPBOARD",mt=Object(r.freeze)({SHARE_FACEBOOK:"shareFacebook",SHARE_TWITTER:"shareTwitter",SHARE_EMAIL:"shareEmail"});function bt(t){this._$email.attr("href","mailto:?subject=".concat(encodeURIComponent(t.headlines.basic),"&body=").concat(function(t){var e=t.description?t.description.basic:t.subheadlines?t.subheadlines.basic:"";return"".concat(encodeURIComponent(e+" "+t.short_url))}(t)))}var yt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=dt(this,pt(e).call(this,t)),Object(r.addCSS)(ct,"powa-controls-share"),n._powa=t.powa,n._$el=Object(k.$)(st(window.powas[n._id].powa.getVideoData())),n._$social=n._$el.find(".powa-ctrls-social"),n._$email=n._$el.find(".powa-ctrls-email"),n._$embed=n._$el.find(".powa-ctrl-embed"),n._$input=n._$el.find(".powa-ctrl-embed-input"),n._$embedMsg=n._$el.find(".embed-msg"),n._$permalinkMsg=n._$el.find(".permalink-msg"),n._$permalink=n._$el.find(".powa-ctrls-permalink"),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(e,A),n=e,(i=[{key:"setup",value:function(){var t=this;this._powa.on(window.PoWa.EVENTS.START,function(e){var n=window.powas[t._id].powa.getVideoData();(function(t){this._$social.forEach(function(e){e.setAttribute("data-social-url",t.short_url),e.setAttribute("data-social-title",t.headlines.basic)})}).call(t,n),bt.call(t,n)}),this._$permalink.on("click",function(e){var n=window.powas[t._id].powa.getVideoData();t._$input.elements[0].value="https://www.washingtonpost.com/video".concat(n.canonical_url),t._$input.elements[0].select(),document.execCommand("copy"),t._$permalinkMsg.html(vt)}),this._$embed.on("click",function(e){var n=window.powas[t._id].powa.getVideoData();t._$input.elements[0].value="<iframe width='480' height='290' scrolling='no' src='https://www.washingtonpost.com/video/c/embed/".concat(n._id,"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>"),t._$input.elements[0].select(),document.execCommand("copy"),t._$embedMsg.html(vt)}),this._$social.on("mouseout",function(e){t._$embedMsg.html(ft),t._$permalinkMsg.html(gt)}),this._$social.on("click",function(e){try{var n,i="width=550, height=450, top=".concat(screen.height/2-225,", left=").concat(screen.width/2-275),o=e.target.getAttribute("data-social"),a=e.target.getAttribute("data-social-url"),r=e.target.getAttribute("data-social-title");switch(o){case"facebook":t._powa.trigger(mt.SHARE_FACEBOOK),n="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(a);break;case"twitter":t._powa.trigger(mt.SHARE_TWITTER),n="https://twitter.com/share?url="+encodeURIComponent(a)+"&text="+encodeURIComponent(r);break;case"google":t._powa.trigger(mt.SHARE_EMAIL),n="https://plus.google.com/share?url="+encodeURIComponent(a);break;default:return}window.open(n,"_blank",i)}catch(t){console.error(t)}})}},{key:"getEl",value:function(){return this._$el}}])&&ut(n.prototype,i),o&&ut(n,o),e}(),wt='\n    <div class="powa-ctrls-pip-wrap ctrls-right ctrls-item hide">\n        <div class="powa-ctrls-tip franklin-light">Pop-out player</div>\n        <div class="powa-ctrls-icon powa-ctrls-pip">\n\t\t    <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzBweCIgaGVpZ2h0PSIyNXB4IiB2aWV3Qm94PSIwIDAgMzAgMjUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1LjEgKDc4MTM2KSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5kZXRhY2hfdmlkZW88L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iREVGQVVMVCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImRldGFjaF92aWRlbyIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yLjUsMy4xMTU3MTkxOCBMMi41LDIxLjg4NDI4MDggQzIuNSwyMi4yMjExMDk2IDIuNzc5NjA4NSwyMi41IDMuMTI1NjI3MDYsMjIuNSBMMjYuODc0MzcyOSwyMi41IEMyNy4yMTc3NzI1LDIyLjUgMjcuNSwyMi4yMTkxMjIzIDI3LjUsMjEuODg0MjgwOCBMMjcuNSwzLjExNTcxOTE4IEMyNy41LDIuNzc4ODkwNDEgMjcuMjIwMzkxNSwyLjUgMjYuODc0MzcyOSwyLjUgTDMuMTI1NjI3MDYsMi41IEMyLjc4MjIyNzQ5LDIuNSAyLjUsMi43ODA4Nzc2NiAyLjUsMy4xMTU3MTkxOCBaIE0wLDMuMTE1NzE5MTggQzAsMS4zOTQ5NTQ5OSAxLjQwNjcyNDMsMCAzLjEyNTYyNzA2LDAgTDI2Ljg3NDM3MjksMCBDMjguNjAwNjA5MSwwIDMwLDEuMzk3Njc3NzQgMzAsMy4xMTU3MTkxOCBMMzAsMjEuODg0MjgwOCBDMzAsMjMuNjA1MDQ1IDI4LjU5MzI3NTcsMjUgMjYuODc0MzcyOSwyNSBMMy4xMjU2MjcwNiwyNSBDMS4zOTkzOTA5LDI1IDAsMjMuNjAyMzIyMyAwLDIxLjg4NDI4MDggTDAsMy4xMTU3MTkxOCBaIiBpZD0iQ0MiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiB4PSIxNCIgeT0iMTIiIHdpZHRoPSIxMCIgaGVpZ2h0PSI3Ij48L3JlY3Q+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=" alt="pip">\n        <div>\n    </div>\n'.trim(),kt="\n\n    .powa.xSmall .powa-ctrls-pip-wrap {\n        display: none;\n    }\n\n    .powa-ctrls-pip-wrap {\n        align-self: center;\n        height: 30px;\n        line-height: 30px;\n    }\n\n    .powa-ctrls-pip-wrap.hide {\n        display: none;\n    }\n\n    .powa-ctrls-pip-wrap:hover .powa-ctrls-tip {\n        display: block;\n    }\n    .pip-msg {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .pip-msg div {\n        color: #AAAAAA;\n        font-size: 21px;\n        font-weight: 300;\n        line-height: 29px;\n        margin-bottom: 24px;\n    }\n\n    .xSmall .pip-msg div {\n        font-size: 14px;\n        line-height: 15px;\n        margin-bottom: 12px;\n    }\n\n    .ctrls-item .powa-ctrls-pip img {\n        width: 26px;\n        height: 28px;\n        display: block;\n        vertical-align: inherit;\n    }\n\n    .pip-msg button {\n        color: #FFFFFF;\n        font-size: 16px;\n        font-weight: bold;\n        line-height: 22px;\n        border: 1px solid rgba(255,255,255,0.5);\n        border-radius: 2px;\n        box-shadow: 0 1px 2px 0 rgba(0,0,0,0.2);\n        padding: 8px 20px;\n        background: none;\n        cursor: pointer;\n        outline: none;\n    }\n\n    .xSmall .pip-msg button {\n        font-size: 14px;\n        padding: 4px 10px;\n    }\n\n",St="https://www.washingtonpost.com/player",Ot='\n\t.powa {\n\t\tfont-family: Franklin, \'FranklinITCProLight\', -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;\n\t}\n\n\t.flex-item .powa[data-custom-btn-text] .powa-custom-btn-text {\n\t\tfont-family: "FranklinITCProBold", "HelveticaNeue", "Helvetica Neue Light","Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;\n\t}\n\t.powa[data-duration-or-live="false"] .play-duration {\n\t\tdisplay: none;\n\t}\n\t.powa[data-hide-btn="true"] .powa-shot-play-btn {\n\t\tdisplay: none;\n\t}\n\t.powa[data-custom-btn-text] .powa-custom-btn-text {\n\t\tpadding-right: .3rem;\n\t}\n\t.powa[data-custom-btn-text=""] .powa-custom-btn-text {\n\t\tpadding-right: 0;\n\t}\n\t.powa[data-show-title="false"] .powa-shot-title {\n\t\tdisplay: none;\n\t}\n\tvideo.powa-shot-promo-video::-webkit-media-controls {\n\t\tdisplay: none;\n\t}\n\t.powa .powa-shot-promo-video {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t.powa .powa-shot-title {\n\t\tfont-size: 19px;\n\t\tcolor: #ffffff;\n\t\twidth: inherit;\n\t\tmargin-right: 0;\n\t\ttext-align: left;\n\t\ttext-shadow: 0 0 1px rgba(0,0,0,.5);\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tline-height: 25px;\n\t\tbox-sizing: border-box;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tbackground: linear-gradient(to bottom,rgba(0,0,0,.5) 0,rgba(0,0,0,0) 100%);\n\t\twidth: 100%;\n\t\tz-index: 2;\n\t\tpadding: 20px;\n\t}\n\t.powa.small .powa-shot-title {\n\t\tfont-size: 18px;\n\t\tline-height: 23px;\n\t}\n\t.powa.xSmall .powa-shot-title {\n\t\tfont-size: 16px;\n\t\tline-height: 21px;\n\t}\n\n\t/* Account for live badge in play-center-button-promo */\n\t.powa .powa-shot-title.live-badge {\n\t\tpadding-right: calc(80px + 5%);\n\t}\n\t.powa.small .powa-shot-title.live-badge {\n\t\tpadding-right: calc(70px + 5%)\n\t}\n\t.powa.xSmall .powa-shot-title.live-badge {\n\t\tpadding-right: calc(60px + 5%)\n\t}\n\t.powa .powa-shot-image {\n\t\tbackground-color: #000;\n\t\tz-index: 1;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tposition: absolute;\n\t\ttop: 0px;\n\t\tleft: 0px;\n\t\toverflow: hidden;\n\t\tbackground-size: cover;\n\t\tbackground-position: center;\n\t\ttext-shadow: rgba(0,0,0,.01) 0 0 1px;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-webkit-text-shadow: rgba(0,0,0,.01) 0 0 1px;\n\t}\n\t.powa .powa-shot-logo {\n\t\tbackground-size: 50px;\n\t\tbackground-repeat: no-repeat;\n\t\twidth: 50px;\n\t\theight: 50px;\n\t\tdisplay: inline-block;\n\t\tmargin: 20px;\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\tz-index: 2;\n\t\tdisplay: none;\n\t}\n\t.powa .powa-shot-logo[data-logo="wapo-analysis"] {\n\t\tdisplay: block;\n\t\tbackground-image: url("'.concat(St,'/prod/img/WP_Analysis_200.png");\n\t}\n\t.powa .powa-shot-logo[data-logo="wapo-opinion"] {\n\t\tdisplay: block;\n\t\tbackground-image: url("').concat(St,'/prod/img/WP_Opinion_200.png");\n\t}\n\t.powa .powa-shot-logo[data-logo="wapo-perspective"] {\n\t\tdisplay: block;\n\t\tbackground-image: url("').concat(St,'/prod/img/WP_Perspective_200.png");\n\t}\n\t.powa .powa-shot-logo[data-logo="wapo-review"] {\n\t\tdisplay: block;\n\t\tbackground-image: url("').concat(St,'/prod/img/WP_Review_200.png");\n\t}\n\t.powa .powa-shot-logo[data-logo="wusa9"] {\n\t\tdisplay: block;\n\t\tbackground-image: url("').concat(St,'/prod/img/wusa9_2.png");\n\t\tbackground-size: 84px;\n\t\theight: 20px;\n\t\twidth: 84px;\n\t}\n\n\t.powa .powa-shot-live-badge {\n\t\tposition: absolute;\n\t\tz-index: 3;\n\t\tright: 0;\n\t\tfont-size: 20px;\n\t\tbackground-color: #E10C16;\n\t\tcolor: #FFFFFF;\t\n\t\tfont-weight: bold;\n\t\tletter-spacing: 2.5px;\n\t\ttext-align: center;\n\t\tmargin: 3% 3% 0 0;\n\t\tpadding: 3px 9px;\n\t\tborder-radius: 4px;\n\t}\n\t.powa .powa-shot-play-btn.live {\n\t\tbackground-color: #E10C16 !important;\n\t\tcolor: #FFFFFF !important;\n\t\tfont-weight: bold;\n\t}\n\t.powa .powa-shot-play-btn.live:hover {\n\t\tbackground-color: #FF0000 !important;\n\t}\n\t.powa .powa-shot-play-btn-text {\n\t\tmargin-right: 4px;\n\t\tmargin-left: 6px;\n\t}\n\n\t.powa .powa-shot-play-btn.bottom {\n\t\tcursor: pointer;\n\t\tfont-size: 16px;\n\t\tline-height: 20px;\n\t\tcolor: #EEE;\n\t\tpadding: 15px 20px;\n\t\tborder-radius: 4px;\n\t\tbackground-color: rgba(0,0,0,.6);\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tmargin: 20px;\n\t}\n\t.powa .powa-shot-play-btn.bottom:hover {\n\t\tbackground: black;\n\t}\n\t.powa .powa-shot-play-btn.bottom .fa {\n\t\tfont-size: 14px;\n\t\twidth: 14px;\n\t\theight: 14px;\n\t}\n\t.powa .powa-shot-play-btn.center {\n\t\tbackground: none;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tcursor: default;\n\t}\n\t.powa .powa-shot-play-btn.center .powa-shot-btn-wrapper {\n\t\tfont-size: 1.5em;\n\t\twidth: 9%;\n\t\theight: 16%;\n\t\tmin-height: 70px;\n\t\tmin-width: 70px;\n\t\tmax-height: 84px;\n\t\tmax-width: 84px;\n\t\tcursor: pointer;\n\t\tcolor: #EEE;\n\t\tborder-radius: 6px;\n\t\tbackground-color: rgba(0,0,0,.8);\n\t\tposition: relative;\n\t\tmargin: 0;\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -ms-flexbox;\n\t\tdisplay: flex;\n\t\t-webkit-box-align: center;\n\t\t-ms-flex-align: center;\n\t\talign-items: center;\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n\t.powa .powa-click-promo-play.center {\n\t\tdisplay: flex;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t.powa .powa-click-promo-play .powa-shot-play-btn-icon {\n\t\tcolor: white;\n\t}\n\t.powa .powa-click-promo-play.center .powa-shot-play-btn-icon {\n\t\tfont-size: 28px;\n\t\twidth: 50%;\n\t\theight: 50%;\n\t}\n\t.powa .powa-shot-play-btn.center .powa-shot-btn-wrapper:hover {\n\t\tbackground-color: black;\n\t}\n\n\t.powa.small .powa-shot-live-badge {\n\t\tfont-size: 17px;\n\t\tletter-spacing: 2.5px;\n\t\tpadding: 1px 8px;\n\t\tmargin: 3.5% 3.5% 0 0;\n\t}\n\t.powa.small .powa-shot-play-btn {\n\t\tpadding: 12px 16px;\n\t}\n\t.powa.small .powa-shot-play-btn-icon {\n\t\tline-height: 1.2em\n\t}\n\t.powa.small .powa-shot-play-btn.center .powa-shot-btn-wrapper {\n\t\tmargin: 0;\n\t\tfont-size: 20px;\n\t\twidth: 9%;\n\t\theight: 16%;\n\t\tmin-height: 60px;\n\t\tmin-width: 60px;\n\t\tmax-height: 84px;\n\t\tmax-width: 84px;\n\t}\n\t.powa.small .powa-shot-play-btn.center {\n\t\tmargin:0;\n\t\tfont-size: 1.2em;\n\t\twidth: inherit;\n\t\theight: inherit;\n\t\tmin-height: inherit;\n\t\tmin-width: inherit;\n\t\tmax-height: inherit;\n\t\tmax-width: inherit;\n\t\tpadding: 0;\n\t}\n\t.powa.small .powa-click-promo-play.center .powa-shot-play-btn-icon {\n\t\tfont-size: 20px;\n\t}\n\t.powa.xSmall .powa-shot-live-badge {\n\t\tfont-size: 13px;\n\t\tletter-spacing: 2px;\n\t\tpadding: 1px 6px;\n\t\tmargin: 3.5% 3.5% 0 0;\n\t\tborder-radius: 3px;\n\t}\n\t.powa.xSmall .powa-shot-play-btn {\n\t\tpadding: 12px 16px;\n\t}\n\t.powa.xSmall .powa-shot-play-btn-icon.fa {\n\t\tline-height: 1.2em;\n\t\tmargin-left: 2px;\n\t}\n\t.powa.xSmall .powa-shot-play-btn.center .powa-shot-btn-wrapper {\n\t\tmargin: 0;\n\t\tfont-size: 20px;\n\t\twidth: 9%;\n\t\theight: 16%;\n\t\tmin-height: 60px;\n\t\tmin-width: 60px;\n\t\tmax-height: 84px;\n\t\tmax-width: 84px;\n\t}\n\t.powa.xSmall .powa-shot-play-btn.center {\n\t\tmargin:0;\n\t\tfont-size: 1.2em;\n\t\twidth: inherit;\n\t\theight: inherit;\n\t\tmin-height: inherit;\n\t\tmin-width: inherit;\n\t\tmax-height: inherit;\n\t\tmax-width: inherit;\n\t\tpadding: 0;\n\t}\n\t.powa.xSmall .powa-click-promo-play.center .powa-shot-play-btn-icon {\n\t\tfont-size: 20px;\n\t}\n\t.powa.mobile-player .powa-shot-play-btn {\n\t\tmargin: 15px;\n\t}\n\t.powa-discovery .powa-discovery-header,\n\t.powa-discovery .powa-discovery-playlist-item-blurb {\n\t\tfont-family:  Franklin, "Helvetica Neue Bold", "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif;\n\t\tfont-weight: 700;\n\t}\n\t.powa-discovery .powa-discovery-playlist-item-promo {\n\t\tfont-family: Franklin, "Helvetica Neue Light", "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif;\n\t\tfont-weight: 300;\n\t}\n\n\t/* Flex promo styles */\n\n\t.powa .powa-shot-play-btn-flex-wrapper {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: relative;\n\n\t\t-webkit-box-sizing: border-box;\n\t\t-moz-box-sizing: border-box;\n\t\tbox-sizing: border-box;\n\n\t}\n\n\t.powa .powa-shot-play-btn-flex-container {\n\t\tpadding: 20px;\n\n\t\tposition: absolute;\n\t\tbottom: 0;\n\n\t\tdisplay: -webkit-flex;\n\t\tdisplay: -ms-flexbox;\n\t\tdisplay: flex;\n\n\t\t-webkit-flex-wrap: wrap-reverse;\n\t\t-ms-flex-wrap: wrap-reverse;\n\t\tflex-wrap: wrap-reverse;\n\n\t\t-webkit-box-pack: start;\n\t\t-webkit-justify-content: flex-start;\n\t\t-ms-flex-pack: start;\n\t\tjustify-content: flex-start;\n\n\t\t-webkit-box-align: start;\n\t\t-webkit-align-items: flex-start;\n\t\t-ms-flex-align: start;\n\t\talign-items: flex-start;\n\t}\n\n\t.powa .powa-shot-play-btn-flex-wrapper:hover {\n\t\tcursor: pointer;\n\t}\n\n\t.powa .powa-shot-play-btn-flex-wrapper * {\n\t\t-webkit-box-sizing: border-box;\n\t\t-moz-box-sizing: border-box;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.powa .powa-shot-play-btn-flex-wrapper .powa-shot-play-btn.wpv-flex {\n\t\tmargin: 0;\n\t\tposition: relative;\n\t\tbackground-color: rgba(0,0,0,.6);\n\t\tfont-size: 16px;\n\t\tline-height: 20px;\n\t\tflex-direction: row;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.powa .powa-shot-play-btn-flex-wrapper:hover .powa-shot-play-btn.wpv-flex {\n\t\tbackground: black;\n\t}\n\t.powa .powa-shot-play-btn-flex-wrapper:hover .powa-shot-play-btn.wpv-flex.live {\n\t\tbackground-color: #FF0000 !important;\n\t}\n\n\t.powa .powa-shot-play-btn-flex-wrapper .powa-shot-play-btn.wpv-flex .fa,\n\t.powa .powa-shot-play-btn-flex-wrapper .powa-shot-play-btn.wpv-flex .powa-shot-play-btn-icon {\n\t\tfont-size: 14px;\n\t\twidth: 16px;\n\t\theight: 16px;\n\t\tmargin-right: 5px;\n\t}\n');function jt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var At="\n\t.powa-message {\n\t\tposition: absolute;\n\t\tz-index: 2;\n\t\tbackground-position: center;\n\t\tbackground-size: cover;\n\t\t-webkit-box-align: center;\n\t\t\t-ms-flex-align: center;\n\t\t\t\talign-items: center;\n\t\t-webkit-box-pack: center;\n\t\t\t-ms-flex-pack: center;\n\t\t\t\tjustify-content: center;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tdisplay: none;\n\t\ttext-align: center;\n\t\tbackground-color: black;\n\t\tjustify-content: center;\n\t\t-webkit-justify-content: center;\n\t\talign-items: center;\n\t\t-webkit-align-items: center;\n\t}\n\t.powa-message.on {\n\t\tdisplay: flex;\n\t\tdisplay: -webkit-flex;\n\t}\n\t.powa-message-content {\n\t\tcolor: white;\n\t\tfont-size: 20px;\n\t\tmargin: 0;\n\t\twidth: 90%;\n\t\tpadding: 20px 30px;\n\t\ttext-shadow: none;\n\t\tline-height: 1.3em;\n\t\tbackground-color: rgba(0,0,0,0.7);\n\t\tborder-radius: 10px;\n\t\tbox-sizing: border-box;\n\t}\n";var _t=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.id)throw"Invalid settings to setup Message";var n,i;this.settings=e,this._powa=e.powa,this._$el=Object(k.$)((n=e.img,i=e.logo,'\n\t\t<div class="powa-message" '.concat(n?"style=\"background-image: url('"+n+"')":"",'">\n\t\t\t<p class="powa-message-content franklin-light">/p>\n\t\t\t<div class="powa-shot-logo" data-logo="').concat(i,'"></div>\n\t\t</div>\n\t').trim())),this._$message=this._$el.find(".powa-message-content"),Object(r.addCSS)(At,"powa-message"),Object(r.addCSS)(Ot,"powa-message-promo"),function(t){Object(k.$)("#".concat(this.settings.id)).append(this._$el)}.call(this),e.msg&&(this.setMessage(e.msg),this.show())}var e,n,i;return e=t,(n=[{key:"setup",value:function(){this._powa.on("pipActivated",function(t){console.debug("pip activated")}),this._powa.on("pipDeactivated",function(t){console.debug("pip activated")})}},{key:"show",value:function(){this._$el.addClass("on")}},{key:"hide",value:function(){this._$el.removeClass("on")}},{key:"setMessage",value:function(t){this._$message.html(t)}}])&&jt(e.prototype,n),i&&jt(e,i),t}();function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Dt(t,e){return!e||"object"!==Et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ct="pipActivated",It="pipDeactivated",Mt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Dt(this,xt(e).call(this,t)),Object(r.addCSS)(kt,"powa-controls-pip"),n._$el=Object(k.$)(wt),n._$pip=n._$el.find(".powa-ctrls-pip"),n._video=n._powa.getElement().querySelector("video.powa-video"),n._msg,n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(e,A),n=e,(i=[{key:"setup",value:function(){var t=this;document.pictureInPictureEnabled&&this._$el.removeClass("hide"),this._$pip.on("click",function(e){t._video!==document.pictureInPictureElement?t.enterPip():t.exitPip()}),this._video.addEventListener("enterpictureinpicture",function(e){t.updatePipButton()}),this._video.addEventListener("leavepictureinpicture",function(e){t.updatePipButton()})}},{key:"enterPip",value:function(){var t=this;this._video.requestPictureInPicture().then(function(){t._powa.trigger(Ct)}).catch(function(t){return console.warn("requestPictureInPicture failed",t)})}},{key:"exitPip",value:function(){var t=this;document.exitPictureInPicture().then(function(){t._powa.trigger(It)}).catch(function(t){return console.warn("exitPictureInPicture failed",t)})}},{key:"setupWatchButton",value:function(t){var e=this;t.find("button").on("click",function(t){e.exitPip()})}},{key:"updatePipButton",value:function(){document.pictureInPictureElement?this._msg?this._msg.show():(this._msg=new _t({id:this._id,msg:'\n    <div class="pip-msg">\n        <div class="franklin-light">This video is playing in another window</div>\n        <button class="franklin-light">Watch here</button>\n    </div>\n'}),this.setupWatchButton(this._msg._$el)):this._msg.hide()}},{key:"getEl",value:function(){return this._$el}}])&&Tt(n.prototype,i),o&&Tt(n,o),e}();var Lt=function(t){return(t.length>1?'\n\t\t\t<div class="powa-ctrls-extras-wrap ctrls-right ctrls-item">\n\t\t\t\t<div class="powa-ctrls-extras-inner-wrap ctrls-item">\n\t\t\t\t\t<div class="powa-ctrls-extras-popup powa-ctrls-popup">\n\t\t\t\t\t\t'.concat(function(t){var e="";return t.forEach(function(t){switch(t){case"cc":e+='\n\t\t<div class="powa-ctrls-icon powa-ctrls-cc">\n\t\t\t<div class="powa-ctrls-cc-inner-wrap ctrls-item">\n\t\t\t\t<div class="powa-ctrls-cc-popup powa-ctrls-popup">\n\t\t\t\t\t<i class="fa fa-cog powa-ctrls-icon" data-ys="true" data-customize-captions-click="true"></i>\n\t\t\t\t</div>\n\t\t\t\t<img class="on cc-disabled" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ4LjIgKDQ3MzI3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5DQzwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJvcHRpb25zIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTA0LjAwMDAwMCwgLTIxNy4wMDAwMDApIj4KICAgICAgICA8ZyBpZD0iU3RhY2tlZC1Hcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MDQuMDAwMDAwLCAxNzcuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPHBhdGggZD0iTTIsNDIuNDkyNTc1MyBMMiw1Ny41MDc0MjQ3IEMyLDU3Ljc3Njg4NzcgMi4yMjM2ODY4LDU4IDIuNTAwNTAxNjUsNTggTDIxLjQ5OTQ5ODQsNTggQzIxLjc3NDIxOCw1OCAyMiw1Ny43NzUyOTc5IDIyLDU3LjUwNzQyNDcgTDIyLDQyLjQ5MjU3NTMgQzIyLDQyLjIyMzExMjMgMjEuNzc2MzEzMiw0MiAyMS40OTk0OTg0LDQyIEwyLjUwMDUwMTY1LDQyIEMyLjIyNTc4MTk5LDQyIDIsNDIuMjI0NzAyMSAyLDQyLjQ5MjU3NTMgWiBNMCw0Mi40OTI1NzUzIEMwLDQxLjExNTk2NCAxLjEyNTM3OTQ0LDQwIDIuNTAwNTAxNjUsNDAgTDIxLjQ5OTQ5ODQsNDAgQzIyLjg4MDQ4NzMsNDAgMjQsNDEuMTE4MTQyMiAyNCw0Mi40OTI1NzUzIEwyNCw1Ny41MDc0MjQ3IEMyNCw1OC44ODQwMzYgMjIuODc0NjIwNiw2MCAyMS40OTk0OTg0LDYwIEwyLjUwMDUwMTY1LDYwIEMxLjExOTUxMjcyLDYwIDAsNTguODgxODU3OCAwLDU3LjUwNzQyNDcgTDAsNDIuNDkyNTc1MyBaIE04LjA4NjE3NjQ3LDU0LjEyIEM2LjAyMjE3NjQ3LDU0LjEyIDQuNjE4MTc2NDcsNTIuNTYgNC42MTgxNzY0Nyw1MC4xMzYgQzQuNjE4MTc2NDcsNDcuNCA1Ljk5ODE3NjQ3LDQ1Ljg2NCA4LjEzNDE3NjQ3LDQ1Ljg2NCBDOS45NzAxNzY0Nyw0NS44NjQgMTEuMDAyMTc2NSw0Ni45MDggMTEuMzE0MTc2NSw0OC42NiBMOS40MzAxNzY0Nyw0OC45NiBDOS4yODYxNzY0Nyw0Ny45NjQgOC45ODYxNzY0Nyw0Ny4zNzYgOC4xNDYxNzY0Nyw0Ny4zNzYgQzcuMjU4MTc2NDcsNDcuMzc2IDYuNzQyMTc2NDcsNDguMjA0IDYuNzQyMTc2NDcsNTAuMDQgQzYuNzQyMTc2NDcsNTEuNzQ0IDcuMTk4MTc2NDcsNTIuNjMyIDguMTk0MTc2NDcsNTIuNjMyIEM5LjAzNDE3NjQ3LDUyLjYzMiA5LjQ0MjE3NjQ3LDUyLjEwNCA5LjU5ODE3NjQ3LDUxLjAzNiBMMTEuMzk4MTc2NSw1MS4zMzYgQzExLjAxNDE3NjUsNTMuMTg0IDkuODk4MTc2NDcsNTQuMTIgOC4wODYxNzY0Nyw1NC4xMiBaIE0xNi4xODAxNzY1LDU0LjEyIEMxNC4xMTYxNzY1LDU0LjEyIDEyLjcxMjE3NjUsNTIuNTYgMTIuNzEyMTc2NSw1MC4xMzYgQzEyLjcxMjE3NjUsNDcuNCAxNC4wOTIxNzY1LDQ1Ljg2NCAxNi4yMjgxNzY1LDQ1Ljg2NCBDMTguMDY0MTc2NSw0NS44NjQgMTkuMDk2MTc2NSw0Ni45MDggMTkuNDA4MTc2NSw0OC42NiBMMTcuNTI0MTc2NSw0OC45NiBDMTcuMzgwMTc2NSw0Ny45NjQgMTcuMDgwMTc2NSw0Ny4zNzYgMTYuMjQwMTc2NSw0Ny4zNzYgQzE1LjM1MjE3NjUsNDcuMzc2IDE0LjgzNjE3NjUsNDguMjA0IDE0LjgzNjE3NjUsNTAuMDQgQzE0LjgzNjE3NjUsNTEuNzQ0IDE1LjI5MjE3NjUsNTIuNjMyIDE2LjI4ODE3NjUsNTIuNjMyIEMxNy4xMjgxNzY1LDUyLjYzMiAxNy41MzYxNzY1LDUyLjEwNCAxNy42OTIxNzY1LDUxLjAzNiBMMTkuNDkyMTc2NSw1MS4zMzYgQzE5LjEwODE3NjUsNTMuMTg0IDE3Ljk5MjE3NjUsNTQuMTIgMTYuMTgwMTc2NSw1NC4xMiBaIiBpZD0iQ0MiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==" alt="cc disabled">\n\t\t\t\t<img class="cc-enabled" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ4LjIgKDQ3MzI3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5Hcm91cCAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9Im9wdGlvbnMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01MDQuMDAwMDAwLCAtMjE3LjAwMDAwMCkiPgogICAgICAgIDxnIGlkPSJTdGFja2VkLUdyb3VwLTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUwNC4wMDAwMDAsIDE3Ny4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCA0MC4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0wLDIuNDkyNTc1MzUgQzAsMS4xMTU5NjQgMS4xMjUzNzk0NCwwIDIuNTAwNTAxNjUsMCBMMjEuNDk5NDk4NCwwIEMyMi44ODA0ODczLDAgMjQsMS4xMTgxNDIyIDI0LDIuNDkyNTc1MzUgTDI0LDE3LjUwNzQyNDcgQzI0LDE4Ljg4NDAzNiAyMi44NzQ2MjA2LDIwIDIxLjQ5OTQ5ODQsMjAgTDIuNTAwNTAxNjUsMjAgQzEuMTE5NTEyNzIsMjAgMCwxOC44ODE4NTc4IDAsMTcuNTA3NDI0NyBMMCwyLjQ5MjU3NTM1IFoiIGlkPSJDQyIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTYuMTgwMTc2NSwxNC4xMiBDMTQuMTE2MTc2NSwxNC4xMiAxMi43MTIxNzY1LDEyLjU2IDEyLjcxMjE3NjUsMTAuMTM2IEMxMi43MTIxNzY1LDcuNCAxNC4wOTIxNzY1LDUuODY0IDE2LjIyODE3NjUsNS44NjQgQzE4LjA2NDE3NjUsNS44NjQgMTkuMDk2MTc2NSw2LjkwOCAxOS40MDgxNzY1LDguNjYgTDE3LjUyNDE3NjUsOC45NiBDMTcuMzgwMTc2NSw3Ljk2NCAxNy4wODAxNzY1LDcuMzc2IDE2LjI0MDE3NjUsNy4zNzYgQzE1LjM1MjE3NjUsNy4zNzYgMTQuODM2MTc2NSw4LjIwNCAxNC44MzYxNzY1LDEwLjA0IEMxNC44MzYxNzY1LDExLjc0NCAxNS4yOTIxNzY1LDEyLjYzMiAxNi4yODgxNzY1LDEyLjYzMiBDMTcuMTI4MTc2NSwxMi42MzIgMTcuNTM2MTc2NSwxMi4xMDQgMTcuNjkyMTc2NSwxMS4wMzYgTDE5LjQ5MjE3NjUsMTEuMzM2IEMxOS4xMDgxNzY1LDEzLjE4NCAxNy45OTIxNzY1LDE0LjEyIDE2LjE4MDE3NjUsMTQuMTIgWiBNOC4wODYxNzY0NywxNC4xMiBDNi4wMjIxNzY0NywxNC4xMiA0LjYxODE3NjQ3LDEyLjU2IDQuNjE4MTc2NDcsMTAuMTM2IEM0LjYxODE3NjQ3LDcuNCA1Ljk5ODE3NjQ3LDUuODY0IDguMTM0MTc2NDcsNS44NjQgQzkuOTcwMTc2NDcsNS44NjQgMTEuMDAyMTc2NSw2LjkwOCAxMS4zMTQxNzY1LDguNjYgTDkuNDMwMTc2NDcsOC45NiBDOS4yODYxNzY0Nyw3Ljk2NCA4Ljk4NjE3NjQ3LDcuMzc2IDguMTQ2MTc2NDcsNy4zNzYgQzcuMjU4MTc2NDcsNy4zNzYgNi43NDIxNzY0Nyw4LjIwNCA2Ljc0MjE3NjQ3LDEwLjA0IEM2Ljc0MjE3NjQ3LDExLjc0NCA3LjE5ODE3NjQ3LDEyLjYzMiA4LjE5NDE3NjQ3LDEyLjYzMiBDOS4wMzQxNzY0NywxMi42MzIgOS40NDIxNzY0NywxMi4xMDQgOS41OTgxNzY0NywxMS4wMzYgTDExLjM5ODE3NjUsMTEuMzM2IEMxMS4wMTQxNzY1LDEzLjE4NCA5Ljg5ODE3NjQ3LDE0LjEyIDguMDg2MTc2NDcsMTQuMTIgWiIgaWQ9IlBhdGgiIGZpbGw9IiMwMDAwMDAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+" alt="cc enabled">\n\t\t\t</div>\n\t\t</div>\n\t';break;case"hd":e+='<i class="fa fa-cc powa-ctrls-icon" aria-hidden="true"></i>'}}),e}(t),'\n\t\t\t\t\t</div>\n\t\t\t\t\t<i class="fa fa-share powa-ctrls-icon" aria-hidden="true"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'):'\n\t\t\t<div class="powa-ctrls-extras-wrap ctrls-right ctrls-item">\n\t\t\t\t'.concat('\n\t\t<div class="powa-ctrls-icon powa-ctrls-cc">\n\t\t\t<div class="powa-ctrls-cc-inner-wrap ctrls-item">\n\t\t\t\t<div class="powa-ctrls-cc-popup powa-ctrls-popup">\n\t\t\t\t\t<i class="fa fa-cog powa-ctrls-icon" data-ys="true" data-customize-captions-click="true"></i>\n\t\t\t\t</div>\n\t\t\t\t<img class="on cc-disabled" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ4LjIgKDQ3MzI3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5DQzwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJvcHRpb25zIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTA0LjAwMDAwMCwgLTIxNy4wMDAwMDApIj4KICAgICAgICA8ZyBpZD0iU3RhY2tlZC1Hcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MDQuMDAwMDAwLCAxNzcuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPHBhdGggZD0iTTIsNDIuNDkyNTc1MyBMMiw1Ny41MDc0MjQ3IEMyLDU3Ljc3Njg4NzcgMi4yMjM2ODY4LDU4IDIuNTAwNTAxNjUsNTggTDIxLjQ5OTQ5ODQsNTggQzIxLjc3NDIxOCw1OCAyMiw1Ny43NzUyOTc5IDIyLDU3LjUwNzQyNDcgTDIyLDQyLjQ5MjU3NTMgQzIyLDQyLjIyMzExMjMgMjEuNzc2MzEzMiw0MiAyMS40OTk0OTg0LDQyIEwyLjUwMDUwMTY1LDQyIEMyLjIyNTc4MTk5LDQyIDIsNDIuMjI0NzAyMSAyLDQyLjQ5MjU3NTMgWiBNMCw0Mi40OTI1NzUzIEMwLDQxLjExNTk2NCAxLjEyNTM3OTQ0LDQwIDIuNTAwNTAxNjUsNDAgTDIxLjQ5OTQ5ODQsNDAgQzIyLjg4MDQ4NzMsNDAgMjQsNDEuMTE4MTQyMiAyNCw0Mi40OTI1NzUzIEwyNCw1Ny41MDc0MjQ3IEMyNCw1OC44ODQwMzYgMjIuODc0NjIwNiw2MCAyMS40OTk0OTg0LDYwIEwyLjUwMDUwMTY1LDYwIEMxLjExOTUxMjcyLDYwIDAsNTguODgxODU3OCAwLDU3LjUwNzQyNDcgTDAsNDIuNDkyNTc1MyBaIE04LjA4NjE3NjQ3LDU0LjEyIEM2LjAyMjE3NjQ3LDU0LjEyIDQuNjE4MTc2NDcsNTIuNTYgNC42MTgxNzY0Nyw1MC4xMzYgQzQuNjE4MTc2NDcsNDcuNCA1Ljk5ODE3NjQ3LDQ1Ljg2NCA4LjEzNDE3NjQ3LDQ1Ljg2NCBDOS45NzAxNzY0Nyw0NS44NjQgMTEuMDAyMTc2NSw0Ni45MDggMTEuMzE0MTc2NSw0OC42NiBMOS40MzAxNzY0Nyw0OC45NiBDOS4yODYxNzY0Nyw0Ny45NjQgOC45ODYxNzY0Nyw0Ny4zNzYgOC4xNDYxNzY0Nyw0Ny4zNzYgQzcuMjU4MTc2NDcsNDcuMzc2IDYuNzQyMTc2NDcsNDguMjA0IDYuNzQyMTc2NDcsNTAuMDQgQzYuNzQyMTc2NDcsNTEuNzQ0IDcuMTk4MTc2NDcsNTIuNjMyIDguMTk0MTc2NDcsNTIuNjMyIEM5LjAzNDE3NjQ3LDUyLjYzMiA5LjQ0MjE3NjQ3LDUyLjEwNCA5LjU5ODE3NjQ3LDUxLjAzNiBMMTEuMzk4MTc2NSw1MS4zMzYgQzExLjAxNDE3NjUsNTMuMTg0IDkuODk4MTc2NDcsNTQuMTIgOC4wODYxNzY0Nyw1NC4xMiBaIE0xNi4xODAxNzY1LDU0LjEyIEMxNC4xMTYxNzY1LDU0LjEyIDEyLjcxMjE3NjUsNTIuNTYgMTIuNzEyMTc2NSw1MC4xMzYgQzEyLjcxMjE3NjUsNDcuNCAxNC4wOTIxNzY1LDQ1Ljg2NCAxNi4yMjgxNzY1LDQ1Ljg2NCBDMTguMDY0MTc2NSw0NS44NjQgMTkuMDk2MTc2NSw0Ni45MDggMTkuNDA4MTc2NSw0OC42NiBMMTcuNTI0MTc2NSw0OC45NiBDMTcuMzgwMTc2NSw0Ny45NjQgMTcuMDgwMTc2NSw0Ny4zNzYgMTYuMjQwMTc2NSw0Ny4zNzYgQzE1LjM1MjE3NjUsNDcuMzc2IDE0LjgzNjE3NjUsNDguMjA0IDE0LjgzNjE3NjUsNTAuMDQgQzE0LjgzNjE3NjUsNTEuNzQ0IDE1LjI5MjE3NjUsNTIuNjMyIDE2LjI4ODE3NjUsNTIuNjMyIEMxNy4xMjgxNzY1LDUyLjYzMiAxNy41MzYxNzY1LDUyLjEwNCAxNy42OTIxNzY1LDUxLjAzNiBMMTkuNDkyMTc2NSw1MS4zMzYgQzE5LjEwODE3NjUsNTMuMTg0IDE3Ljk5MjE3NjUsNTQuMTIgMTYuMTgwMTc2NSw1NC4xMiBaIiBpZD0iQ0MiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==" alt="cc disabled">\n\t\t\t\t<img class="cc-enabled" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ4LjIgKDQ3MzI3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5Hcm91cCAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9Im9wdGlvbnMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01MDQuMDAwMDAwLCAtMjE3LjAwMDAwMCkiPgogICAgICAgIDxnIGlkPSJTdGFja2VkLUdyb3VwLTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUwNC4wMDAwMDAsIDE3Ny4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCA0MC4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0wLDIuNDkyNTc1MzUgQzAsMS4xMTU5NjQgMS4xMjUzNzk0NCwwIDIuNTAwNTAxNjUsMCBMMjEuNDk5NDk4NCwwIEMyMi44ODA0ODczLDAgMjQsMS4xMTgxNDIyIDI0LDIuNDkyNTc1MzUgTDI0LDE3LjUwNzQyNDcgQzI0LDE4Ljg4NDAzNiAyMi44NzQ2MjA2LDIwIDIxLjQ5OTQ5ODQsMjAgTDIuNTAwNTAxNjUsMjAgQzEuMTE5NTEyNzIsMjAgMCwxOC44ODE4NTc4IDAsMTcuNTA3NDI0NyBMMCwyLjQ5MjU3NTM1IFoiIGlkPSJDQyIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTYuMTgwMTc2NSwxNC4xMiBDMTQuMTE2MTc2NSwxNC4xMiAxMi43MTIxNzY1LDEyLjU2IDEyLjcxMjE3NjUsMTAuMTM2IEMxMi43MTIxNzY1LDcuNCAxNC4wOTIxNzY1LDUuODY0IDE2LjIyODE3NjUsNS44NjQgQzE4LjA2NDE3NjUsNS44NjQgMTkuMDk2MTc2NSw2LjkwOCAxOS40MDgxNzY1LDguNjYgTDE3LjUyNDE3NjUsOC45NiBDMTcuMzgwMTc2NSw3Ljk2NCAxNy4wODAxNzY1LDcuMzc2IDE2LjI0MDE3NjUsNy4zNzYgQzE1LjM1MjE3NjUsNy4zNzYgMTQuODM2MTc2NSw4LjIwNCAxNC44MzYxNzY1LDEwLjA0IEMxNC44MzYxNzY1LDExLjc0NCAxNS4yOTIxNzY1LDEyLjYzMiAxNi4yODgxNzY1LDEyLjYzMiBDMTcuMTI4MTc2NSwxMi42MzIgMTcuNTM2MTc2NSwxMi4xMDQgMTcuNjkyMTc2NSwxMS4wMzYgTDE5LjQ5MjE3NjUsMTEuMzM2IEMxOS4xMDgxNzY1LDEzLjE4NCAxNy45OTIxNzY1LDE0LjEyIDE2LjE4MDE3NjUsMTQuMTIgWiBNOC4wODYxNzY0NywxNC4xMiBDNi4wMjIxNzY0NywxNC4xMiA0LjYxODE3NjQ3LDEyLjU2IDQuNjE4MTc2NDcsMTAuMTM2IEM0LjYxODE3NjQ3LDcuNCA1Ljk5ODE3NjQ3LDUuODY0IDguMTM0MTc2NDcsNS44NjQgQzkuOTcwMTc2NDcsNS44NjQgMTEuMDAyMTc2NSw2LjkwOCAxMS4zMTQxNzY1LDguNjYgTDkuNDMwMTc2NDcsOC45NiBDOS4yODYxNzY0Nyw3Ljk2NCA4Ljk4NjE3NjQ3LDcuMzc2IDguMTQ2MTc2NDcsNy4zNzYgQzcuMjU4MTc2NDcsNy4zNzYgNi43NDIxNzY0Nyw4LjIwNCA2Ljc0MjE3NjQ3LDEwLjA0IEM2Ljc0MjE3NjQ3LDExLjc0NCA3LjE5ODE3NjQ3LDEyLjYzMiA4LjE5NDE3NjQ3LDEyLjYzMiBDOS4wMzQxNzY0NywxMi42MzIgOS40NDIxNzY0NywxMi4xMDQgOS41OTgxNzY0NywxMS4wMzYgTDExLjM5ODE3NjUsMTEuMzM2IEMxMS4wMTQxNzY1LDEzLjE4NCA5Ljg5ODE3NjQ3LDE0LjEyIDguMDg2MTc2NDcsMTQuMTIgWiIgaWQ9IlBhdGgiIGZpbGw9IiMwMDAwMDAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+" alt="cc enabled">\n\t\t\t</div>\n\t\t</div>\n\t',"\n\t\t\t</div>\n\t\t")).trim()},Nt="\n\n\t.powa-sticky-stick.powa-sticky.mobile .powa-ctrls-extras-wrap {\n\t\tdisplay: none;\n\t}\n\n\t.powa-ctrls-extras-inner-wrap.ctrls-item {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t}\n\n\t.powa-ctrls-extras-inner-wrap.ctrls-item:hover {\n\t\tbackground-color: rgba(0, 0, 0, .7);\n\t}\n\n\t.powa-ctrls-extras-inner-wrap.ctrls-item:hover .powa-ctrls-extras-popup {\n\t\tdisplay: block;\n\t}\n\n\t.powa-ctrls-cc img {\n\t\tdisplay: none !important;\n\t}\n\n\t.powa-ctrls-cc img.on {\n\t\tdisplay: block !important;\n\t\twidth: 26px;\n\t\theight: 30px;\n\t\tmargin-left: 7px;\n\t}\n\n\t.powa-ctrls-cc img.on {\n\t\twidth: 26px;\n\t\theight: 30px;\n\t\tmargin-left: 7px;\n\t}\n\n\t.powa-ctrls-cc-inner-wrap.ctrls-item {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t}\n\n\t.powa-ctrls-cc-inner-wrap.subs-enabled:hover,\n\t.powa-ctrls-cc-inner-wrap.subs-enabled.hover {\n\t\tbackground-color: rgba(0, 0, 0, .7);\n\t}\n\n\t.powa-ctrls-cc-inner-wrap.subs-enabled:hover .powa-ctrls-cc-popup,\n\t.powa-ctrls-cc-inner-wrap.subs-enabled.hover .powa-ctrls-cc-popup {\n\t\tdisplay: block;\n\t}\n\n\t.powa-ctrls-cc-popup .powa-ctrls-icon {\n\t\tcolor: #d3d3d3;\n\t\ttext-shadow: none;\n\t\tmargin-bottom: 4px;\n\t}\n\n\t.powa-ctrls-cc-popup .powa-ctrls-icon:hover {\n\t\tcolor: white;\n\t}\n\n\t.powa.wapo-ctrls .powa-pane {\n\t\tz-index: 3;\n\t}\n",Rt=n(0);function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vt(t,e){return(Vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Bt=function(t){function e(t){var n,i,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,o=$t(e).call(this,t),n=!o||"object"!==zt(o)&&"function"!=typeof o?Ut(i):o,["getEl","ccClick","subsAvailable","subsUnavailable","subsEnabled","subsDisabled"].map(function(t){return n[t]=n[t].bind(Ut(n))}),Object(r.addCSS)(Nt,"powa-controls-extras"),n._$el=Object(k.$)(Lt(t.extras)),n._$cc=n._$el.find(".powa-ctrls-cc"),n._$ccDisabled=n._$cc.find(".cc-disabled"),n._$ccEnabled=n._$cc.find(".cc-enabled"),n._$cc.on("click",n.ccClick),n._$cc.on("touchend",n.ccClick),n._$ccInnerWrap=n._$el.find(".powa-ctrls-cc-inner-wrap"),"live"===n._powa.getVideoData().video_type&&(n.subsUnavailable(),n._powa.once("time",function(t){var e=!!n._powa.getStatus().subtitle,i=n._powa.getID();window.powas[i].powaTrack.filter(function(t){return"WapoCueChanged"===t.event})[0]?(n._$el.show(),e?n.subsEnabled():n.subsDisabled()):(n._powa.showSubtitles(),n._powa.once("WapoCueChanged",function(t){n._$el.show(),e||(n._powa.hideSubtitles(),n.subsDisabled())}))})),Object(m.forEach)(window.PoWa.EVENTS,function(t){n[t]&&n._powa.on(t,n[t].bind(Ut(n)))}),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vt(t,e)}(e,A),n=e,(i=[{key:"getEl",value:function(){return this._$el}},{key:"ccClick",value:function(t){var e=this;if(t.preventDefault(),"true"===t.target.dataset.customizeCaptionsClick)this._powa.trigger(Rt.t.SUBTITLES_CUSTOMIZE_CLICK);else if(t.type.includes("touch")){if(!this._powa.getStatus().subtitle)return this._powa.toggleSubtitles(),this._$ccInnerWrap.addClass("hover"),void setTimeout(function(){e._$ccInnerWrap.removeClass("hover")},3e3);if(!0!==this._$ccInnerWrap.hasClass("hover"))return this._$ccInnerWrap.addClass("hover"),void setTimeout(function(){e._$ccInnerWrap.removeClass("hover")},3e3);this._powa.toggleSubtitles()}else this._powa.toggleSubtitles()}},{key:"subsAvailable",value:function(t){"live"!==this._powa.getVideoData().video_type&&this._$el.show()}},{key:"subsUnavailable",value:function(){this._$el.hide()}},{key:"subsEnabled",value:function(t){this._$ccEnabled.addClass("on"),this._$ccDisabled.removeClass("on"),this._$ccInnerWrap.addClass("subs-enabled")}},{key:"subsDisabled",value:function(){this._$ccEnabled.removeClass("on"),this._$ccDisabled.addClass("on"),this._$ccInnerWrap.removeClass("subs-enabled")}},{key:"subtitlesCustomizeOpened",value:function(){this.subtitlesCustomizeIsOpen=!0}},{key:"subtitlesCustomizeClosed",value:function(){this.subtitlesCustomizeIsOpen=!1}},{key:"end",value:function(){this.subtitlesCustomizeIsOpen&&this._powa.trigger(Rt.t.SUBTITLES_CUSTOMIZE_CLICK)}}])&&Wt(n.prototype,i),o&&Wt(n,o),e}(),Ft='\n\t<div class="powa-ctrls-progress-wrap ctrls-left powa-ctrls-hide">\n\t\t<div class="franklin-light powa-ctrls-progress"></div>\n\t</div>\n'.trim(),Ht="\n\n    .powa-sticky-stick.powa-sticky.mobile .powa-ctrls-progress-wrap {\n        display: none;\n    }\n\n    .powa.xSmall .powa-ctrls-progress.live {\n        font-size: 13px;\n        letter-spacing: 1px;\n    }\n\n    .powa-ctrls-progress-wrap {\n        display: flex;\n        align-items: center;\n    }\n\n    .powa-ctrls-progress {\n        height: 30px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        min-width: 100px;\n        font-size: 15px;\n        text-shadow: none;\n    }\n\n    .powa.xSmall .powa-ctrls-progress.live {\n        font-size: 13px;\n        letter-spacing: 1px;\n    }\n\n    .powa-ctrls-progress.live {\n        letter-spacing: 1px;\n        width: 42px;\n        min-width: auto;\n        background-color: #E10C16;\n        border-radius: 3px;\n        cursor: default;\n        height: 26px;\n    }\n\n";function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kt=function(t){function e(t){var n,i,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,n=!(o=Gt(e).call(this,t))||"object"!==Qt(o)&&"function"!=typeof o?Zt(i):o,Object(r.addCSS)(Ht,"powa-controls-progress"),n._$el=Object(k.$)(Ft),n._$progress=n._$el.find(".powa-ctrls-progress"),n.onTimeHandler=n.onTime.bind(Zt(n)),n.offset=t.offset||0,n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}(e,A),n=e,(i=[{key:"showProgress",value:function(t){t?(this._$progress.html("LIVE"),this._$el.removeClass("powa-ctrls-hide"),this._$progress.addClass("live"),this._powa.off(window.PoWa.EVENTS.TIME,this.onTimeHandler)):(this._$progress.removeClass("live"),this._powa.on(window.PoWa.EVENTS.TIME,this.onTimeHandler))}},{key:"onTime",value:function(t){this._$el.removeClass("powa-ctrls-hide"),t.time&&t.duration&&this._$progress.html("".concat(Object(r.formatTime)(Math.floor(t.time-this.offset))," / ").concat(Object(r.formatTime)(Math.floor(t.duration-this.offset))))}},{key:"setup",value:function(){var t=this;this.showProgress("live"===Object(r.get)(this._powa.getVideoData(),"video_type")),this._powa.on("start",function(e){t.showProgress("live"===Object(r.get)(t._powa.getVideoData(),"video_type"))})}},{key:"getEl",value:function(){return this._$el}}])&&Yt(n.prototype,i),o&&Yt(n,o),e}(),Xt='\n\t<div class="powa-overlay ctrls-overlay">\n\t\t<div class="ctrls-overlay-center">\n\t\t\t<i class="fa fa-step-backward powa-overlay-prev" data-display="ghost" aria-hidden="true"></i>\n\t\t\t<i class="fa fa-pause powa-overlay-icon" aria-hidden="true"></i>\n\t\t\t<i class="fa fa-step-forward powa-overlay-next" data-display="ghost" aria-hidden="true"></i>\n\t\t</div>\n\t\t<div class="ctrls-overlay-top franklin-light"></div>\n\t</div>\n'.trim();function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ee(t,e){return!e||"object"!==Jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ie(t,e){return(ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oe(t){var e=t.currentIndex,n=t.playlistStatus,i=0===e,o=e===n.length-1;if(n.length>1){var a=i?"ghost":"show",r=o?"ghost":"show";this._$next.attr("data-display",r),this._$prev.attr("data-display",a)}}Object(r.addCSS)('\n    .powa[data-show-title="false"] .ctrls-overlay-top {\n        display: none;\n    }\n\n    .powa-custom-ctrls:not(.mobile):hover .powa-overlay {\n        display: block;\n    }\n\n    .powa-custom-ctrls.mobile.active .powa-overlay, .powa-custom-ctrls.powa-pause .powa-overlay {\n        display: block;\n    }\n\n    .ctrls-overlay-center {\n        position: absolute;\n        height: 100%;\n        width: 100%;\n        justify-content: center;\n        align-items: center;\n        display: flex;\n        z-index: 2;\n    }\n\n    .powa-sticky-stick.powa-sticky .powa-overlay-wrap .ctrls-overlay .ctrls-overlay-center {\n        height:unset;\n        bottom: calc(15px + 35%);\n        z-index: 100;\n    }\n\n    .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-icon {\n        font-size: 45px;\n        margin-top:4px;\n        cursor: pointer;\n        font-size: 2.3em;\n    }\n\n    .ctrls-overlay-center .powa-overlay-icon {\n        margin-left: 40px;\n        margin-right: 40px;\n    }\n\n    .powa.xSmall .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-icon {\n        width: 4%;\n        min-width: 40px;\n        margin: -24px calc(22px + 2%) 0 calc(26px + 2%);\n        font-size: 1.75em;\n        line-height: 0;\n        text-align: center;\n    }\n\n    .powa-sticky-stick.powa-sticky .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-icon {\n        width: 10%;\n        min-width:20px;\n        font-size:1.75em;\n        margin: 0 calc(16px + 4%) 0 calc(20px + 4%);\n    }\n\n    .powa-sticky-stick.powa-sticky .powa-overlay-icon {\n        width: 10%;\n        min-width:20px;\n        font-size:2em;\n        margin: 0 calc(12px + 5%) 0 calc(16px + 5%)\n    }\n\n    .powa-custom-ctrls.mobile.active .powa-overlay-icon, .powa-custom-ctrls.powa-pause .powa-overlay-icon {\n        display: block;\n    }\n\n    .powa-sticky .ctrls-overlay-top {\n        display: none;\n    }\n\n    .ctrls-overlay-top {\n        padding: 15px 20px;\n        font-size: 16px;\n        line-height: 20px;\n        text-shadow: none;\n        text-align: left;\n    }\n\n    .powa.small .ctrls-overlay-top {\n        font-size: 16px;\n        line-height: 1.4;\n    }\n\n    .powa-overlay {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        color: white;\n        display: none;\n        background-image: linear-gradient(-180deg, rgba(0,0,0,0.70) 9%, rgba(0,0,0,0.25) 28%, rgba(0,0,0,0.25) 59%, rgba(0,0,0,0.70) 89%);\n    }\n\n    .powa-overlay-prev[data-display="ghost"], .powa-overlay-next[data-display="ghost"] {\n        visibility: hidden;\n    }\n\n    .powa-overlay-prev.fa, .powa-overlay-next.fa {\n        margin-top: 4px;\n        font-size: 32px;\n        cursor: pointer;\n    }\n\n    .powa.xSmall .powa-overlay-prev, .powa.xSmall .powa-overlay-next {\n        margin-top: 0px;\n        font-size: 1.3em;\n    }\n\n    .powa.xSmall .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-next,\n    .powa.xSmall .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-prev {\n        margin-top: -24px;\n        font-size: 1.5em;\n    }\n\n    .powa-sticky-stick.powa-sticky .powa.xSmall .powa-overlay-next,\n    .powa-sticky-stick.powa-sticky .powa.xSmall .powa-overlay-next {\n        font-size:1.3em;\n    }\n\n    /* Minor default adjustments */\n    .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-icon {\n        width: 4%;\n        min-width:40px;\n        margin: 0 calc(22px + 2%) 0 calc(26px + 2%);\n        font-size: 2.5em;\n        line-height: 0;\n        text-align: center;\n    }\n\n    /* Adjusts sizing and margin of prev/next button */\n    .powa-sticky-stick.powa-sticky .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-next,\n    .powa-sticky-stick.powa-sticky .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-prev {\n        margin-top:0;\n        font-size:1.6em;\n    }\n    /* Adjusts padding of controls */\n    .powa-sticky-stick.powa-sticky .powa-ctrls .powa-ctrls-top {\n        padding:6px 8px;\n    }\n    /* Hides progress indicator */\n    .powa-sticky-stick.powa-sticky .powa-ctrls .powa-ctrls-top .powa-ctrls-progress-wrap {\n        display:none;\n    }\n    /* Adjusts positioning of individual items within set of controls */\n    .powa-sticky-stick.powa-sticky .powa-ctrls .powa-ctrls-top .powa-ctrls-item {\n        line-height: 32px;\n        width:32px;\n    }\n\n    /* Minor adjustments 2018-10-29 */\n    /* Small */\n    .powa.small .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-icon {\n        margin-top:0;\n        font-size: 2.5em;\n    }\n    .powa.small .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-next,\n    .powa.small .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-prev {\n        margin-top:0;\n        font-size: 1.75em;\n    }\n\n    /* Large */\n    .powa.large .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-icon {\n        margin-top:0;\n        font-size: 3em;\n    }\n    .powa.large .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-next,\n    .powa.large .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-prev {\n        margin-top:0;\n        font-size: 2em;\n    }\n\n\n    /* Sticky */\n    .powa-sticky-stick.powa-sticky .powa-custom-ctrls .ctrls-overlay-center .powa-overlay-icon {\n        font-size:2em;\t/* adjusted from previous value */\n    }\n    .powa-sticky-stick.powa-sticky .powa-overlay-wrap .ctrls-overlay .ctrls-overlay-center {\n        bottom: calc(20px + 35%); /* adjusted from previous value */\n    }\n',"powa-controls-overlay");var ae=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ee(this,ne(e).call(this,t)))._$el=Object(k.$)(Xt),n._$icon=n._$el.find(".powa-overlay-icon"),n._$title=n._$el.find(".ctrls-overlay-top"),n._$next=n._$el.find(".powa-overlay-next"),n._$prev=n._$el.find(".powa-overlay-prev"),n._powa=t.powa,n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(e,A),n=e,(i=[{key:"setup",value:function(){var t=this;this._$title.html(Object(r.get)(this._powa.getVideoData(),"headlines.basic",""));var e=this._powa.getPlaylistMeta();oe.call(this,e),this._powa.on(window.PoWa.EVENTS.START,function(e){t._$title.html(Object(r.get)(t._powa.getVideoData(),"headlines.basic","")),oe.call(t,e.playlistMeta)}),this._powa.on(window.PoWa.EVENTS.PAUSE,function(e){t._$icon.removeClass("fa-pause"),t._$icon.addClass("fa-play"),t._powa.trigger("loadRecommendedPlaylist")}),this._powa.on(window.PoWa.EVENTS.PLAY,function(e){t._$icon.removeClass("fa-play"),t._$icon.addClass("fa-pause")}),this._powa.on("playlist",function(e){oe.call(t,e.playlistMeta)}),this._powa.on("playlistLoaded",function(e){oe.call(t,e.playlistMeta)}),this._$next.on("click",function(e){e.stopPropagation(),t._powa.next()}),this._$prev.on("click",function(e){e.stopPropagation(),t._powa.prev()})}},{key:"getEl",value:function(){return this._$el}}])&&te(n.prototype,i),o&&te(n,o),e}();function re(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var se=Object(r.sniffClient)(),ce=new WeakMap,le=3e3;function ue(t){return ce.has(t)||ce.set(t,{}),ce.get(t)}function de(t){var e=this;ue(this).timeout&&window.clearTimeout(ue(this).timeout),ue(this)._$bar.addClass("active"),ue(this)._powa.trigger("customBarShow"),ue(this).timeout=window.setTimeout(function(){ue(e)._$bar.removeClass("active"),ue(e)._powa.trigger("customBarHide")},t)}function pe(){var t=ue(this)._$bar.find(".powa-ctrls-scrubber-wrap").height(),e=ue(this)._$bar.find(".powa-ctrls-right").height();ue(this)._powa.getElement().querySelector(".powa-sub").style.bottom="".concat(t+e,"px")}var he=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.id&&!e.powa)throw"Invalid settings to setup Scrubber";ue(this)._$el=e.powa.get$container(),ue(this)._$videoEl=ue(this)._$el.find("video"),ue(this)._powa=e.powa,ue(this)._Components=[],e.playPause&&!se.isMobile&&ue(this)._Components.push(new U(e)),e.progress&&ue(this)._Components.push(new Kt(e)),e.fullscreen&&ue(this)._Components.push(new K(e)),e.volume&&ue(this)._Components.push(new rt(e)),e.share&&ue(this)._Components.push(new yt(e)),e.pip&&ue(this)._Components.push(new Mt(e)),e.extras&&ue(this)._Components.push(new Bt(e)),e.scrubber&&!e.live&&ue(this)._Components.push(new I(e)),e.overlay&&ue(this)._Components.push(new ae(e)),function(){Object(r.addCSS)(O,"powa-controls"),this.hideNativeControls()}.call(this),function(){var t=this;ue(this)._$container=ue(this)._powa.get$container(),ue(this)._$bar=Object(k.$)(S),(se.isMobile||se.isTablet)&&ue(this)._$bar.addClass("mobile"),ue(this)._$el.append(ue(this)._$bar),ue(this)._$ctrls=ue(this)._$bar.find(".powa-ctrls");var e=ue(this)._$bar.find(".powa-overlay-wrap"),n=ue(this)._$ctrls.find(".powa-ctrls-left"),i=ue(this)._$ctrls.find(".powa-ctrls-right");ue(this)._Components.forEach(function(o){var a=o.getEl();a.hasClass("ctrls-left")?n.append(a):a.hasClass("ctrls-right")?i.append(a):a.hasClass("ctrls-overlay")?e.append(a):ue(t)._$ctrls.append(a)})}.call(this),function(){var t=this;function e(){ue(this)._$bar.removeClass("powa-ctrls-hide"),ue(this)._$container.addClass("wapo-ctrls")}function n(){ue(this)._$bar.addClass("powa-ctrls-hide"),ue(this)._$container.removeClass("wapo-ctrls")}ue(this)._$container=ue(this)._powa.get$container(),ue(this)._Components.forEach(function(t){return t.setup()}),ue(this)._powa.on("hideWapoScrubber",function(e){n.call(t)}),ue(this)._powa.on("showWapoScrubber",function(n){e.call(t)}),ue(this)._powa.on(window.PoWa.EVENTS.AD_START,function(e){n.call(t)}),ue(this)._powa.on(window.PoWa.EVENTS.END,function(e){n.call(t)}),ue(this)._powa.on(window.PoWa.EVENTS.PLAY,function(n){e.call(t),ue(t)._$bar.removeClass("powa-pause"),"live"===Object(r.get)(ue(t)._powa.getVideoData(),"video_type")?ue(t)._$bar.addClass("live"):ue(t)._$bar.removeClass("live")}),ue(this)._powa.on(window.PoWa.EVENTS.PAUSE,function(e){!0!==Object(r.get)(e,"adRunning")&&ue(t)._$bar.addClass("powa-pause")}),ue(this)._powa.on(window.PoWa.EVENTS.START,function(e){"live"===Object(r.get)(ue(t)._powa.getVideoData(),"video_type")?ue(t)._$bar.addClass("live"):ue(t)._$bar.removeClass("live")}),ue(this)._powa.on(window.PoWa.EVENTS.MEDIA_START,function(n){e.call(t)}),ue(this)._$ctrls.on("click",function(t){t.stopPropagation()}),ue(this)._$bar.on("click",function(e){e.stopPropagation(),se.isDesktop?ue(t)._powa.togglePlay():ue(t)._$bar.hasClass("active")||ue(t)._$bar.hasClass("powa-pause")?(ue(t)._powa.trigger("customBarShow"),window.clearTimeout(ue(t).timeout),de.call(t,le),ue(t)._powa.togglePlay()):de.call(t,le)}),se.isMobile&&window.addEventListener("click",function(e){window.clearTimeout(ue(t).timeout),ue(t)._$bar.removeClass("active"),ue(t)._powa.trigger("customBarHide")}),ue(this)._$bar.on("mouseover",function(e){ue(t)._powa.trigger("customBarShow")}),ue(this)._$bar.on("mouseout",function(e){ue(t)._powa.trigger("customBarHide")});var i=ue(this)._$bar.find(".powa-ctrls-scrubber-wrap");ue(this)._powa.on("customBarShow",function(e){ue(t)._powa.trigger("powaBarShow",{height:i.height()}),pe.call(t)}),ue(this)._powa.on("customBarHide",function(e){ue(t)._powa.trigger("powaBarShow",{height:i.height()}),pe.call(t)}),ue(this)._powa.on("customBarRepositionPowaSub",function(e){pe.call(t)}),ue(this)._powa.on(window.PoWa.EVENTS.SUBTITLES_CUSTOMIZE_OPENED,function(e){ue(t)._$bar.addClass("subtitles-customize-opened")}),ue(this)._powa.on(window.PoWa.EVENTS.SUBTITLES_CUSTOMIZE_CLOSED,function(e){ue(t)._$bar.removeClass("subtitles-customize-opened")})}.call(this)}var e,n,i;return e=t,(n=[{key:"hideNativeControls",value:function(){ue(this)._$videoEl.removeAttr("controls")}},{key:"showNativeControls",value:function(){ue(this)._$videoEl.attr("controls","controls"),ue(this)._$videoEl.attr("playsinline","playsinline")}},{key:"hide",value:function(){ue(this)._$bar.addClass("off")}},{key:"show",value:function(){ue(this)._$bar.removeClass("off")}}])&&re(e.prototype,n),i&&re(e,i),t}();function ge(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var fe={prefix:"powaSplitTest"},ve=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=Object.assign({},fe,n),this.localStorageSupport=Object(r.isLocalStorageSupported)(),!e)throw"Invalid settings to setup SplitTest";this.name="powaSplitTest__".concat(e),this.facetStorageName="powaSplitTest_".concat(e),this.displayName=e,this._initFacets(this.settings.facets);var i=this._getExistingSplitTest();i?(this._splitTest=i,this._facet=this.getFacet()):(i=this._setNewSplitTest(),this.newAllocation=!0),this.settings.facetStorage&&this._setFacetStorage()}var e,n,i;return e=t,(n=[{key:"in",value:function(){var t,e,n;if(0===arguments.length){if(!(t=this.facets.true))return console.warn("[".concat("SplitTest","] in() called without arguments, but no true facet defined -- returning false")),!1;e=t[0],n=t[1]}else if(1===arguments.length&&"string"==typeof arguments[0]){if(!(t=this.facets[arguments[0]]))return console.warn("[".concat("SplitTest","] in() called with facet ").concat(arguments[0],", but no such facet found -- returning false")),!1;e=t[0],n=t[1]}else arguments.length>=2&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(e=arguments[0],n=arguments[1]);return Object(r.isNumWithin)(this._splitTest,e,n)}},{key:"getFacet",value:function(){var t,e=this;return Object.keys(this.facets).forEach(function(n){e.in(n)&&(t=n)}),t}},{key:"getPrefix",value:function(){return this.settings.prefix}},{key:"getSplitTest",value:function(){return this._splitTest}},{key:"_initFacets",value:function(t){var e=this;if(this.facets={},Object.keys(t).forEach(function(n){var i=t[n];"number"==typeof i&&Object(r.isNumWithin)(i,1,100)?e.facets[n]=[1,i]:e.facets[n]=i}),this.facets.hasOwnProperty("true")&&!this.facets.hasOwnProperty("false")){var n=t.true+1;this.facets.false=[n,100]}}},{key:"_getExistingSplitTest",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.name,e=(this._getStorage(t)||"").split("|");if(2===e.length&&e[0]===this.settings.prefix){var n=parseInt(e[1]);return Object(r.isInteger)(n)&&Object(r.isNumWithin)(n,1,100)?n:void 0}}},{key:"_setNewSplitTest",value:function(t){var e=t||Object(r.getRandomNumber)(1,100);this._splitTest=e,this._facet=this.getFacet();var n="".concat(this.settings.prefix,"|").concat(e);return this._setStorage(this.name,n),e}},{key:"_setFacetStorage",value:function(){var t=this._facet?"".concat(this._facet,"|"):"",e="".concat(t).concat(this.settings.prefix);this._setStorage(this.facetStorageName,e)}},{key:"_getStorage",value:function(t){return this.localStorageSupport?localStorage.getItem(t):Object(r.getCookie)(t)}},{key:"_setStorage",value:function(t,e){this.localStorageSupport?localStorage.setItem(t,e):Object(r.setCookie)(t,e,365)}}])&&ge(e.prototype,n),i&&ge(e,i),t}();function me(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var be="\n\t.powa-switchplay-wrapper {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tposition: absolute;\n\t\tright: 30px;\n\t\tbottom: 15px;\n\t\tfont-size: 16px;\n\t\tfont-weight: 400;\n\t}\n\t.powa-switchplay-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tborder: 2px solid white;\n\t\tborder-radius: 2px;\n\t\tbackground-color: rgba(0,0,0,.75);\n\t\tcolor: white;\n\t\tpadding: 6px 8px 6px 6px;\n\t\tcursor: pointer;\n\t}\n\t.powa-switchplay-btn svg path {\n\t\tfill: white;\n\t}\n\t.powa-switchplay-btn:hover {\n\t\tbackground: rgba(103, 96, 96, 0.7);\n\t}\n\t.powa-switchplay-svg {\n\t\theight: 30px;\n\t\twidth: 30px;\n\t}\n\t.powa-switchplay-text {\n\t\tpadding-left: 4px;\n\t}\n\n\t@media only screen and (max-width: 480px) {\n\t\t.powa-switchplay-wrapper {\n\t\t\tfont-size: 13px;\n\t\t}\n\n\t\t.powa-switchplay-btn {\n\t\t\tpadding: 4px 6px 4px 4px;\n\t\t}\n\n\t\t.powa-switchplay-svg {\n\t\t\theight: 25px;\n\t\t\twidth: 25px;\n\t\t}\n\t}\n",ye=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.id&&!e.powa)throw"Invalid settings to setup Switchplay";Object(r.addCSS)(be,"powa-switchplay"),this.powa=e.powa,this.settings=e,this.$powaEl=Object(k.$)(e.powa.getElement()),this.$el=Object(k.$)('\n\t\t<div class="powa-switchplay-wrapper franklin-light">\n\t\t\t<div class="powa-switchplay-btn">\n\t\t\t\t<div class="powa-switchplay-svg">'.concat(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],'\n\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 528 528"><style type="text/css">\n\t.st0{fill:#FFFFFF;}\n\t</style><switch><foreignObject requiredExtensions="http://ns.adobe.com/AdobeIllustrator/10.0/" width="1" height="1"/><path class="st0" d="M263 4.5C120.5 4.5 4.5 120.5 4.5 263c0 142.5 116 258.5 258.5 258.5 142.5 0 258.5-116 258.5-258.5C521.5 120.5 405.5 4.5 263 4.5zM310.7 347l-47.5 47.5 16.1 16.1 75-75L278 259.5l-16.1 16.1 48.7 48.7L34 323.7C28.7 303.9 26 283.5 26 263 26 132.3 132.3 26 263 26c49.7 0 97.3 15.3 137.6 44.2 38.5 27.6 67.6 65.3 84.2 109.3L216.7 179l47.5-47.5 -16.1-16.1 -75 75 76.2 76.2 16.1-16.1 -48.7-48.7 275.2 0.5c5.3 19.8 7.9 40.3 7.9 60.7 0 63.2-24.7 122.7-69.5 167.5C385.7 475.3 326.2 500 263 500c-49.7 0-97.3-15.3-137.6-44.2 -38.5-27.6-67.6-65.3-84.2-109.3L310.7 347z"/></switch></svg>'.trim()}(),'</div>\n\t\t\t\t<div class="powa-switchplay-text"> Switch to play ad in article</div>\n\t\t\t</div>\n\t\t</div>\n\t').trim()),this.$btn=this.$el.find(".powa-switchplay-btn"),this.adLoaded=this.adLoaded.bind(this),this.hideSwitchplay=this.hideSwitchplay.bind(this),this.handleClick=this.handleClick.bind(this),this.powa.on(Rt.t.AD_LOADED,this.adLoaded)}var e,n,i;return e=t,(n=[{key:"adLoaded",value:function(t){var e=this,n=Object(r.get)(t,"adMeta.mediaUrl");if(n&&n.endsWith("_switchplay.mp4")){this.powa.trigger(Rt.t.AD_BAR_DISABLE_SKIP);this.powa.until(Rt.t.AD_TIME,function(t){return!(t.elapsed<6)},function(t){t.elapsed>6&&(e.$powaEl.append(e.$el),e.powa.trigger("switchplayBtnShow"),e.powa.on(Rt.t.AD_SKIP,function(t){window.preroll={};var n="live"===e.powa.getVideoData().video_type?",live":",vod",i="this.powa.getDataset().playerType".concat(n),o=Object(r.get)(t,"adMeta.adId"),a=Object(r.get)(t,"event.adDuration"),s=a-Object(r.get)(t,"event.adRemaining");window.preroll={preroll_id:o,playerType:i,adDuration:a,adTimestamp:s},function(t){var e=document.querySelectorAll('wp-ad[id*="slug_inline_bb"],wp-ad[id*="mob_bigbox"]');if(e.length)for(var n=0;n<e.length;n++)e[n].setAttribute("data-refresh","off"),e[n].setTargeting(t)}({preroll_id:o}),e.powa.trigger("switchplayClick",{adId:o,adTimestamp:s,playerType:i})}),e.powa.on(Rt.t.AD_END,e.hideSwitchplay),e.$btn.on("click",e.handleClick))})}}},{key:"hideSwitchplay",value:function(){this.$el.hide()}},{key:"handleClick",value:function(){this.powa.skipAd("switchplay-clicked")}}])&&me(e.prototype,n),i&&me(e,i),t}();function we(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ke="\n\t.powa-preview {\n\t\tcursor: pointer;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tposition: absolute;\n\t}\n\n\t.powa-preview .powa-preview-button {\n\t\tfont-size: 15px;\n\t\tline-height: 16px;\n\t\tcolor: #EEE;\n\t\tpadding: 15px 20px;\n\t\tborder-radius: 4px;\n\t\tbackground-color: rgba(0,0,0,.6);\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tmargin: 20px;\n\t\t-webkit-font-smoothing: antialiased;\n\t}\n\n\t.powa-preview:hover .powa-preview-button {\n\t\tbackground-color: rgba(0,0,0,1);\n\t}\n\n\t.powa-preview i {\n\t\tpadding-right: 0.5em;\n\t}\n";var Se=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=e,this.id=e.id,this.powa=e.powa,this.$powaEl=this.powa.get$container(),this.debug="boolean"==typeof e.debug&&e.debug,Object(r.addCSS)(ke,"powa-preview"),this.html=function(t){return'\n\t\t<div class="powa-preview">\n\t\t\t<div class="powa-preview-button franklin-bold">\n\t\t\t\t<i class="fa fa-volume-up"></i>\n\t\t\t\t'.concat(t.playtext||"Listen","\n\t\t\t</div>\n\t\t</div>\n\t")}(e),this.$powaEl.append(this.html),this.handleClick=this.handleClick.bind(this),this.$preview=this.$powaEl.find(".powa-preview"),this.$preview.on("click",this.handleClick)}var e,n,i;return e=t,(n=[{key:"handleClick",value:function(){if(this.$preview.hide(),this.powa.trigger("previewClicked"),"function"==typeof this.settings.onWatch)try{this.settings.onWatch()}catch(t){}else this.powa.mute(!1),this.powa.volume(1),this.powa.showControls();this.$preview.off("click",this.handleClick)}}])&&we(e.prototype,n),i&&we(e,i),t}(),Oe=n(30);function je(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}PoWaSettings.splitTests=PoWaSettings.splitTests||{},PoWaSettings.splitTests.newCopyTest=PoWaSettings.splitTests.newCopyTest||new ve("newCopyTest",{facets:{copyA:33,copyB:[34,66],copyC:[67,100]},prefix:"20200518"});var Ae=PoWaSettings.splitTests.newCopyTest,_e="";_e=!0===Ae.in("copyA")?"CLICK FOR SOUND":!0===Ae.in("copyB")?"CLICK TO PLAY":"CLICK TO WATCH";var Ee="WapoPreview2",Te="powa-preview2",De=".powa[data-".concat(Te,'-playing="true"] .powa-shot-play-btn-flex-wrapper'),xe="\n\tvideo.".concat(Te," {\n\t\tbackground-color: initial;\n\t\tvisibility: hidden;\n\t}\n\n\t.powa[data-").concat(Te,'-playing="true"] video.').concat(Te," {\n\t\tvisibility: visible;\n\t}\n\n\t.powa[data-").concat(Te,'-playing="true"] .powa-shot-play-btn-flex-wrapper {\n\t\tbackground: -moz-linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(0,0,0,0) calc(100% - 70px), rgba(0,0,0,0.65) 100%);\n\t\tbackground: -webkit-linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(0,0,0,0) calc(100% - 70px), rgba(0,0,0,0.65) 100%);\n\t\tbackground: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0) calc(100% - 70px), rgba(0,0,0,0.65) 100%);\n\t}\n\n\t.powa .powa-shot-play-btn-flex-wrapper .').concat(Te,"-playing-icon {\n\t\tdisplay: none;\n\t}\n\n\t.powa[data-").concat(Te,'-playing="true"] .powa-shot-play-btn-flex-wrapper .').concat(Te,"-playing-icon {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tmargin: 12px;\n\t\tdisplay: block;\n\t\tcolor: White;\n\t}\n\n\t").concat(De," .powa-shot-play-btn {\n\t\ttransition: max-width ease-in .2s, min-width ease-in .2s;\n\t}\n\n\t").concat(De,":hover .powa-shot-play-btn,\n\t").concat(De," .powa-shot-play-btn.loading {\n\t\tmin-width: 150px !important;\n\t\tmax-width: 250px !important;\n\t}\n\n\t").concat(De,":hover .powa-shot-play-icon,\n\t").concat(De," .powa-shot-play-icon.loading {\n\t\tdisplay: none;\n\t}\n\n\t").concat(De," .play-text {\n\t\twhite-space: nowrap;\n\t\toverflow:hidden;\n\t}\n\n\t").concat(De,":hover .play-text,\n\t").concat(De," .play-text.loading\t {\n\t\tdisplay: none;\n\t}\n\n\t").concat(De,":hover .play-duration,\n\t").concat(De," .play-duration.loading\t {\n\t\tdisplay: none;\n\t}\n\n\t").concat(De,":hover .").concat(Te,"-sound-icon {\n\t\tdisplay: inline !important;\n\t}\n\n\t").concat(De," .").concat(Te,"-sound-icon.loading {\n\t\tdisplay: none !important;\n\t}\n\n\t").concat(De,":hover .").concat(Te,"-sound-text,\n\t").concat(De," .").concat(Te,"-sound-text.loading {\n\t\tdisplay: inline !important;\n\t\twhite-space: nowrap;\n\t\toverflow:hidden;\n\t}\n"),Pe="\n\t.powa[data-".concat(Te,'-playing="true"] video.powa-video {\n\t\tdisplay: block !important;\n\t\tvisibility: hidden;\n\t\tpointer-events: none;\n\t}\n'),Ce='<video class="'.concat(Te,'" playsinline muted autoplay loop crossorigin="anonymous"></video>');function Ie(t,e){return new Promise(function(n,i){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.noop,i=function(){var i=new window.Hls({capLevelToPlayerSize:!0,enableWebVTT:!1,enableCEA708Captions:!1});i.loadSource(e),i.attachMedia(t),i.on(window.Hls.Events.MANIFEST_PARSED,function(){var e=t.play();n({playPromise:e,hls:i})})},o=function(){t.muted=!0,t.addEventListener("loadedmetadata",function(){var e=t.play();n({playPromise:e})}),t.src=e};if(t.canPlayType("application/vnd.apple.mpegurl")&&PoWaSettings.client.isSafari)o();else if(PoWaSettings.videoSupport.hls)o();else if(PoWaSettings.videoSupport.hlsJS)if(window.Hls&&window.Hls.isSupported())i();else{var a=Object(Oe.e)();Object(r.promiseScript)(a).then(i)}}(t,e,n)})}var Me=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.id,this.powa=e.powa,this.debug=e.debug,this.el=this.powa.getElement();var n=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).powa.getDataset(),e="desktop"!==PoWaSettings.client.clientType;if(window.matchMedia("(prefers-reduced-motion)").matches)return!1;if(!1===t.promoVideo)return!1;if("silk"===PoWaSettings.client.browserName)return!1;if(e){if(!PoWaSettings.queryStringObj.wpvPreview2Mobile)return!1;if(navigator.deviceMemory<4)return!1;if(Object(r.get)(navigator,"connection.effectiveType","").includes("2g"))return!1}return!0}(e);if(this.el.setAttribute("data-".concat(Te,"-allowed"),n),this.powa.trigger("preview2-".concat(n?"allowed":"disallowed")),n){if(Object(r.addCSS)(xe+Pe,Te),this.injectSoundIconAndText(),this.videoEl=this.el.querySelector("video.".concat(Te)),!this.videoEl)this.el.querySelector(".".concat(Te,"-placeholder")).innerHTML=Ce,this.videoEl=this.el.querySelector("video.".concat(Te));this.setup.call(this),this.powa.once("promoPlay",this.onPromoPlay.bind(this)),this.powa.once("mediaStart",this.finish.bind(this)),this.powa.once("firstFrame",this.finish.bind(this)),this.powa.once("preview2-autoplay",this.onPreview2Autoplay.bind(this)),this.powa.once("preview2-autoplay-blocked",this.onPreview2AutoplayBlocked.bind(this));var i=this.el.querySelector(".powa-shot-play-btn"),o=i.offsetWidth,a=Object(k.$)(i);a.css({minWidth:o-50+"px",maxWidth:o+50+"px"}),this.powa.on("start",function(){a.addClass("loading"),a.children().addClass("loading")})}else this.debug&&console.debug("[".concat(Ee,"] disallowed"))}var e,n,i;return e=t,(n=[{key:"injectSoundIconAndText",value:function(){var t=Object(k.$)(this.el.querySelector(".powa-shot-play-btn"));t.append(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=Object(r.svgIcon)("volumeUp",t,"powa-shot-click-play","powa-shot-play-btn-icon","powa-click-promo-play");return e.slice(0,4)+' style="display: none" '+e.slice(5)}("".concat(Te,"-sound-icon"))),t.append(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return'\n\t\t<span style="display: none" class="'.concat(t,' powa-custom-btn-text franklin-bold">').concat(_e,"</span>\n\t").trim()}("".concat(Te,"-sound-text")))}},{key:"setup",value:function(){var t=this,e=function(t){var e=t.getStatus().stream;if(!e){var n=PoWaSettings.client.isMobile?"mobile":PoWaSettings.client.isTablet?"tablet":"desktop",i=t.getVideoData();e=Object(r.selectStreams)({streams:i.streams,live:"live"===i.video_type,maxBitrate:PoWaSettings.maxBitrate[n],streamPreference:PoWaSettings.streamPreference})[0]}return e}(this.powa);Object(r.hasExtension)(e,".m3u8")&&Ie(this.videoEl,e).then(function(e){var n=e.playPromise,i=e.hls;i&&(t.hls=i),n?n.then(function(){t.powa.trigger("preview2-autoplay")}).catch(function(){t.powa.trigger("preview2-autoplay-blocked")}):t.videoEl.addEventListener("playing",function(){t.powa.trigger("preview2-autoplay")},{once:!0})})}},{key:"onPreview2Autoplay",value:function(){this.el.setAttribute("data-".concat(Te,"-playing"),!0),function(t){for(var e=0;e<t.textTracks.length;e++)t.textTracks[e].mode="hidden"}(this.videoEl)}},{key:"onPreview2AutoplayBlocked",value:function(){this.debug&&console.debug("[".concat(Ee,"] autoplay blocked")),this.teardown()}},{key:"onPromoPlay",value:function(t){if(this.hls){var e=this.hls.currentLevel;this.debug&&console.debug("[".concat(Ee,"] stash level"),e),Object(r.stashLocal)({powaLevel:e})}this.videoEl&&(this.videoEl.pause(),this.currentTime=this.videoEl.currentTime)}},{key:"finish",value:function(t){this.debug&&console.debug("[".concat(Ee,"] finish")),this.teardown(),!0===Object(r.get)(t,"mediaTailor")||this.sought||this.seek(t)}},{key:"seek",value:function(){this.debug&&console.debug("[".concat(Ee,"] seek")),"live"===this.powa.getVideoData().video_type?(this.powa.seekLive(),this.sought=!0):(this.powa.getStatus().time>0&&(this.sought=!0),this.currentTime>1&&this.powa.seekTime(this.currentTime))}},{key:"teardown",value:function(){this.debug&&console.debug("[".concat(Ee,"] teardown")),this.videoEl&&(this.videoEl.parentNode.removeChild(this.videoEl),this.videoEl.src="",this.videoEl.load(),this.videoEl=null),this.hls&&this.hls.destroy(),this.el.removeAttribute("data-".concat(Te,"-playing"))}}])&&je(e.prototype,n),i&&je(e,i),t}();function Le(){var t,e,n,i=function(){return Object(r.getCookie)("wp_usp")||""};if("https://www.washingtonpost.com"===window.location.origin||"https://pb-impact.washingtonpost.com"===window.location.origin)try{e=JSON.parse(localStorage.getItem("wapo_identity")),t=((n=Object(r.get)(e,"privacySetting.ccpa"))?"".concat(n.iabSpec,n.explicitNotice,n.optOut,n.lspa):"")||i()}catch(e){t=i()}else t=i();return t||"1NYY"}function Ne(){return"Y"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le()).charAt(2)}function Re(){return Object(r.get)(window,"wp_pb.pageName","").startsWith("article")||"article"===Object(r.get)(window,"pageType","")||window.location.pathname.endsWith("powaArticle.html")}function ze(){return"interactive graphics"===window.wp_content_type}function We(){return"brand-connect"===window.wp_blogname||"article-enterprise-brandstudio"===Object(r.get)(window,"wp_pb.pageName")}function $e(){return"carta-embed-imager"===window.pageType}function Ue(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.self!==window.top?document.referrer:window.location.href;try{if(t=(t=t.split("/")[2]).split(":")[0]){var e=t.split("."),n=e.length,i="co"===e[n-2]?3:2;if(n>=i){for(var o=[];i;)o.push(e[n-i]),i--;t=o.join(".")}}}catch(t){console.debug(t)}return t}function Ve(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.self!==window.top?document.referrer:window.location.href;try{t=(t=t.split("/")[2]).split(":")[0]}catch(t){console.debug(t)}return t}function Be(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.self!==window.top?document.referrer:window.location.href,e=Ue(t);if(/washingtonpost\.com|localhost|thelily\.com|arcpublishing\.com|wpprivate\.com|wapo\.st/.test(e))return!0;var n=Ve(t);return!!/www-washingtonpost-com\.cdn\.ampproject\.org|wpit\.nile\.works|washpost\.arcpublishing\.com/.test(n)}function Fe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,n=function(t,e){return Object(m.chain)(t).reject(function(t){return t.width<e}).min(function(t){return t.width}).compact().value()}(t,e);return Object(r.isEmpty)(n)&&(n=function(t,e){return Object(m.chain)(t).reject(function(t){return t.width>=e}).max(function(t){return t.width}).compact().value()}(t,e)),n}function He(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Qe,Ye="powaViewable",Ge=Object(r.getQueryStringObj)(),Ze=Object(r.isObject)(window.Fusion),qe="function"==typeof window.wpvidAutoplayDisabled&&window.wpvidAutoplayDisabled();function Ke(){return Object(r.get)(window,"wp_pb.pageName")||Object(r.get)(window,"Fusion.template")||Ge.wpvPageName||""}PoWaSettings.powaUp.videoData.push(function(t,e){var n=e.getElement(),i=!1;return t.forEach(function(t){!0===Xe.allowedOnPlayer(n,t,e)&&(i=!0)}),i&&void 0===Qe?new Promise(function(e,n){Object(r.canAutoplay)(!0).then(function(){Qe=!0,e(t)}).catch(function(){Qe=!1,e(t)})}):Promise.resolve(t)});var Xe=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.id&&!e.powa)throw"Invalid settings to setup Viewport Autoplay";this.start=this.start.bind(this),this.init=this.init.bind(this),this._el=document.getElementById(e.id),this._powa=e.powa,this._isPrimarySlot=e.isPrimarySlot||!1;var n=t.allowedOnPlayer(this._el,this._powa.getVideoData(),this._powa);this._el.dataset.viewportAutoplayAllowed=n,!0===n?Promise.all([new Promise(function(t,e){/complete|interactive|loaded/.test(document.readyState)?t():document.addEventListener("DOMContentLoaded",t,!1)}),new Promise(function(t,e){document.visibilityState?"visible"===document.visibilityState?t():document.addEventListener("visibilitychange",function e(){"visible"===document.visibilityState&&(t(),document.removeEventListener("visibilitychange",e))}):t()})]).then(this.init):!1===Qe&&this._powa.trigger("ViewportAutoplay-blocked")}var e,n,i;return e=t,i=[{key:"excludeFromPage",value:function(){return!(Re()&&"article-enterprise"!==Ke())}},{key:"getReferrer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t=t||Ge.wpvReferrer||document.referrer;try{t="".concat(Object(r.parseURL)(t).origin,"/")}catch(t){}return t}},{key:"isSocialMatch",value:function(e){if(!1===Object(r.get)(window,"PoWaSettings.WapoViewportAutoplaySettings.social"))return!1;e=e||t.getReferrer();var n=Object(r.get)(window,"PoWaSettings.WapoViewportAutoplaySettings.socialRegexes")||["facebook.com","/t.co/","reddit.com","linkedin.com","youtube.com","digg.com"];return Object(m.reduce)(n,function(t,n){return t||new RegExp(n).test(e)},!1)}},{key:"isSearchMatch",value:function(e){if(!1===Object(r.get)(window,"PoWaSettings.WapoViewportAutoplaySettings.search"))return!1;e=e||t.getReferrer();var n=Object(r.get)(window,"PoWaSettings.WapoViewportAutoplaySettings.searchRegexes")||["www.google.*","news.google.*","com.google","search.yahoo.com","www.bing.com","duckduckgo.com"];return Object(m.reduce)(n,function(t,n){return t||new RegExp(n).test(e)},!1)}},{key:"isExempt",value:function(){var e=t.getReferrer(),n=t.isSocialMatch(e)||t.isSearchMatch(e),i=!(!Object(r.get)(window,"wp_pb.StaticMethods")||!window.wp_pb.StaticMethods.isSubscriber())||(!(!Object(r.getCookie)("wapo_actmgmt")||!Object(r.getCookie)("wapo_actmgmt").includes("isub:1"))||null),o=Object(r.get)(window,"TWP.Features.ol",!1);Re()&&"/"===window.location.pathname&&(o=!0),PoWaSettings.videoSupport=PoWaSettings.videoSupport||Object(r.getVideoSupport)();var a=PoWaSettings.videoSupport.h264;return!n||i||o||!a}},{key:"allowedOnPage",value:function(){var e=!0===Object(r.get)(window,"PoWaSettings.WapoViewportAutoplaySettings.mobile"),n=t.isExempt();PoWaSettings.client=PoWaSettings.client||Object(r.sniffClient)();var i=(!(PoWaSettings.client.isMobile||PoWaSettings.client.isTablet)||e)&&!PoWaSettings.client.isIE,o=Ke(),a=Re()&&"article-enterprise"!==o&&"article-lite"!==o;return!n&&i&&a}},{key:"allowedOnPlayer",value:function(e,n,i){e&&n&&i||console.warn("allowedOnPlayer() missing either el or videojson or powa, may not function correctly");var o=e.dataset.powaIndex,a="function"==typeof window.wpvidAutoplayDisabled&&window.wpvidAutoplayDisabled(),s=!1===Object(r.get)(n,"additional_properties.advertising.enableAutoPreview",!1);if(i){var c=i.getStatus().stream;if(c&&c.includes("wapovod.akamaized.net"))return"akamai-disable"}return t.allowedOnPage()&&!1!==Qe?"true"==e.getAttribute("data-viewport-autoplay")?a?"ops-disable":!s||"editorial-disable":"false_".concat(parseInt(o)+1):"0"!==o&&null}},{key:"getAdTimeoutOverride",value:function(t){for(var e,n=Object(r.get)(window,"PoWaSettings.WapoViewportAutoplaySettings.adTimeoutOverrides"),i=Ze?Object(r.get)(window,"wpAdFusion.commercialNode"):Object(r.get)(window,"wp_meta_data.commercialNode"),o=Object(r.get)(t,"additional_properties.subsection"),a=Object(r.get)(t,"additional_properties.advertising.videoAdZone"),s=0;s<n.length;s++){var c=n[s],l=new RegExp(c.regex,"i");if(c.type.includes("section")&&(l.test(i)||l.test(o))){e=c;break}if(c.type.includes("adSetZone")&&l.test(a)){e=c;break}}return e?e.autoplayAdTimeouts:null}}],(n=[{key:"init",value:function(){this._powa.trigger("ViewportAutoplay-init"),Object(r.isElementInViewport)(this._el)?this.start():this._isPrimarySlot?this.start():this._powa.once(Ye,this.start)}},{key:"start",value:function(){var t=this;(window.PoWaSettings.ViewportAutoplayEngaged=!0,this._powa.trigger("ViewportAutoplay-start"),this._powa.play(),this._isPrimarySlot)&&Object(k.$)(this._el.closest(".powa-sticky-stick")).once("notViewable",function(){t._powa.trigger("stickyEngage",{ignoreState:!0})});(PoWaSettings.client.isMobile||PoWaSettings.client.isTablet)&&this._powa.once(Rt.t.MEDIA_CLICK,function(e){t._powa.mute()})}}])&&He(e.prototype,n),i&&He(e,i),t}();function Je(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}window.PoWaSettings=window.PoWaSettings||{},PoWaSettings.autoplay=function(){return qe?"ops-disable":(!window.wp_pb||"video-leaf-page"!==window.wp_pb.pageName)&&("function"!=typeof Xe.allowedOnPage||Xe.allowedOnPage())},PoWaSettings.muted=function(){return!qe&&((!window.wp_pb||"video-leaf-page"!==window.wp_pb.pageName)&&("function"!=typeof Xe.allowedOnPage||Xe.allowedOnPage()))};var tn="powaOnceplay",en=function(t){return"".concat(window.location.pathname,"/").concat(t._id)};function nn(){var t;try{t=localStorage.getItem(tn)||"{}",t=JSON.parse(t)}catch(e){t={}}return t}function on(t){try{t=JSON.stringify(t),localStorage.setItem(tn,t)}catch(t){}}var an=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.powa=n.powa,this.videoData=this.powa.getVideoData(),this.onAdStart=this.onAdStart.bind(this),this.onUnload=this.onUnload.bind(this),this.powa.on("adStart",this.onAdStart),window.addEventListener("unload",this.onUnload),this.powa.once("onceplay-autoplay",this._autoplay.bind(this)),t.shouldAutoplay(n)&&this.powa.trigger("onceplay-autoplay"),this.powa.on("loaded",function(){e.videoData=e.powa.getVideoData()})}var e,n,i;return e=t,i=[{key:"hasAdStart",value:function(t){var e=t.powa.getVideoData(),n=en(e),i=nn();return!0===Object(r.get)(i[n],"adStart")}},{key:"shouldAutoplay",value:function(t){var e=window.performance?1===performance.navigation.type:null,n=document.referrer.includes(window.location.pathname);if(e||n){var i=t.powa.getVideoData(),o=en(i),a=nn();return!0===Object(r.get)(a[o],"wasPlaying")}return!1}}],(n=[{key:"_autoplay",value:function(){this.powa.mute(!0),this.powa.play();var t=nn();t[en(this.videoData)]=t[en(this.videoData)]||{},delete t[en(this.videoData)].wasPlaying,on(t)}},{key:"onAdStart",value:function(t){if(!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&"string"==typeof t.creativeId?["715998959","138210079292","716945960","138228291976"].includes(t.creativeId):null}(t.adMeta)){var e=nn();e[en(this.videoData)]={adStart:!0},on(e)}}},{key:"onUnload",value:function(){if(!0===this.powa.getStatus().playing){var t=nn();t[en(this.videoData)]=t[en(this.videoData)]||{},t[en(this.videoData)].wasPlaying=!0,on(t)}}}])&&Je(e.prototype,n),i&&Je(e,i),t}();function rn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}window.PoWaSettings=window.PoWaSettings||{},PoWaSettings.queryStringObj=PoWaSettings.queryStringObj||Object(r.getQueryStringObj)(),PoWaSettings.client=PoWaSettings.client||Object(r.sniffClient)();var sn=Re(),cn=Object(r.isObject)(window.Fusion),ln=Object(r.getCookie)("wapo_actmgmt")||"",un=/.*\|NOADS.*/.test(ln),dn=/.*\|NOADS:1*/.test(ln)&&!/.*\|EU_NOADS:1*/.test(ln),pn=un||dn?"wpni.video.premiumtest":null;function hn(t){console.debug("[shouldPlayAd]",t);try{localStorage.setItem("ptvadsreason",t)}catch(t){console.error(t)}}function gn(t){var e,n=t.videoData,i=t.powa,o=i.getElement(),a=i.getDataset(),s="1"===o.getAttribute("data-preroll-only"),c=o.adSettings||a.adSettings||{};return e=a.adZone?a.adZone:un?pn:s&&c.adSetZone?c.adSetZone:Object(r.get)(n,"additional_properties.advertising.videoAdZone"),!1===Object(r.get)(PoWaSettings.queryStringObj,"wpvAdZoneSanitize")?e:/wpni.video/.test(e)?e:""}function fn(t){var e=t.videoData,n=t.powa,i=n.getElement(),o=n.getDataset(),a="1"===i.getAttribute("data-preroll-only");if("1"===i.getAttribute("data-skip-ad"))return"";var s=i.offsetWidth,c=i.offsetHeight;if(!Object(r.has)(PoWaSettings.queryStringObj,"bypassBlockPreroll")&&"function"==typeof window.blockPreroll&&!0===window.blockPreroll(e))return hn("false, blocked by blockPreroll()"),"";var l=cn?Object(r.get)(window,"wpAdFusion.clavis.keywords"):Object(r.get)(window,"wp_meta_data.clavis.keywords"),u=Object(r.get)(e,"streams[0]"),d=u?u.height/u.width:.5625,p=n.getStatus();if(PoWaSettings.queryStringObj["powa-ad-tag"])return hn("true, adTag querystring param"),decodeURIComponent(PoWaSettings.queryStringObj["powa-ad-tag"]);if(a){var h=i.adSettings||o.adSettings||{};h.articleAutoplay=!1,h.adSetZone=gn(t),l&&(h.haystack=h.haystack||[],h.haystack.push(l)),h.aspectRatio=d,h.playerWidth=s,h.playerHeight=c,h.isPreloadingAds=o.adPreload,h.muted=p.muted,sn&&(h.embedVidPos=o.powaIndex),h.mediaTailor=o.mediaTailor;var g=new vn(h).getAdTagUrl();return hn("true, is preroll plugin"),g}if(_=e,!Be()&&!0!==Object(r.get)(_,"additional_properties.advertising.allowPrerollOnDomain"))return hn("false, disabled in advertising"),"";if(an.hasAdStart(t))return hn("false, once play"),"";var f=Object(r.get)(PoWaSettings,"advertising.timeouts"),v=p.adStatus&&p.adStatus.adPreload?f.preload.adStart:f.standard.adStart;"function"==typeof v&&(v=v(n));var m=gn(t);m||(m="live"===Object(r.get)(e,"video_type")?"wpni.video.live":"wpni.video.oodef");var b="";if(m&&m.split("/")[1]){var y=m.split("/");m=y[0];for(var w=1;w<y.length;w++)b+="/"+y[w]}var k,S=Xe.allowedOnPlayer(i,e,n);!0!==S&&!1!==S||(k=Xe.isSocialMatch()?"social":Xe.isSearchMatch()?"search":"");var O=o.playerType,j="live"===e.video_type?"live":"vod";O="".concat(O,",").concat(j);var A={uuid:e._id,adSetZone:m,primarySiteNode:b,haystack:[e.headlines.basic,Object(r.get)(e,"description.basic"),l],adTimeout:v,aspectRatio:d,isPreloadingAds:o.adPreload,isPlaythrough:Object(r.get)(p,"videoStarts")>1,articleAutoplay:S,articleAutoplayType:k,muted:p.muted,playerWidth:s,playerHeight:c,playerType:O,mediaTailor:o.mediaTailor,sections:Object(r.get)(e,"taxonomy.sections",[])};sn&&(A.embedVidPos=o.powaIndex),PoWaSettings.queryStringObj["powa-ad-zone"]&&(console.debug("skipping ad set postfix"),A.allowAdSetPostfix=!1);var _,E=new vn(A).getAdTagUrl();return hn("true, due for ad"),E}var vn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({adSetZone:"wpni.video.oodef",primarySiteNode:"",allowAdSetPostfix:!0,haystack:[],adTagSuffix:"vid=15,30"},e),this.referrerUrl=window.self!==window.top?document.referrer:window.location.href,this.localStorageSupport=Object(r.isLocalStorageSupported)(),this.custParamChunks=this.getCustParamChunks()}var e,n,i;return e=t,(n=[{key:"getDecoratedAdSetZone",value:function(){var t=this.options.adSetZone;return this.options.allowAdSetPostfix&&-1===t.indexOf("_")&&-1===t.indexOf("/")&&(t+=this.getAdSetPostfix()),this.options.primarySiteNode&&(t+=this.options.primarySiteNode),t}},{key:"getDFPChunks",value:function(){return["sz=640x480","iu="+encodeURIComponent("/701/"+this.getDecoratedAdSetZone()),"ciu_szs=300x250","cust_params="+encodeURIComponent(this.custParamChunks.join("&")),"impl=s","gdfp_req=1","env=vp","output=vast","unviewed_position_start=1","url="+encodeURIComponent(window.location.href),"description_url="+encodeURIComponent(window.location.href),"correlator="+(new Date).getTime(),"vad_type=linear","rdp=".concat(Ne()?1:0),"us_privacy=".concat(Le())]}},{key:"getAdTagUrl",value:function(){return"https://pubads.g.doubleclick.net/gampad/ads?"+this.getDFPChunks().join("&")}},{key:"getCustParamChunks",value:function(){var t=[],e=this.getExclusionCategories(this.options.haystack);e&&e.length>0&&t.push("excl_cat="+e),this.options.adTagSuffix&&t.push(this.options.adTagSuffix),t.push("vid_pt=".concat(this.options.playerType)),t.push("vid_id=".concat(this.options.uuid||""));var n=this.getAdTargeting();n.ksg&&t.push("ksg="+n.ksg),n.ct&&t.push("ct="+n.ct),n.ca&&t.push("ca="+n.ca);var i=this.options.mediaTailor?"mt":this.options.adTimeout;console.debug("ad_to=".concat(i)),i&&t.push("ad_to="+this.options.adTimeout);var o=Ue(),a=/washingtonpost\.com/.test(o),s=Ve(),c=/www-washingtonpost-com\.cdn\.ampproject\.org/.test(s);if(o){var l=a||c?"":"other,",u=c?s:o;t.push("embed_domain=".concat(l).concat(u))}"number"==typeof this.options.aspectRatio&&t.push("shape="+(this.options.aspectRatio>1?"vertical":"horizontal")),this.options.isPreloadingAds?t.push("pf=y".concat(this.options.isPlaythrough?"-playthrough":"-click")):t.push("pf=n".concat(this.options.isPlaythrough?"-playthrough":"-click"));var d=Object(r.getCookie)("wp_gdpr")||"";"1"!=d&&"1|1"!=d||t.push("wp_gdpr=consent"),un&&t.push("premium_test=1");var p=this.getWpvidAutoplay();null!==p&&t.push("wpvid_autoplay=".concat(p)),void 0!==this.options.muted&&t.push("muted=".concat(this.options.muted?"y":"n")),this.options.playerWidth&&t.push("widthVal=".concat(this.options.playerWidth)),this.options.playerHeight&&t.push("heightVal=".concat(this.options.playerHeight));var h=cn?Object(r.get)(window,"wpAdFusion.commercialNode"):window.commercialNode,g=Object(r.get)(window,"wp_meta_data.contentName[0]",h);g&&t.push("embed_section=".concat(g));var f=cn?Date.parse(Object(r.get)(window,"wpAdFusion.firstPubDate"))/Rt.g:Object(r.get)(window,"wp_meta_data.meta_date"),v=Date.now()/Rt.g,m=Math.round((v-f)/86400),b=decodeURIComponent(m<=2?"two,seven,thirty,ninety":m<=7?"seven,thirty,ninety":m<=30?"thirty,ninety":m<=90?"ninety":"");t.push("wp_pub_date=".concat(b)),void 0!==this.options.embedVidPos&&t.push("embed_vid_pos=".concat(this.options.embedVidPos)),t.push("powa_version=3"),t.push("ctr=".concat(cn?"fusion_video":"non-fusion_video")),t.push("mt=".concat(!0===this.options.mediaTailor));var y=Object(r.get)(this,"options.sections",[]),w=[];return y.forEach(function(t){var e=Object(r.get)(t,"path","");e.startsWith("/")&&(e=e.substring(1)),(e=e.replace(/\//g,"_"))&&w.push(e)}),w.length>0&&t.push("wp_tag=".concat(w.join(","))),t}},{key:"getWpvidAutoplay",value:function(){if(void 0!==this.options.articleAutoplay&&null!==this.options.articleAutoplay){if(Xe.excludeFromPage())return"exclude";if(Xe.isExempt()){var t=this.options.articleAutoplayType?"_".concat(this.options.articleAutoplayType):"";return"false".concat(t)}return!this.options.articleAutoplayType||!0!==this.options.articleAutoplay&&!1!==this.options.articleAutoplay?this.options.articleAutoplay:"".concat(this.options.articleAutoplay,"_").concat(this.options.articleAutoplayType)}return null}},{key:"getExclusionCategories",value:function(t){var e;try{window.vidExclusions&&t.length>0&&(e=window.vidExclusions(t))}catch(t){self.debug&&console.error("Unable to find exclusion categories",t)}return e&&e.length>0?e.join(","):void 0}},{key:"getAdTargeting",value:function(){var t=this.getCaValue();return{ksg:Ne()?null:this.localStorageSupport&&localStorage.getItem("kxwashingtonpost_segs")?localStorage.getItem("kxwashingtonpost_segs"):Object(r.get)(window,"Krux.segments",[]).join(",")||void 0,ct:(cn?Object(r.get)(window,"wpAdFusion.clavis.ct"):Object(r.get)(window,"wp_meta_data.clavis.ct",[]).join(","))||void 0,ca:t?t.join(","):void 0}}},{key:"getCaValue",value:function(){var t=[],e=[],n=[],i=[];if(this.localStorageSupport){if(localStorage.getItem("targeting_aux_map")){e=localStorage.getItem("targeting_aux_map").split(","),t.concat(e);for(var o=0;o<e.length;o++)t.push(e[o].toString().toLowerCase())}if(localStorage.getItem("usersegmentsAdops")){var a=localStorage.getItem("usersegmentsAdops").substr(1),s="";n=a.substr(0,a.length-1).split(",");for(var c=0;c<n.length;c++)"1"===n[c].charAt(n[c].length-1)&&(s=n[c].substr(0,n[c].length-3).substr(1),i.push(s));for(var l=0;l<i.length;l++)t.push(i[l])}}else if(Object(r.getCookie)("targeting_aux_map")){e=Object(r.getCookie)("targeting_aux_map").split(","),t.concat(e);for(var u=0;u<e.length;u++)t.push(e[u].toString().toLowerCase())}else if(Object(r.getCookie)("0668")&&Object(r.getCookie)("0862")&&Object(r.getCookie)("6136")&&Object(r.getCookie)("8936")&&Object(r.getCookie)("9868")&&Object(r.getCookie)("7204")&&Object(r.getCookie)("2467")&&Object(r.getCookie)("6362")&&Object(r.getCookie)("3552")&&Object(r.getCookie)("3433")&&Object(r.getCookie)("7543")&&Object(r.getCookie)("8636")&&Object(r.getCookie)("5723")&&Object(r.getCookie)("2748")&&Object(r.getCookie)("5263")&&Object(r.getCookie)("3522")){"1"===Object(r.getCookie)("0668")&&n.push("0668"),"1"===Object(r.getCookie)("0862")&&n.push("0862"),"1"===Object(r.getCookie)("6136")&&n.push("6136"),"1"===Object(r.getCookie)("8936")&&n.push("8936"),"1"===Object(r.getCookie)("9868")&&n.push("9868"),"1"===Object(r.getCookie)("7204")&&n.push("7204"),"1"===Object(r.getCookie)("2467")&&n.push("2467"),"1"===Object(r.getCookie)("6362")&&n.push("6362"),"1"===Object(r.getCookie)("3552")&&n.push("3552"),"1"===Object(r.getCookie)("3433")&&n.push("3433"),"1"===Object(r.getCookie)("7543")&&n.push("7543"),"1"===Object(r.getCookie)("8636")&&n.push("8636"),"1"===Object(r.getCookie)("5723")&&n.push("5723"),"1"===Object(r.getCookie)("2748")&&n.push("2748"),"1"===Object(r.getCookie)("5263")&&n.push("5263"),"1"===Object(r.getCookie)("3522")&&n.push("3522");for(var d=0;d<n.length;d++)t.push(n[d])}var p=cn?Object(r.get)(window,"wpAdFusion.clavis.auxiliaries"):Object(r.get)(window,"wp_meta_data.clavis.auxiliaries");if(Object(r.get)(p,[]).length>0)for(var h=0;h<p.length;h++)t.push(p[h].toString().toLowerCase());return t}},{key:"getAdSetPostfix",value:function(){return"fbInstant"===PoWaSettings.queryStringObj.embedContext?"_fb":"amp"===PoWaSettings.queryStringObj.embedContext?"_amp":PoWaSettings.client.isTablet?"_tablet":PoWaSettings.client.isMobile?"_mweb":""}}])&&rn(e.prototype,n),i&&rn(e,i),t}();function mn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}window.PoWaSettings=window.PoWaSettings||{},PoWaSettings.queryStringObj=PoWaSettings.queryStringObj||Object(r.getQueryStringObj)();var bn=function(){var t=PoWaSettings.queryStringObj.wpvVaEnv?PoWaSettings.queryStringObj.wpvVaEnv.replace(/\W/g,""):null;if(t)return"https://d2p9l91d5g68ru.cloudfront.net/VideoAnalytics/".concat(t,"/VideoAnalytics.js");var e=document.querySelector('script[data-powa-script][src*="VideoAnalytics.js"]');if(e&&e.src)return e.src;var n=document.querySelector('script[data-powa-script][data-src*="VideoAnalytics.js"]');if(n&&n.dataset.src)return n.src=n.dataset.src,n.src;var i=document.querySelector('link[rel="preload"][as="script"][href*="VideoAnalytics.js"]');return i&&i.href?i.href:"https://www.washingtonpost.com/videoscripts/VideoAnalytics/0.1.x/VideoAnalytics.js"}(),yn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.id,this.powa=e.powa,window.VideoAnalytics&&(this.preharvest(),this.init())}var e,n,i;return e=t,(n=[{key:"init",value:function(){var t=this.powa.getDataset();t.videoAnalyticsId?(this.va=window.VideoAnalytics.init(t.videoAnalyticsId),this.va.registerPoWa(this.id)):this.va=window.VideoAnalytics.init(this.id,{powaId:this.id})}},{key:"preharvest",value:function(){var t=this.powa.getElement(),e=this.powa.getVideoData();t.dataset.articleAutoplay=Xe.allowedOnPlayer(t,e,this.powa)}}])&&mn(e.prototype,n),i&&mn(e,i),t}(),wn=n(197);function kn(t){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function On(t,e){return!e||"object"!==kn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jn(t){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function An(t,e){return(An=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _n=function(t){var e,n=t.getVideoData(),i=Object(r.get)(n,"subheadlines.basic",""),o=Object(r.get)(n,"description.basic",""),a=Object(r.get)(n,"headlines.basic","");e=!o&&i?i:o||i||!a?o:a;var s=Object(r.get)(n,"credits.by",[]),c=Object(r.get)(n,"source.name",""),l=Object(r.get)(n,"promo_image.credits.by[0].name",""),u=[];s.forEach(function(t){t.name&&!u.includes(t.name)&&u.push(t.name),t.org&&!c&&(c=t.org)});var d=u.length>0&&l?"Video: ":"",p=u.length>0&&l?"/Photo: ":l?"Photo: ":"",h="".concat(d).concat(u.join(", ")).concat(p).concat(l);c&&(h.length>0&&(h+="/"),h+="".concat(c));var g="inline-video-caption franklin-light inline-video-caption-show";window.Fusion&&(g+=" left ml-gutter mr-gutter mr-auto-ns ml-auto-ns gray-dark font--subhead font-xxxs mt-xs mb-sm");var f='\n\t\t<div class="'.concat(g,'">\n\t\t\t').concat(e," ").concat(h?"(".concat(h,")"):"","\n\t\t</div>\n\t");return f.trim()},En=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),On(this,jn(e).call(this,t))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&An(t,e)}(e,wn["a"]),n=e,(i=[{key:"injectContainer",value:function(t){var e=t.element;if(!document.body.contains(e)){var n=this._$powaEl;this._powa.getElement().closest(".wpv-wrap")&&(n=Object(k.$)(this._powa.getElement().closest(".wpv-wrap"))),this._powa.getElement().closest(".powa-wrapper")&&(n=Object(k.$)(this._powa.getElement().closest(".powa-wrapper"))),n.after(t)}}}])&&Sn(n.prototype,i),o&&Sn(n,o),e}();function Tn(){var t;try{t=document.getElementById("slug_fixedBottom").getElementsByTagName("iframe")[0]}catch(t){}return t}function Dn(){var t=Tn();if(t)try{t.contentWindow.document.querySelector("#poe-toggle").style.display="initial"}catch(t){}}var xn=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.powa.on("stickyEngage",function(){!function(){var t=Tn();if(t)try{t.contentWindow.document.querySelector(".poe-container--expanded #poe-toggle").click()}catch(t){}}(),function(){var t=Tn();if(t)try{t.contentWindow.document.querySelector("#poe-toggle").style.display="none"}catch(t){}}()}),e.powa.on("stickyDisengage",Dn),e.powa.on("stickyClose",Dn)};function Pn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Cn=function(){function t(e){var n=e.powa;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.powa=n,n.on("end",this.end.bind(this))}var e,n,i;return e=t,(n=[{key:"end",value:function(){if(PoWaSettings.client.isMobile){var t=this.powa.get$video().elements[0];Object(r.isFullscreen)(t)&&Object(r.exitFullscreen)(t)}}}])&&Pn(e.prototype,n),i&&Pn(e,i),t}();function In(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Mn="xSmall",Ln="small",Nn="large",Rn="xLarge",zn={xSmall:421,small:769,large:1438},Wn=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=n,this.powa=n.powa,this.el=this.powa.getElement(),(PoWaSettings.client||Object(r.sniffClient)()).isMobile||this.powa.on("resize",function(){return t.set(e.el)})}var e,n,i;return e=t,i=[{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.offsetWidth;n<e.xSmall?(t.classList.remove(Ln),t.classList.remove(Nn),t.classList.remove(Rn),t.classList.add(Mn)):n<e.small?(t.classList.remove(Mn),t.classList.remove(Nn),t.classList.remove(Rn),t.classList.add(Ln)):n<e.large?(t.classList.remove(Mn),t.classList.remove(Ln),t.classList.remove(Rn),t.classList.add(Nn)):(t.classList.remove(Mn),t.classList.remove(Ln),t.classList.remove(Nn),t.classList.add(Rn))}}],(n=null)&&In(e.prototype,n),i&&In(e,i),t}();function $n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}PoWaSettings.APS=PoWaSettings.APS||{};var Un="apsFetched",Vn="apsTimeout",Bn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"isZeus",value:function(){return!!window.wpAd}},{key:"isA9Init",value:function(){var t;try{t=window.apstag.debug("getState").config}catch(t){}return Object(r.notEmpty)(t)}},{key:"promiseAdTagWithBid",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.timeout||1500,n=t.adTag,i=t.debug,o=Date.now();return new Promise(function(a,s){var c=setTimeout(function(){i&&console.debug("[".concat("WapoAPS","] timeout")),a(n);var e=Date.now();t.powa.trigger(Vn,{timeSinceBidRequest:e-o})},e);if(!Object(r.get)(window,"apstag.fetchBids"))return i&&console.debug("APS apstag.fetchBids not available"),void a(n);i&&console.debug("APS calling apstag.fetchBids now"),window.apstag.fetchBids({slots:[{slotID:"videoSlot",mediaType:"video"}],timeout:e},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];clearTimeout(c);var r=e.filter(function(t){return"video"===t.mediaType}),s=Date.now();if(t.powa.trigger(Un,{timeSinceBidRequest:s-o,bidReturned:!!r[0]}),r[0]){var l=r[0];i&&console.debug("[".concat("WapoAPS","] bid"),l);try{var u=new URL(n);u.searchParams.set("scp",l.qsParams),a(u.toString())}catch(t){a("".concat(n).concat(l&&l.encodedQsParams?"&scp="+l.encodedQsParams:""))}}else a(n)})})}}],(n=null)&&$n(e.prototype,n),i&&$n(e,i),t}();function Fn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}PoWaSettings.queryStringObj=PoWaSettings.queryStringObj||Object(r.freeze)(Object(r.getQueryStringObj)());var Hn=PoWaSettings.queryStringObj.wpvLcEnv?PoWaSettings.queryStringObj.wpvLcEnv.replace(/[^a-z0-9\s-]/gi,""):"prod",Qn="https://d2p9l91d5g68ru.cloudfront.net/LiveConfig/".concat(Hn,".json"),Yn=6e4,Gn=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.id,this.powa=e.powa,this.videoData=this.powa.getVideoData(),this.uuid=this.videoData._id,window.fetch&&(this.checkForce=this.checkForce.bind(this),this.checkForce(),this.powa.on("firstFrame",function(){n.checkForce(),n.intervalID=setInterval(n.checkForce,Yn)}),this.powa.on("loaded",function(){n.videoData=n.powa.getVideoData(),n.uuid=n.videoData._id}))}var e,n,i;return e=t,(n=[{key:"checkForce",value:function(){var t=this;fetch(Qn).then(function(t){return t.json()}).then(function(e){var n=Object(r.get)(e,t.uuid);if(n){var i=Object(r.parseString)(n.forceEnded),o=Object(r.parseString)(n.forceLoadVideo);i?(clearInterval(t.intervalID),t.powa.pause(),t.powa.trigger("forceEnded"),Object(r.globalError)({message:"Forcing ended message",forceEnded:!0,powa:t.powa,id:t.powa.getID()})):o&&/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/.test(o)&&(clearInterval(t.intervalID),t.powa.pause(),t.powa.trigger("forceLoadVideo"),t.powa.loadVideo(o))}}).catch(function(){clearInterval(t.intervalID)})}}])&&Fn(e.prototype,n),i&&Fn(e,i),t}();function Zn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var qn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.powa=e.powa,this.powa.once("subsAvailable",this.listenForCaptions.bind(this)),this.cueChangeHandler=this.cueChangeHandler.bind(this)}var e,n,i;return e=t,(n=[{key:"getTextTracks",value:function(){var t=this.powa.get$video().elements[0];return Object(r.getTextTracks)(t)}},{key:"cueChangeHandler",value:function(){var t=this;this.powa.trigger("WapoCueChanged"),this.getTextTracks().forEach(function(e){e.removeEventListener("cuechange",t.cueChangeHandler)})}},{key:"listenForCaptions",value:function(){var t=this;this.getTextTracks().forEach(function(e){e.addEventListener("cuechange",t.cueChangeHandler,{once:!0})})}}])&&Zn(e.prototype,n),i&&Zn(e,i),t}();PoWaSettings.queryStringObj=PoWaSettings.queryStringObj||Object(r.freeze)(Object(r.getQueryStringObj)());var Kn=function(t){return PoWaSettings.queryStringObj.wpvSkipOffset?8:"wpni.video.postlive/leadership04302020"===t||"wpni.video.test/skippable-test"===t?5:void 0};Object(r.set)(window,"PoWaSettings.powaUp.videoData",[],!1),PoWaSettings.powaUp.videoData.push(function(t,e){var n=e.getElement();return t.forEach(function(t){var i=gn({powa:e,videoData:t}),o=Object(r.get)(window,"adZoneSkipOffset",Kn);if(!n.hasAttribute("data-advertising")){n.setAttribute("data-advertising",JSON.stringify({adBar:!0}));try{var a=o(i);"number"==typeof a&&n.setAttribute("data-advertising",JSON.stringify({adBar:{skipOffset:a}}))}catch(t){console.debug(t)}}}),Promise.resolve(t)}),Object(r.set)(window,"PoWaSettings.powaUp.element",[],!1),PoWaSettings.powaUp.element.push(function(t){return t.forEach(function(t){var e=Object(r.get)(window,"powaData[".concat(t.dataset.uuid,"]"),{});"live"===e.video_type&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(r.get)(t,"additional_properties.publicationEndDate");if(e)try{var n=new Date,i=new Date(e);if(i.setHours(i.getHours()+1),n>i)return!0}catch(t){console.debug(t)}}(e)&&(e.status="ended",t.dataset.upEnded=!0)}),Promise.resolve()}),Object(r.set)(window,"PoWaSettings.powaUp.videoData",[],!1),PoWaSettings.powaUp.videoData.push(function(t,e){var n=e.getDataset();return n.alternateArt?(t.forEach(function(t){if(t._id===n.uuid)if(Object(r.isURL)(n.alternateArt)){var e=Object(r.parseURL)(n.alternateArt);if(e.pathname.endsWith(".mp4")&&PoWaSettings.videoSupport.h264)t.streams=t.streams.filter(function(t){return"gif-mp4"!==t.stream_type}),t.streams.push({stream_type:"gif-mp4",url:n.alternateArt}),t.additional_properties.gifAsThumbnail=!0;else if(e.pathname.endsWith(".gif"))t.streams=t.streams.filter(function(t){return!t.stream_type.startsWith("gif")}),t.streams.push({stream_type:"gif",url:n.alternateArt}),t.additional_properties.gifAsThumbnail=!0;else if(e.href.startsWith("https://www.washingtonpost.com/resizer/")){var i=n.alternateArt;t.promo_image.url=i,t.additional_properties.gifAsThumbnail=!1,delete t.additional_properties.imageResizerUrls}else{var o=n.alternateArt;if(e.pathname.endsWith("imrs.php")){var a=Object(r.getQueryStringObj)(n.alternateArt.split("?")[1]);o=decodeURIComponent(a.src)}t.promo_image.url=o,t.additional_properties.gifAsThumbnail=!1}}else console.debug("alternate art is not URL")}),Promise.resolve(t)):Promise.resolve(t)}),Object(r.set)(window,"PoWaSettings.powaUp.videoData",[],!1),PoWaSettings.powaUp.videoData.push(function(t){return t.forEach(function(t){var e=Object(r.get)(t,"promo_image.url","");t.additional_properties.imageResizerUrls=function(t){if(!t)return{};var e=[];return[{width:1344,size:"large"},{width:960,size:"medium"},{width:576,size:"small"},{width:1920,size:"full"}].forEach(function(n){Object.assign(n,{url:Object(r.upgradeQueryString)("https://www.washingtonpost.com/wp-apps/imrs.php",{src:t,w:n.width})}),e.push(n)}),e}(e)}),Promise.resolve(t)});var Xn=n(32),Jn='\n\t.powa.wapo-ctrls .powa-sub {\n\t\tz-index: 2;\n\t}\n\n    /* Yellow Submarine - captions customization */\n\t.powa.wapo-ctrls .powa-ys {\n\t\tfont-family: Franklin, "Helvetica Neue Light", "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif;\n\t}\n\n\t/* The default behavior of YS to to only show on hover, but I don\'t like that, so I force it here - GA */\n\t.powa.wapo-ctrls .powa-ys-show {\n\t\tpointer-events: auto !important;\n\t\topacity: 1 !important;\n\t\tbackground-color: rgba(0,0,0, 0.2) !important;\n\t}\n\n\t/* MED-1829 - Make sure YS doesn\'t have pointer-events: auto unless it has .powa-ys-show class (see above) */\n\t.powa .powa-ys {\n\t\tpointer-events: none !important;\n\t}\n\n\t.powa-sticky-stick.powa-sticky .powa-ys, .powa-sticky-stick.powa-sticky .powa-ctrls-popup {\n\t\tdisplay: none !important;\n\t}\n\n\t.powa-sticky-stick.powa-sticky .powa-ctrls-cc-inner-wrap:hover {\n\t\tbackground-color: transparent;\n\t}\n',ti="".concat("\n\t.powa video {\n\t\ttext-shadow: none;\n\t\tbackground-color: black;\n\t\tposition: absolute;\n\t\ttop: 0px;\n\t\tleft: 0px;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t.powa video::cue {\n\t\ttext-shadow: none;\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t\tfont-family: FranklinITCProLight;\n\t}\n\t.powa.fullscreen video {\n\t\twidth: 100% !important;\n\t\theight: 100% !important;\n\t}\n\n\t/* Necessary because some ad scripts disable this globally via *::-webkit-media-controls-panel { display:none !important; -webkit-appearance:none } */\n\n\t/* Native controls would appear while ads were playing. */\n\t.powa.ad-playing video::-webkit-media-controls-panel {\n\t\tdisplay: none !important;\n\t}\n\n\t.powa.ad-playing video::-webkit-media-controls-panel {\n\t\tdisplay: none !important;\n\t}\n\n\t.powa.custom-controls video::-webkit-media-controls {\n\t\tdisplay: none !important;\n\t}\n\n\t.powa.native-controls video::-webkit-media-controls {\n\t\tdisplay: flex;\n\t}\n"," ").concat("\n\t/* Necessary because of Arkadium */\n\t.powa svg {\n\t\topacity: 1;\n\t}\n\n\t/* Necessary because of homepage + ad bar controls */\n\t.powa .powa-sell-bar-controls {\n\t\tline-height: normal;\n\t}\n");function ei(t){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object(r.set)(window,"PoWaSettings.orgJS.build","befc40d6");var ni=/^http:/,ii=Object(r.getCookie)("wapo_actmgmt")||"",oi=Re(),ai=!0===Object(r.get)(window,"wp_meta_data.isHomepage")||"homepage"===Object(r.get)(window,"Fusion.metas.contentType.value"),ri=Object(r.get)(window,"wpMetaData.subType")||Object(r.get)(window,"Fusion.globalContent.subtype",""),si=(Object(r.getCookie)("rplampr")||"").toLowerCase().indexOf("premium")>-1||!0===Object(r.get)(window,"wp_meta_data.isPremium")||/.*\|EU_NOADS:1*/.test(ii),ci=(Object(r.getCookie)("wp_gdpr")||"").startsWith("1");PoWaSettings.wapoStyled=PoWaSettings.wapoStyled||(Object(r.addCSS)(ti,"powa-wapo-reset"),Object(r.addCSS)(Jn,"wapo-powa-sub"),!0);PoWaSettings.queryStringObj=PoWaSettings.queryStringObj||Object(r.freeze)(Object(r.getQueryStringObj)());var li=PoWaSettings.client||Object(r.sniffClient)(),ui=PoWaSettings.queryStringObj&&PoWaSettings.queryStringObj.wpvAdTimeout?PoWaSettings.queryStringObj.wpvAdTimeout:null;PoWaSettings.advertising=PoWaSettings.advertising||{adTag:function(t){var e=t.powa,n=t.videoData,i=e.getDataset(),o=i.debug;switch(PoWaSettings.queryStringObj["powa-ad-tag"]){case"override":return Object(Xn.b)();case"multiple":return Object(Xn.a)();case"skippable":return Object(Xn.d)();case"premidpost":return Object(Xn.c)();case"vpaid":return Object(Xn.e)()}var a=fn(t);if(t.dryrun||ci||!1===i.headerBidding||""===a)return a;if(!0===PoWaSettings.queryStringObj.wpvAdTagPromise)return new Promise(function(t,e){setTimeout(function(){t(a+"&_________________________&_________________________&_________________________")},3e3)});var r=gn({powa:e,videoData:n});return"function"==typeof window.directToDFPCheck&&!0===window.directToDFPCheck(r)?a:new Promise(function(t,n){Bn.promiseAdTagWithBid({timeout:PoWaSettings.queryStringObj.wpvApsTimeout?PoWaSettings.queryStringObj.wpvApsTimeout:1500,powa:e,adTag:a,debug:o}).then(t)})},skipOnClick:!1,timeouts:{standard:{vastLoad:function(t){return ui||t.getDataset().adTimeouts.vastLoad},videoLoad:function(t){return ui||t.getDataset().adTimeouts.videoLoad},adStart:function(t){return ui||t.getDataset().adTimeouts.adStart}},preload:{vastLoad:ui||5,videoLoad:ui||5,adStart:ui||3},mediaTailor:{session:2e3,tracking:2e3}},moatID:"washingtonpostjsvideo715452244896",adTeardown:!0},PoWaSettings.imageResizer=PoWaSettings.imageResizer||function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,o=t.url,a=void 0===o?"https://www.washingtonpost.com/posttv/resources/img/posttv/posttv_error_black.jpg":o,r=t.height,s=void 0===r?9:r,c=t.width,l=void 0===c?16:c;return l>s?(e=i,n=i*(s/l)):(n=i,e=i*(l/s)),"https://img.washingtonpost.com/wp-apps/imrs.php?src=".concat(a,"&w=").concat(e,"&h=").concat(n)},PoWaSettings.maxBitrate=PoWaSettings.maxBitrate||{mobile:300,tablet:600,desktop:1200},PoWaSettings.org=PoWaSettings.org||"wapo",PoWaSettings.splitTests=PoWaSettings.splitTests||{},PoWaSettings.powaTrack=PoWaSettings.powaTrack||{reportSkipped:!0},PoWaSettings.streamPreference=PoWaSettings.streamPreference||["_master.m3u8","_mobile.m3u8",".m3u8",".mp4",".webm"],PoWaSettings.videoAPIURL=PoWaSettings.videoAPIURL||function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(r.get)(t,"api","prod"),n="prod"===e?"https://video-api.washingtonpost.com/api/v1/":"https://video-api.".concat(e,".washpost.arcpublishing.com/api/v1/"),i=Ue();if(PoWaSettings.queryStringObj.wpvInternalApi)return"https://zdd8411gd3.execute-api.us-east-1.amazonaws.com/default/wpvInternal?_id=".concat(t.uuid);switch(t.type||"video"){case"live":return"".concat(n,"generic/findLive");case"playlist":return"".concat(n,"ans/playlists/findByPlaylist?name=").concat(t.playlist);case"recommended":return Object(r.upgradeQueryString)(PoWaSettings.videoAPIURL({api:t.api,uuid:t.uuid}),{recommendedPlaylist:1});case"video":if("prod"===e){var o="".concat(n,"ansvideos/findByUuid?uuid=").concat(t.uuid);return Be()?o:$e()?o:Object(r.upgradeQueryString)(o,{domain:i})}return"".concat(n,"ansvideos/findByUuid?uuid=").concat(t.uuid,"&src=").concat(i);case"videos":var a=t.uuids.map(function(t){return"uuid=".concat(t)}).join("&");return"".concat(n,"ansvideos/findByUuids?").concat(a)}};var di=[];PoWaSettings.videoAPI=PoWaSettings.videoAPI||function(t){if(PoWaSettings.queryStringObj.wpvGlobalContent&&"video"===t.type&&"prod"===Object(r.get)(t,"api","prod")){var e=function(t){var e=function(e){return"video"===e.type&&e._id===t},n=Object(r.get)(window,"Fusion.globalContent.content_elements",[]),i=n.filter(e);if(i.length>0)return i[0];var o=n.filter(function(t){return"story"===t.type}).map(function(t){var n=Object(r.get)(t,"content_elements",[]).filter(e);if(n.length>0)return n[0]}).filter(function(t){return t});if(o.length>0)return o[0];var a=Object(r.get)(window,"Fusion.globalContent.related_content.primary_slot[0]",{}),s=Object(r.get)(window,"Fusion.globalContent.related_content.secondary_slot[0]",{}),c=Object(r.get)(window,"Fusion.globalContent.related_content.tertiary_slot[0]",{});return e(a)?a:e(s)?s:e(c)?c:void 0}(t.uuid);if(e)return Promise.resolve(e)}var n=PoWaSettings.videoAPIURL(t);return new Promise(function(e,i){di.includes(n)&&i({error:"jsonp request failed"});var o=(t.uuid||t.playlist).replace(/\W/g,"");Object(r.getJSONP)({id:o,url:n,resolve:e,reject:function(t){di.push(n),t.error="jsonp request failed",i(t)},callbackParam:"cb"})})};var pi=function(t){var e={vastLoad:3,videoLoad:3,adStart:3};return"true"===t.dataset.autoplay||"true"===t.dataset.viewportAutoplay?e={vastLoad:5,videoLoad:5,adStart:5}:"true"===t.dataset.prerollOnly&&(e={vastLoad:8,videoLoad:8,adStart:8}),JSON.stringify(e)};function hi(t){if(oi&&!window.Fusion)return null!==t.closest('[data-elm-loc="0"]');if(oi&&window.Fusion){var e=[];return e.push(Object(r.get)(window,"Fusion.globalContent.content_elements[0]")),e.push(Object(r.get)(window,"Fusion.globalContent.related_content.primary_slot[0]")),(e=e.filter(function(e){return e&&e._id===t.dataset.uuid})).length>0}return!1}PoWaSettings.powaUp.element.push(function(t){return new Promise(function(e,n){var i,o,a;t.forEach(function(t){var e,n,o;void 0===t.dataset.lazyload&&(We()?t.dataset.lazyload=!1:Object(r.isElementInViewport)(t)||hi(t)||(t.dataset.lazyload=!0)),Object(r.parseString)(t.dataset.lazyload)&&(t.dataset.initOnScroll=!0),"0"===t.dataset.powaIndex&&(i=t,void 0===t.dataset.sticky&&(t.dataset.sticky=!0),oi&&void 0===t.dataset.adPreload&&(t.dataset.adPreload=!0)),t.setAttribute("data-player-type",(e=t,n=/^(fbInstant|amp|pwa)$/.test(PoWaSettings.queryStringObj.embedContext)?PoWaSettings.queryStringObj.embedContext.toLowerCase():"",o="posttv-embed".concat(n?"-"+n:""),e.getAttribute("data-player-type")?o=e.getAttribute("data-player-type"):"true"===e.getAttribute("data-discovery")?o="posttv-embed-playlist":!0===Object(r.get)(window,"wp_meta_data.isHomepage")||"homepage"===Object(r.get)(window,"Fusion.metas.contentType.value")?o="posttv-embed-hp":window.self!==window.top?o="posttv-embed-iframe":window.wp_pb&&/video-leaf-page/.test(window.wp_pb.pageName)&&(o="posttv-leaf"),o)),t.getAttribute("data-ad-timeouts")||t.setAttribute("data-ad-timeouts",pi(t));var a,s,c=t.getAttribute("data-controls");c&&"wapo"!==c||("explorer"===PoWaSettings.client.browserName?t.setAttribute("data-controls","native"):t.setAttribute("data-controls",!1)),t.setAttribute("data-mobile-controls",!1),Wn.set(t),window.self!==window.top&&li.isIOS&&t.classList.add("powa-ios"),li.isMobile&&t.classList.add("mobile-player"),t.setAttribute("data-device-class",li.isMobile?"mobile":li.isTablet?"tablet":"deskweb"),"true"===t.dataset.autoplayOnDesktop&&PoWaSettings.client.isDesktop&&(t.dataset.autoplay=!0),si&&(t.dataset.ads=!1,t.dataset.mediaTailor=!1),(ci||Ne()||!1===t.dataset.ads||!1===(a=PoWaSettings.videoSupport.hls||PoWaSettings.videoSupport.hlsJS,s=PoWaSettings.streamPreference.includes(".m3u8"),a&&s)||"none"===t.dataset.hls)&&(t.dataset.mediaTailor=!1),Object(r.get)(window,"wpAdFusion.commercialNode","").startsWith("sports/launcher")&&(t.dataset.playthrough=!1),"template/article-mono"===Object(r.get)(window,"Fusion.template")&&void 0===t.dataset.blurb&&void 0===t.dataset.discovery&&(t.dataset.blurb=!0),(ze()||We())&&void 0===t.dataset.autoinit&&(t.dataset.autoinit=!0),"true"===t.dataset.preview2&&(t.dataset.autoplay=!1,t.dataset.muted=!1,t.dataset.adPreload=!0),$e()&&(t.dataset.ads=!1,t.dataset.mediaTailor=!1,t.dataset.promoVideo=!1)}),Promise.all(["function"!=typeof window.vidExclusions?Object(r.promiseScript)("https://www.washingtonpost.com/wp-stat/advertising/pseudo-static/vidExclusions/vid_exclusions.min.js").catch(r.noop):void 0,"object"!==ei(window.VideoAnalytics)?Object(r.promiseScript)(bn).catch(r.noop):void 0,oi&&i?(o=i.dataset.uuid,a=i,new Promise(function(t,e){window.powaData=window.powaData||{},window.powaData[o]?t(window.powaData[o]):PoWaSettings.videoAPI({api:a.dataset.api,type:"video",uuid:o}).then(function(n){var i=Array.isArray(n)?n[0]:n;i?(window.powaData[o]=i,t(i)):e({uuid:o,error:"no video data",message:"No video data available for ".concat(o,".")})}).catch(e)})).then(function(t){return function(t,e){var n=Object(r.get)(e,"additional_properties.viewportAutoplayConfig");if(n){if("string"==typeof n)try{n=JSON.parse(n)}catch(t){console.debug("invalid autoplay config json")}PoWaSettings.WapoViewportAutoplaySettings=n}if(null===t.getAttribute("data-preroll-only")&&!0===Xe.allowedOnPage()){var i=t.getAttribute("data-viewport-autoplay");(null===i||"null"===i||void 0===i)&&(t.setAttribute("data-viewport-autoplay",!0),t.setAttribute("data-muted",!0),t.setAttribute("data-autoinit",!0),t.setAttribute("data-bandito",!1),t.setAttribute("data-promo-video",!1),t.setAttribute("data-ad-timeouts",pi(t)),t.setAttribute("data-ad-preload",!1))}}(i,t)}).catch(r.noop):void 0]).then(e).catch(e)})}),PoWaSettings.powaUp.videoData.unshift(function(t,e){var n=e.getElement();return t.forEach(function(t){if(!("live"===t.video_type)||PoWaSettings.videoSupport.hls||PoWaSettings.videoSupport.hlsJS||(n.dataset.autoplay=!1,n.dataset.preview=!1,n.dataset.preview2=!1),PoWaSettings.queryStringObj.wpvResourceNotFound?t.streams.forEach(function(t){var e=t.url.split(".");e[e.length-1]="notfound.".concat(e[e.length-1]),t.url=e.join(".")}):PoWaSettings.queryStringObj.wpvResourceTimeout?t.streams.forEach(function(t){var e=new URL(t.url);e.port=81,t.url=e.toString()}):PoWaSettings.queryStringObj.wpvNoStreams&&(t.streams=[]),!0===PoWaSettings.queryStringObj["powa-media-tailor"])n.dataset.mediaTailor=!0;else if(void 0===n.dataset.mediaTailor){var i=!1;try{i=localStorage.getItem("powaForceMediaTailor")}catch(t){}if(i)n.dataset.mediaTailor=!0;else{var o=new Date(Object(r.get)(t,"first_publish_date"))>=new Date("2020-01-01T00:00:00Z"),a=gn({powa:e,videoData:t}),s="function"!=typeof window.bypassMTCheck||!0!==window.bypassMTCheck(a),c=oi,l="live"!==Object(r.get)(t,"video_type");o&&s&&c&&l?(PoWaSettings.splitTests.mediaTailorTest=PoWaSettings.splitTests.mediaTailorTest||new ve("mediaTailorTest",{facets:{true:5},prefix:"20191002"}),PoWaSettings.splitTests.mediaTailorTest.in()&&(n.dataset.mediaTailor=!0)):n.dataset.mediaTailor=!1}}if(e.getDataset().mediaTailor){var u=t.streams.filter(function(t){return t.url.endsWith(".m3u8")}),d=Object(r.get)(u,"[0].url",""),p=[{cf:"https://d1ey38xjh8uuhp.cloudfront.net",mt_manifest:"https://28cd31b27400401685479ae54319eaca.mediatailor.us-east-1.amazonaws.com/v1/master/e9f1191d12fae732242111ef6ce7698241cc33c1/staging_QA_VOD/",mt_root:"https://28cd31b27400401685479ae54319eaca.mediatailor.us-east-1.amazonaws.com/",mt_session:"https://28cd31b27400401685479ae54319eaca.mediatailor.us-east-1.amazonaws.com/v1/session/e9f1191d12fae732242111ef6ce7698241cc33c1/staging_QA_VOD/"},{cf:"https://d3mv49v0vhtu6l.cloudfront.net",mt_manifest:"https://6a591dd4ed124fe6af977fdf762c8fa9.mediatailor.us-east-1.amazonaws.com/v1/master/0f37ca159420106a1b24366d6034e2c9cece4ba4/WaPo-Sandbox/",mt_root:"https://6a591dd4ed124fe6af977fdf762c8fa9.mediatailor.us-east-1.amazonaws.com/",mt_session:"https://6a591dd4ed124fe6af977fdf762c8fa9.mediatailor.us-east-1.amazonaws.com/v1/session/0f37ca159420106a1b24366d6034e2c9cece4ba4/WaPo-Sandbox/"},{cf:"https://d21rhj7n383afu.cloudfront.net",mt_manifest:"https://d190s0exhcbt97.cloudfront.net/v1/master/0f37ca159420106a1b24366d6034e2c9cece4ba4/WaPo-Test/",mt_root:"https://d190s0exhcbt97.cloudfront.net/",mt_session:"https://d190s0exhcbt97.cloudfront.net/v1/session/0f37ca159420106a1b24366d6034e2c9cece4ba4/WaPo-Test/"},{cf:"https://d155hi8td9k2ns.cloudfront.net",mt_manifest:"https://e93f48d85da24556a0c7eecbdbd94f77.mediatailor.us-east-1.amazonaws.com/v1/master/0f37ca159420106a1b24366d6034e2c9cece4ba4/WaPo-MediaLive/",mt_root:"https://e93f48d85da24556a0c7eecbdbd94f77.mediatailor.us-east-1.amazonaws.com/",mt_session:"https://e93f48d85da24556a0c7eecbdbd94f77.mediatailor.us-east-1.amazonaws.com/v1/session/0f37ca159420106a1b24366d6034e2c9cece4ba4/WaPo-MediaLive/"}].find(function(t){return d.startsWith(t.cf)});Object(r.set)(t,"additional_properties.advertising.enableAdInsertion",!0),Object(r.set)(t,"additional_properties.advertising.adInsertionUrls",p)}else Object(r.set)(t,"additional_properties.advertising.enableAdInsertion",!1)}),Promise.all([]).then(function(){return Promise.resolve(t)})}),PoWaSettings.promo=PoWaSettings.promo?PoWaSettings.promo:{size:"medium",style:Ot+Jn+"\n\t.powa-shot-play-btn {\n\t\tcursor: pointer;\n\t\tfont-size: 16px;\n\t\tline-height: 20px;\n\t\tcolor: #EEE;\n\t\tpadding: 15px 20px;\n\t\tborder-radius: 4px;\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tmargin: 20px;\n\t\tbackground-color: rgba(0,0,0,.8);\n\t}\n",template:function(t){var e,n=t.powa,i=n.getDataset(),o=n.getElement(),a=t.videoData,s=i.preview2,c=!(!i.playButtonCenter&&!oi),l=!(!i.playButtonFlex&&!i.preview2&&ze()),u="live"===a.video_type,d=!window.matchMedia("(prefers-reduced-motion)").matches&&!1!==i.promoVideo,p=Object(r.get)(a,"additional_properties.gifAsThumbnail"),h=d&&p?Object(m.find)(a.streams,function(t){return"gif-mp4"===Object(r.get)(t,"stream_type")&&!t.url.includes("//wapovod.akamaized.net/")}):null,g=d&&p&&!h?Object(m.find)(a.streams,function(t){return"gif"===Object(r.get)(t,"stream_type")&&!t.url.includes("//wapovod.akamaized.net/")}):null,f=o.offsetWidth?o.offsetWidth:800;function v(t){return c&&u?'<div class="powa-shot-live-badge franklin-light">LIVE</div>':""}i.img&&(e=i.img),i.imgMedium&&f>400&&(e=i.imgMedium);var b=!0===i.includeDuration||void 0===i.includeDuration,y=i.customBtnText?i.customBtnText:u?"LIVE":"",w=a.duration&&b&&!u?Object(r.formatTime)(a.duration/1e3):"";var k=function(t){var n=Object(r.get)(t,"promo_image.url",""),i=Fe(Object(r.get)(t,"additional_properties.imageResizerUrls",[]),f);return(e||(g&&g.url?g.url:i&&i.url?i.url:n)).replace(ni,"")}(a);return'\n\t\t\t<div class="powa-shot-image powa-click-promo-play" style="background-image: url(\''.concat(k,'\')">\n\t\t\t\t<div class="powa-shot-title franklin-light ').concat(v()?"live-badge":"",'">').concat(t.title?t.title:"","</div>\n\t\t\t\t").concat(v(),"\n\t\t\t\t").concat(function(t,e){if(s)return'<span class="'.concat(Te,'-placeholder"></span>');if(h){var n=h.url;return'<video class="powa-shot-promo-video" src="'.concat(n,'" data-poster="').concat(e,'" data-autoplay="true" playsinline muted loop> </video>')}return""}(0,k),"\n\t\t\t\t").concat(function(t){return t.hideBtn?"":c?'\n\t\t\t\t\t<div class="powa-shot-play-btn powa-click-promo-play center">\n\t\t\t\t\t\t<div class="powa-shot-btn-wrapper">\n\t\t\t\t\t\t\t'.concat(Object(r.svgIcon)("play","powa-shot-play-icon","powa-shot-click-play","powa-shot-play-btn-icon"),"\n\t\t\t\t\t\t\t").concat(Object(r.svgIcon)("spinner","powa-shot-loading-icon","powa-shot-click-play","powa-shot-play-btn-icon","powa-spin"),"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t"):l?'\n\t\t\t\t\t<div class="powa-shot-play-btn-flex-wrapper">\n\t\t\t\t\t\t<div class="powa-shot-play-btn-flex-container">\n\t\t\t\t\t\t\t<div class="powa-shot-play-btn powa-click-promo-play wpv-flex '.concat(u?"live":"",'">\n\t\t\t\t\t\t\t\t').concat(Object(r.svgIcon)("play","powa-shot-play-icon","powa-shot-click-play","powa-shot-play-btn-icon"),"\n\t\t\t\t\t\t\t\t").concat(Object(r.svgIcon)("spinner","powa-shot-loading-icon","powa-shot-click-play","powa-shot-play-btn-icon","powa-spin"),'\n\t\t\t\t\t\t\t\t<span class="play-text powa-custom-btn-text franklin-bold">').concat(y,'</span><span class="play-duration powa-shot-duration franklin-light"> ').concat(w,"</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t"):'\n\t\t\t\t\t<div class="powa-shot-play-btn powa-click-promo-play bottom '.concat(u?"live":"",'">\n\t\t\t\t\t\t').concat(Object(r.fontAwesomeIcon)("play","powa-shot-play-icon","powa-shot-click-play","powa-shot-play-btn-icon"),"\n\t\t\t\t\t\t").concat(Object(r.fontAwesomeIcon)("spinner","powa-shot-loading-icon","powa-shot-click-play","powa-shot-play-btn-icon","powa-spin"),'\n\t\t\t\t\t\t<span class="play-text powa-custom-btn-text franklin-bold">').concat(y,'</span><span class="play-duration powa-shot-duration franklin-light"> ').concat(w,"</span>\n\t\t\t\t\t</div>\n\t\t\t\t")}(t),"\n\t\t\t\t").concat(function(t){var e="The Washington Post"===Object(r.get)(t,"videoData.source.name")?"wapo-".concat(Object(r.get)(t,"videoData.additional_properties.videoCategory")):"";return'<div class="powa-shot-logo" data-logo="'.concat(e,'"></div>')}(t),"\n\t\t\t</div>\n\t\t")}},new i.a({endpoints:{clicked:"https://loxodo-ct.ext.nile.works/api/save-event",served:"https://loxodo-ct.ext.nile.works/api/save-event",variant:function(t){return"https://www.washingtonpost.com/bandito/tests-pb/?ids=".concat(t,"&meta=1")}}}),PoWaSettings.powaRenderListening=PoWaSettings.powaRenderListening||window.addEventListener("powaRender",function(t){var e=Object(r.get)(t,"detail.id"),n=Object(r.get)(t,"detail.powa"),i=n.getDataset(),a=n.getVideoData(),s=n.getElement(),c=i.debug,l="live"===a.video_type;if(new yn({id:e,powa:n}),!i.prerollOnly){new o.a({id:e,powa:n}),i.blurb&&new En({id:e,powa:n,style:"\n\t.inline-video-caption {\n\t\tdisplay: none !important;\n\t}\n\t.inline-video-caption-show.inline-video-caption {\n\t\tdisplay: block !important;\n\t}\n\t.powa-blurb-wrapper {\n\t\tfont-size: 15px;\n\t\tline-height: 1.25em;\n\t\tdisplay: block !important;\n\t\tcolor: #6e6e6e\n\t}\n",template:_n}),new Wn({id:e,powa:n}),i.preview2&&new Me({id:e,powa:n,debug:c}),!(l&&ai)&&new w({id:e,powa:n,embedUrl:function(t){return"https://www.washingtonpost.com/video/c/embed/".concat(t._id)}});var u=s.querySelector("video.powa-shot-promo-video");if(u&&"true"===u.getAttribute("data-autoplay")){var d=function(){u&&(u.parentNode.removeChild(u),u.src="",u.load(),u=null)},p=u.play();p&&p.then(function(){n.trigger("gifmp4-autoplay"),n.once("mediaStart",d),n.once("firstFrame",d)}).catch(function(){n.trigger("gifmp4-autoplay-blocked"),d()})}}})||!0,PoWaSettings.powaReadyListening=PoWaSettings.powaReadyListening||window.addEventListener("powaReady",function(t){var e=Object(r.get)(t,"detail.id"),n=Object(r.get)(t,"detail.powa"),i=n.getVideoData(),o=n.getDataset(),s=o.debug,c=window.powas[e],l=n.getElement(),u=l.adSettings||o.adSettings||{},m=!!u.adSetZone;if(o.mediaTailor&&new v.a({powa:n,moat:!Ne()&&{id:"washpostssaivideo348212702549",slicers:function(t){var e=t.powa,n=t.videoData,i=e.getDataset(),o=e.getElement(),a=i.adZone||Object(r.get)(n,"additional_properties.advertising.videoAdZone");i.prerollOnly&&m&&(a=u.adSetZone);var s=i.autoplay||i.viewportAutoplayAllowed;return{zMoatPT:i.playerType,zMoatTO:"mt",zMoatSub:a,zMoatSI:null!==o.closest(".powa-sticky-stick.powa-sticky"),zMoatSR:s?"autoplay":"click-to-play",zMoatVP:i.powaIndex}}},debug:s}),!Ne()&&(new g.a({id:e,orgID:PoWaSettings.org,comscoreID:"3005617",categoryFilter:function(t){return["segments","video-elements","other"].includes(t)?void 0:t}}),!1!==o.ads)){var b="false";n.on(h.a.EVENTS.ENGAGE,function(){return b="true"}),n.on(h.a.EVENTS.DISENGAGE,function(){return b="false"}),new a.a({powa:n,moatID:"washingtonpostjsvideo715452244896",slicers:function(t){var e=o.adZone||Object(r.get)(i,"additional_properties.advertising.videoAdZone");o.prerollOnly&&m&&(e=u.adSetZone);var n=o.autoplay||o.viewportAutoplayAllowed;return{zMoatPT:o.playerType,zMoatTO:1e3*o.adTimeouts.adStart,zMoatSub:e,zMoatSI:b,zMoatSR:n?"autoplay":"click-to-play",zMoatVP:o.powaIndex}}}),ci||new d({powa:n,iasID:"8221"})}var y="live"===i.video_type;function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.prerollOnly||(Object(f.b)(c),o.controls&&"wapo"!==o.controls||new he({id:e,powa:n,scrubber:!0,playPause:!1,volume:!0,fullscreen:!0,share:!0,progress:!0,overlay:!0,pip:y,extras:["cc"],offset:t.offset}))}if(y&&o.autoplay&&o.muted&&o.preview&&!o.preview2){var k={id:e,powa:n,onWatch:function(){w(),n.mute(!1),n.volume(1),n.trigger("play"),n.trigger("trackProgress",0,i.duration/1e3)}};o.customBtnText&&(k.playtext=o.customBtnText),new Se(k)}else n.once(window.PoWa.EVENTS.START,w);new p.a({powa:n,playthroughFetchPercentage:.8}),oi&&(new h.a({powa:n,closeText:Object(r.fontAwesomeIcon)("times"),offset:li.isMobile?"60px":"13px"}),li.isMobile&&new xn({powa:n})),new Cn({powa:n}),!y&&oi&&new ye({id:e,powa:n,videoData:i}),o.viewportAutoplay&&!an.shouldAutoplay({id:e,powa:n})&&new Xe({id:e,powa:n,isPrimarySlot:hi(l)}),y&&(o.highlights||"highlights"===ri||"live-all"===ri)&&(new an({id:e,powa:n}),new Gn({id:e,powa:n})),new qn({id:e,powa:n})})||!0,PoWaSettings.error=PoWaSettings.error||{template:function(t){var e=Object(r.get)(t,"id"),n=Object(r.get)(t,"powa");if(n){var i=n.getVideoData();Object(r.isEmpty)(i)&&!Object(r.isEmpty)(t.videoData)&&(i=t.videoData);var o=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,i=Object(r.get)(t,"promo_image.url",""),o=Fe(Object(r.get)(t,"additional_properties.imageResizerUrls",[]),n);try{e=t.additional_properties.gifAsThumbnail?Object(m.find)(t.streams,function(t){return t&&t.height&&t.width&&"gif"===t.stream_type}):null}catch(t){e=null}return(e&&e.url?e.url:o&&o.url?o.url:i).replace(ni,"")}(i),a="live"===i.video_type,s=934===Object(r.get)(t,"eventID")||"ended"===i.status||Object(r.get)(t,"detail.forceEnded"),c=Object(r.get)(i,"additional_properties.livePlayThroughToVod"),l=Object(r.get)(i,"additional_properties.liveRecordingUuid"),u=Object(r.get)(i,"additional_properties.liveRecordingStatus","").toLowerCase(),d=a&&s&&c&&l&&!("published"===u)?"This live event has ended. A full recording will be available soon.":a&&s?"This live event has ended.":!a||PoWaSettings.videoSupport.hls||PoWaSettings.videoSupport.hlsJS?"This video is currently not available":"Were sorry. Your browser does not support live video streaming.<br>Please try a different browser.";return o&&Object(r.addCSS)("#".concat(e," .powa-outage {\n\t\t\t\tbackground-image: url('").concat(o,"');\n\t\t\t}"),"powa-outage-".concat(e,"-img")),Object(r.addCSS)("\n    .powa-outage {\n        display: -webkit-flex;\n        -webkit-align-items: center;\n        -webkit-justify-content: space-around;\n    }\n\n    .powa-outage-message {\n        color: white;\n        font-size: 20px;\n        margin: 0;\n        width: 90%;\n        padding: 20px 30px;\n        text-shadow: none;\n        line-height: 1.3em;\n        background-color: rgba(0,0,0,0.7);\n        border-radius: 10px;\n        box-sizing: border-box;\n        text-align: center;\n    }\n","powa-outage-wapo"),'\n\t\t\t<p class="powa-outage-message franklin-light">'.concat(d,"</p>\n\t\t")}}},PoWaSettings.powaErrorListening=PoWaSettings.powaErrorListening||window.addEventListener("powaError",function(t){var e=Object(r.get)(t,"detail.id"),n=Object(r.get)(t,"detail.powa");if(n){var i=n.getElement(),o=n.getVideoData(),a="live"===o.video_type,s="ended"===o.status||Object(r.get)(t,"detail.forceEnded"),c=Object(r.get)(o,"additional_properties.livePlayThroughToVod"),l=Object(r.get)(o,"additional_properties.liveRecordingUuid"),u=Object(r.get)(o,"additional_properties.liveRecordingStatus","").toLowerCase();if(a&&s&&c&&l&&"published"===u)return Object(k.$)(i.querySelector(".powa-outage")).hide(),n.trigger("live_vod_recording_loading"),void n.loadVideo(l);new yn({id:e,powa:n})}}),PoWaSettings.hlsjs=PoWaSettings.hlsjs||{url:"https://www.washingtonpost.com/player/_vendor/hlsjs/0.12.4/hls.min.js"},PoWaSettings.comscore=PoWaSettings.comscore||{url:"https://www.washingtonpost.com/player/_vendor/comscore/5.2.0/streamsense.min.js"},(PoWaSettings.queryStringObj.wpvAvoidContainerResizeListener||li.isMobile&&("wpvIframe"===window.pageType||window.location.pathname.startsWith("/video/c/embed/"))&&document.referrer.includes("facebook.com"))&&(PoWaSettings.container=PoWaSettings.container||{interactions:[["fullscreenchange","mozfullscreenchange","msfullscreenchange","webkitfullscreenchange"],"mouseenter","mouseleave","touchstart"]}),PoWaSettings.WapoViewportAutoplaySettings=PoWaSettings.WapoViewportAutoplaySettings||{search:!0,searchRegexes:["www.google.*","news.google.*","com.google","search.yahoo.com","www.bing.com","duckduckgo.com"],social:!0,socialRegexes:["facebook.com","/t.co/","reddit.com","linkedin.com","youtube.com","digg.com"],mobile:!0}}]));